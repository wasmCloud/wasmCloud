var MS=Object.defineProperty;var IS=(e,t,n)=>t in e?MS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var TS=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var b=(e,t,n)=>(IS(e,typeof t!="symbol"?t+"":t,n),n);var U3=TS((K3,po)=>{function NS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Ly(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Uy={exports:{}},ed={},Vy={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bl=Symbol.for("react.element"),jS=Symbol.for("react.portal"),FS=Symbol.for("react.fragment"),DS=Symbol.for("react.strict_mode"),LS=Symbol.for("react.profiler"),US=Symbol.for("react.provider"),VS=Symbol.for("react.context"),zS=Symbol.for("react.forward_ref"),BS=Symbol.for("react.suspense"),HS=Symbol.for("react.memo"),qS=Symbol.for("react.lazy"),Mg=Symbol.iterator;function WS(e){return e===null||typeof e!="object"?null:(e=Mg&&e[Mg]||e["@@iterator"],typeof e=="function"?e:null)}var zy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},By=Object.assign,Hy={};function Us(e,t,n){this.props=e,this.context=t,this.refs=Hy,this.updater=n||zy}Us.prototype.isReactComponent={};Us.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Us.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qy(){}qy.prototype=Us.prototype;function jp(e,t,n){this.props=e,this.context=t,this.refs=Hy,this.updater=n||zy}var Fp=jp.prototype=new qy;Fp.constructor=jp;By(Fp,Us.prototype);Fp.isPureReactComponent=!0;var Ig=Array.isArray,Wy=Object.prototype.hasOwnProperty,Dp={current:null},Gy={key:!0,ref:!0,__self:!0,__source:!0};function Ky(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)Wy.call(t,r)&&!Gy.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:bl,type:e,key:o,ref:s,props:i,_owner:Dp.current}}function GS(e,t){return{$$typeof:bl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Lp(e){return typeof e=="object"&&e!==null&&e.$$typeof===bl}function KS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Tg=/\/+/g;function Ud(e,t){return typeof e=="object"&&e!==null&&e.key!=null?KS(""+e.key):t.toString(36)}function Su(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case bl:case jS:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Ud(s,0):r,Ig(i)?(n="",e!=null&&(n=e.replace(Tg,"$&/")+"/"),Su(i,t,n,"",function(u){return u})):i!=null&&(Lp(i)&&(i=GS(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Tg,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Ig(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+Ud(o,a);s+=Su(o,t,n,l,i)}else if(l=WS(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+Ud(o,a++),s+=Su(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function zl(e,t,n){if(e==null)return e;var r=[],i=0;return Su(e,r,"","",function(o){return t.call(n,o,i++)}),r}function YS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var dn={current:null},Cu={transition:null},ZS={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:Cu,ReactCurrentOwner:Dp};Be.Children={map:zl,forEach:function(e,t,n){zl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return zl(e,function(){t++}),t},toArray:function(e){return zl(e,function(t){return t})||[]},only:function(e){if(!Lp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Be.Component=Us;Be.Fragment=FS;Be.Profiler=LS;Be.PureComponent=jp;Be.StrictMode=DS;Be.Suspense=BS;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZS;Be.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=By({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Dp.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Wy.call(t,l)&&!Gy.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:bl,type:e.type,key:i,ref:o,props:r,_owner:s}};Be.createContext=function(e){return e={$$typeof:VS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:US,_context:e},e.Consumer=e};Be.createElement=Ky;Be.createFactory=function(e){var t=Ky.bind(null,e);return t.type=e,t};Be.createRef=function(){return{current:null}};Be.forwardRef=function(e){return{$$typeof:zS,render:e}};Be.isValidElement=Lp;Be.lazy=function(e){return{$$typeof:qS,_payload:{_status:-1,_result:e},_init:YS}};Be.memo=function(e,t){return{$$typeof:HS,type:e,compare:t===void 0?null:t}};Be.startTransition=function(e){var t=Cu.transition;Cu.transition={};try{e()}finally{Cu.transition=t}};Be.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Be.useCallback=function(e,t){return dn.current.useCallback(e,t)};Be.useContext=function(e){return dn.current.useContext(e)};Be.useDebugValue=function(){};Be.useDeferredValue=function(e){return dn.current.useDeferredValue(e)};Be.useEffect=function(e,t){return dn.current.useEffect(e,t)};Be.useId=function(){return dn.current.useId()};Be.useImperativeHandle=function(e,t,n){return dn.current.useImperativeHandle(e,t,n)};Be.useInsertionEffect=function(e,t){return dn.current.useInsertionEffect(e,t)};Be.useLayoutEffect=function(e,t){return dn.current.useLayoutEffect(e,t)};Be.useMemo=function(e,t){return dn.current.useMemo(e,t)};Be.useReducer=function(e,t,n){return dn.current.useReducer(e,t,n)};Be.useRef=function(e){return dn.current.useRef(e)};Be.useState=function(e){return dn.current.useState(e)};Be.useSyncExternalStore=function(e,t,n){return dn.current.useSyncExternalStore(e,t,n)};Be.useTransition=function(){return dn.current.useTransition()};Be.version="18.2.0";Vy.exports=Be;var v=Vy.exports;const pe=Ly(v),Yy=NS({__proto__:null,default:pe},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JS=v,XS=Symbol.for("react.element"),QS=Symbol.for("react.fragment"),eC=Object.prototype.hasOwnProperty,tC=JS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nC={key:!0,ref:!0,__self:!0,__source:!0};function Zy(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)eC.call(t,r)&&!nC.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:XS,type:e,key:o,ref:s,props:i,_owner:tC.current}}ed.Fragment=QS;ed.jsx=Zy;ed.jsxs=Zy;Uy.exports=ed;var R=Uy.exports,Jy={exports:{}},jn={},Xy={exports:{}},Qy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,ee){var ce=B.length;B.push(ee);e:for(;0<ce;){var Ee=ce-1>>>1,Ne=B[Ee];if(0<i(Ne,ee))B[Ee]=ee,B[ce]=Ne,ce=Ee;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var ee=B[0],ce=B.pop();if(ce!==ee){B[0]=ce;e:for(var Ee=0,Ne=B.length,De=Ne>>>1;Ee<De;){var je=2*(Ee+1)-1,ct=B[je],Ye=je+1,de=B[Ye];if(0>i(ct,ce))Ye<Ne&&0>i(de,ct)?(B[Ee]=de,B[Ye]=ce,Ee=Ye):(B[Ee]=ct,B[je]=ce,Ee=je);else if(Ye<Ne&&0>i(de,ce))B[Ee]=de,B[Ye]=ce,Ee=Ye;else break e}}return ee}function i(B,ee){var ce=B.sortIndex-ee.sortIndex;return ce!==0?ce:B.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,m=!1,g=!1,C=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var ee=n(u);ee!==null;){if(ee.callback===null)r(u);else if(ee.startTime<=B)r(u),ee.sortIndex=ee.expirationTime,t(l,ee);else break;ee=n(u)}}function _(B){if(g=!1,w(B),!m)if(n(l)!==null)m=!0,ie(P);else{var ee=n(u);ee!==null&&$e(_,ee.startTime-B)}}function P(B,ee){m=!1,g&&(g=!1,y(j),j=-1),h=!0;var ce=f;try{for(w(ee),d=n(l);d!==null&&(!(d.expirationTime>ee)||B&&!ae());){var Ee=d.callback;if(typeof Ee=="function"){d.callback=null,f=d.priorityLevel;var Ne=Ee(d.expirationTime<=ee);ee=e.unstable_now(),typeof Ne=="function"?d.callback=Ne:d===n(l)&&r(l),w(ee)}else r(l);d=n(l)}if(d!==null)var De=!0;else{var je=n(u);je!==null&&$e(_,je.startTime-ee),De=!1}return De}finally{d=null,f=ce,h=!1}}var I=!1,M=null,j=-1,W=5,K=-1;function ae(){return!(e.unstable_now()-K<W)}function V(){if(M!==null){var B=e.unstable_now();K=B;var ee=!0;try{ee=M(!0,B)}finally{ee?X():(I=!1,M=null)}}else I=!1}var X;if(typeof p=="function")X=function(){p(V)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,we=Q.port2;Q.port1.onmessage=V,X=function(){we.postMessage(null)}}else X=function(){C(V,0)};function ie(B){M=B,I||(I=!0,X())}function $e(B,ee){j=C(function(){B(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){m||h||(m=!0,ie(P))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(B){switch(f){case 1:case 2:case 3:var ee=3;break;default:ee=f}var ce=f;f=ee;try{return B()}finally{f=ce}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,ee){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ce=f;f=B;try{return ee()}finally{f=ce}},e.unstable_scheduleCallback=function(B,ee,ce){var Ee=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ee+ce:Ee):ce=Ee,B){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=ce+Ne,B={id:c++,callback:ee,priorityLevel:B,startTime:ce,expirationTime:Ne,sortIndex:-1},ce>Ee?(B.sortIndex=ce,t(u,B),n(l)===null&&B===n(u)&&(g?(y(j),j=-1):g=!0,$e(_,ce-Ee))):(B.sortIndex=Ne,t(l,B),m||h||(m=!0,ie(P))),B},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(B){var ee=f;return function(){var ce=f;f=ee;try{return B.apply(this,arguments)}finally{f=ce}}}})(Qy);Xy.exports=Qy;var rC=Xy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ew=v,On=rC;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tw=new Set,Ba={};function Eo(e,t){ws(e,t),ws(e+"Capture",t)}function ws(e,t){for(Ba[e]=t,e=0;e<t.length;e++)tw.add(t[e])}var Zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wf=Object.prototype.hasOwnProperty,iC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ng={},jg={};function oC(e){return Wf.call(jg,e)?!0:Wf.call(Ng,e)?!1:iC.test(e)?jg[e]=!0:(Ng[e]=!0,!1)}function sC(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function aC(e,t,n,r){if(t===null||typeof t>"u"||sC(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function fn(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Kt[e]=new fn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Kt[t]=new fn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Kt[e]=new fn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Kt[e]=new fn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Kt[e]=new fn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Kt[e]=new fn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Kt[e]=new fn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Kt[e]=new fn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Kt[e]=new fn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Up=/[\-:]([a-z])/g;function Vp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Up,Vp);Kt[t]=new fn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Up,Vp);Kt[t]=new fn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Up,Vp);Kt[t]=new fn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Kt[e]=new fn(e,1,!1,e.toLowerCase(),null,!1,!1)});Kt.xlinkHref=new fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Kt[e]=new fn(e,1,!1,e.toLowerCase(),null,!0,!0)});function zp(e,t,n,r){var i=Kt.hasOwnProperty(t)?Kt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(aC(t,n,i,r)&&(n=null),r||i===null?oC(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var li=ew.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bl=Symbol.for("react.element"),qo=Symbol.for("react.portal"),Wo=Symbol.for("react.fragment"),Bp=Symbol.for("react.strict_mode"),Gf=Symbol.for("react.profiler"),nw=Symbol.for("react.provider"),rw=Symbol.for("react.context"),Hp=Symbol.for("react.forward_ref"),Kf=Symbol.for("react.suspense"),Yf=Symbol.for("react.suspense_list"),qp=Symbol.for("react.memo"),pi=Symbol.for("react.lazy"),iw=Symbol.for("react.offscreen"),Fg=Symbol.iterator;function Qs(e){return e===null||typeof e!="object"?null:(e=Fg&&e[Fg]||e["@@iterator"],typeof e=="function"?e:null)}var xt=Object.assign,Vd;function wa(e){if(Vd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vd=t&&t[1]||""}return`
`+Vd+e}var zd=!1;function Bd(e,t){if(!e||zd)return"";zd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{zd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?wa(e):""}function lC(e){switch(e.tag){case 5:return wa(e.type);case 16:return wa("Lazy");case 13:return wa("Suspense");case 19:return wa("SuspenseList");case 0:case 2:case 15:return e=Bd(e.type,!1),e;case 11:return e=Bd(e.type.render,!1),e;case 1:return e=Bd(e.type,!0),e;default:return""}}function Zf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wo:return"Fragment";case qo:return"Portal";case Gf:return"Profiler";case Bp:return"StrictMode";case Kf:return"Suspense";case Yf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rw:return(e.displayName||"Context")+".Consumer";case nw:return(e._context.displayName||"Context")+".Provider";case Hp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qp:return t=e.displayName||null,t!==null?t:Zf(e.type)||"Memo";case pi:t=e._payload,e=e._init;try{return Zf(e(t))}catch{}}return null}function uC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zf(t);case 8:return t===Bp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ow(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cC(e){var t=ow(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hl(e){e._valueTracker||(e._valueTracker=cC(e))}function sw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ow(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Gu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Jf(e,t){var n=t.checked;return xt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Dg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Fi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function aw(e,t){t=t.checked,t!=null&&zp(e,"checked",t,!1)}function Xf(e,t){aw(e,t);var n=Fi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qf(e,t.type,n):t.hasOwnProperty("defaultValue")&&Qf(e,t.type,Fi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Lg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Qf(e,t,n){(t!=="number"||Gu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var xa=Array.isArray;function as(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Fi(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function eh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return xt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ug(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(G(92));if(xa(n)){if(1<n.length)throw Error(G(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Fi(n)}}function lw(e,t){var n=Fi(t.value),r=Fi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Vg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function th(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ql,cw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ql=ql||document.createElement("div"),ql.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ql.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ha(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ea={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dC=["Webkit","ms","Moz","O"];Object.keys(Ea).forEach(function(e){dC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ea[t]=Ea[e]})});function dw(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ea.hasOwnProperty(e)&&Ea[e]?(""+t).trim():t+"px"}function fw(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=dw(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var fC=xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nh(e,t){if(t){if(fC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function rh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ih=null;function Wp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var oh=null,ls=null,us=null;function zg(e){if(e=El(e)){if(typeof oh!="function")throw Error(G(280));var t=e.stateNode;t&&(t=od(t),oh(e.stateNode,e.type,t))}}function hw(e){ls?us?us.push(e):us=[e]:ls=e}function pw(){if(ls){var e=ls,t=us;if(us=ls=null,zg(e),t)for(e=0;e<t.length;e++)zg(t[e])}}function mw(e,t){return e(t)}function gw(){}var Hd=!1;function vw(e,t,n){if(Hd)return e(t,n);Hd=!0;try{return mw(e,t,n)}finally{Hd=!1,(ls!==null||us!==null)&&(gw(),pw())}}function qa(e,t){var n=e.stateNode;if(n===null)return null;var r=od(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(G(231,t,typeof n));return n}var sh=!1;if(Zr)try{var ea={};Object.defineProperty(ea,"passive",{get:function(){sh=!0}}),window.addEventListener("test",ea,ea),window.removeEventListener("test",ea,ea)}catch{sh=!1}function hC(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ka=!1,Ku=null,Yu=!1,ah=null,pC={onError:function(e){ka=!0,Ku=e}};function mC(e,t,n,r,i,o,s,a,l){ka=!1,Ku=null,hC.apply(pC,arguments)}function gC(e,t,n,r,i,o,s,a,l){if(mC.apply(this,arguments),ka){if(ka){var u=Ku;ka=!1,Ku=null}else throw Error(G(198));Yu||(Yu=!0,ah=u)}}function ko(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function yw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bg(e){if(ko(e)!==e)throw Error(G(188))}function vC(e){var t=e.alternate;if(!t){if(t=ko(e),t===null)throw Error(G(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Bg(i),e;if(o===r)return Bg(i),t;o=o.sibling}throw Error(G(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?e:t}function ww(e){return e=vC(e),e!==null?xw(e):null}function xw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xw(e);if(t!==null)return t;e=e.sibling}return null}var _w=On.unstable_scheduleCallback,Hg=On.unstable_cancelCallback,yC=On.unstable_shouldYield,wC=On.unstable_requestPaint,At=On.unstable_now,xC=On.unstable_getCurrentPriorityLevel,Gp=On.unstable_ImmediatePriority,bw=On.unstable_UserBlockingPriority,Zu=On.unstable_NormalPriority,_C=On.unstable_LowPriority,Sw=On.unstable_IdlePriority,td=null,kr=null;function bC(e){if(kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot(td,e,void 0,(e.current.flags&128)===128)}catch{}}var fr=Math.clz32?Math.clz32:EC,SC=Math.log,CC=Math.LN2;function EC(e){return e>>>=0,e===0?32:31-(SC(e)/CC|0)|0}var Wl=64,Gl=4194304;function _a(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ju(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=_a(a):(o&=s,o!==0&&(r=_a(o)))}else s=n&~i,s!==0?r=_a(s):o!==0&&(r=_a(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-fr(t),i=1<<n,r|=e[n],t&=~i;return r}function kC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RC(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-fr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=kC(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function lh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Cw(){var e=Wl;return Wl<<=1,!(Wl&4194240)&&(Wl=64),e}function qd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Sl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fr(t),e[t]=n}function PC(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-fr(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Kp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var tt=0;function Ew(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kw,Yp,Rw,Pw,$w,uh=!1,Kl=[],Si=null,Ci=null,Ei=null,Wa=new Map,Ga=new Map,gi=[],$C="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qg(e,t){switch(e){case"focusin":case"focusout":Si=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":Wa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ga.delete(t.pointerId)}}function ta(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=El(t),t!==null&&Yp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function AC(e,t,n,r,i){switch(t){case"focusin":return Si=ta(Si,e,t,n,r,i),!0;case"dragenter":return Ci=ta(Ci,e,t,n,r,i),!0;case"mouseover":return Ei=ta(Ei,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Wa.set(o,ta(Wa.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ga.set(o,ta(Ga.get(o)||null,e,t,n,r,i)),!0}return!1}function Aw(e){var t=no(e.target);if(t!==null){var n=ko(t);if(n!==null){if(t=n.tag,t===13){if(t=yw(n),t!==null){e.blockedOn=t,$w(e.priority,function(){Rw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Eu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ch(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ih=r,n.target.dispatchEvent(r),ih=null}else return t=El(n),t!==null&&Yp(t),e.blockedOn=n,!1;t.shift()}return!0}function Wg(e,t,n){Eu(e)&&n.delete(t)}function OC(){uh=!1,Si!==null&&Eu(Si)&&(Si=null),Ci!==null&&Eu(Ci)&&(Ci=null),Ei!==null&&Eu(Ei)&&(Ei=null),Wa.forEach(Wg),Ga.forEach(Wg)}function na(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,On.unstable_scheduleCallback(On.unstable_NormalPriority,OC)))}function Ka(e){function t(i){return na(i,e)}if(0<Kl.length){na(Kl[0],e);for(var n=1;n<Kl.length;n++){var r=Kl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Si!==null&&na(Si,e),Ci!==null&&na(Ci,e),Ei!==null&&na(Ei,e),Wa.forEach(t),Ga.forEach(t),n=0;n<gi.length;n++)r=gi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<gi.length&&(n=gi[0],n.blockedOn===null);)Aw(n),n.blockedOn===null&&gi.shift()}var cs=li.ReactCurrentBatchConfig,Xu=!0;function MC(e,t,n,r){var i=tt,o=cs.transition;cs.transition=null;try{tt=1,Zp(e,t,n,r)}finally{tt=i,cs.transition=o}}function IC(e,t,n,r){var i=tt,o=cs.transition;cs.transition=null;try{tt=4,Zp(e,t,n,r)}finally{tt=i,cs.transition=o}}function Zp(e,t,n,r){if(Xu){var i=ch(e,t,n,r);if(i===null)tf(e,t,r,Qu,n),qg(e,r);else if(AC(i,e,t,n,r))r.stopPropagation();else if(qg(e,r),t&4&&-1<$C.indexOf(e)){for(;i!==null;){var o=El(i);if(o!==null&&kw(o),o=ch(e,t,n,r),o===null&&tf(e,t,r,Qu,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else tf(e,t,r,null,n)}}var Qu=null;function ch(e,t,n,r){if(Qu=null,e=Wp(r),e=no(e),e!==null)if(t=ko(e),t===null)e=null;else if(n=t.tag,n===13){if(e=yw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qu=e,null}function Ow(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xC()){case Gp:return 1;case bw:return 4;case Zu:case _C:return 16;case Sw:return 536870912;default:return 16}default:return 16}}var yi=null,Jp=null,ku=null;function Mw(){if(ku)return ku;var e,t=Jp,n=t.length,r,i="value"in yi?yi.value:yi.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return ku=i.slice(e,1<r?1-r:void 0)}function Ru(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yl(){return!0}function Gg(){return!1}function Fn(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Yl:Gg,this.isPropagationStopped=Gg,this}return xt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yl)},persist:function(){},isPersistent:Yl}),t}var Vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xp=Fn(Vs),Cl=xt({},Vs,{view:0,detail:0}),TC=Fn(Cl),Wd,Gd,ra,nd=xt({},Cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ra&&(ra&&e.type==="mousemove"?(Wd=e.screenX-ra.screenX,Gd=e.screenY-ra.screenY):Gd=Wd=0,ra=e),Wd)},movementY:function(e){return"movementY"in e?e.movementY:Gd}}),Kg=Fn(nd),NC=xt({},nd,{dataTransfer:0}),jC=Fn(NC),FC=xt({},Cl,{relatedTarget:0}),Kd=Fn(FC),DC=xt({},Vs,{animationName:0,elapsedTime:0,pseudoElement:0}),LC=Fn(DC),UC=xt({},Vs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),VC=Fn(UC),zC=xt({},Vs,{data:0}),Yg=Fn(zC),BC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qC[e])?!!t[e]:!1}function Qp(){return WC}var GC=xt({},Cl,{key:function(e){if(e.key){var t=BC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ru(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?HC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qp,charCode:function(e){return e.type==="keypress"?Ru(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ru(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),KC=Fn(GC),YC=xt({},nd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zg=Fn(YC),ZC=xt({},Cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qp}),JC=Fn(ZC),XC=xt({},Vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),QC=Fn(XC),eE=xt({},nd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tE=Fn(eE),nE=[9,13,27,32],em=Zr&&"CompositionEvent"in window,Ra=null;Zr&&"documentMode"in document&&(Ra=document.documentMode);var rE=Zr&&"TextEvent"in window&&!Ra,Iw=Zr&&(!em||Ra&&8<Ra&&11>=Ra),Jg=String.fromCharCode(32),Xg=!1;function Tw(e,t){switch(e){case"keyup":return nE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Go=!1;function iE(e,t){switch(e){case"compositionend":return Nw(t);case"keypress":return t.which!==32?null:(Xg=!0,Jg);case"textInput":return e=t.data,e===Jg&&Xg?null:e;default:return null}}function oE(e,t){if(Go)return e==="compositionend"||!em&&Tw(e,t)?(e=Mw(),ku=Jp=yi=null,Go=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Iw&&t.locale!=="ko"?null:t.data;default:return null}}var sE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sE[e.type]:t==="textarea"}function jw(e,t,n,r){hw(r),t=ec(t,"onChange"),0<t.length&&(n=new Xp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Pa=null,Ya=null;function aE(e){Gw(e,0)}function rd(e){var t=Zo(e);if(sw(t))return e}function lE(e,t){if(e==="change")return t}var Fw=!1;if(Zr){var Yd;if(Zr){var Zd="oninput"in document;if(!Zd){var ev=document.createElement("div");ev.setAttribute("oninput","return;"),Zd=typeof ev.oninput=="function"}Yd=Zd}else Yd=!1;Fw=Yd&&(!document.documentMode||9<document.documentMode)}function tv(){Pa&&(Pa.detachEvent("onpropertychange",Dw),Ya=Pa=null)}function Dw(e){if(e.propertyName==="value"&&rd(Ya)){var t=[];jw(t,Ya,e,Wp(e)),vw(aE,t)}}function uE(e,t,n){e==="focusin"?(tv(),Pa=t,Ya=n,Pa.attachEvent("onpropertychange",Dw)):e==="focusout"&&tv()}function cE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rd(Ya)}function dE(e,t){if(e==="click")return rd(t)}function fE(e,t){if(e==="input"||e==="change")return rd(t)}function hE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mr=typeof Object.is=="function"?Object.is:hE;function Za(e,t){if(mr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Wf.call(t,i)||!mr(e[i],t[i]))return!1}return!0}function nv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rv(e,t){var n=nv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nv(n)}}function Lw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uw(){for(var e=window,t=Gu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Gu(e.document)}return t}function tm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pE(e){var t=Uw(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Lw(n.ownerDocument.documentElement,n)){if(r!==null&&tm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=rv(n,o);var s=rv(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mE=Zr&&"documentMode"in document&&11>=document.documentMode,Ko=null,dh=null,$a=null,fh=!1;function iv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fh||Ko==null||Ko!==Gu(r)||(r=Ko,"selectionStart"in r&&tm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$a&&Za($a,r)||($a=r,r=ec(dh,"onSelect"),0<r.length&&(t=new Xp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ko)))}function Zl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Yo={animationend:Zl("Animation","AnimationEnd"),animationiteration:Zl("Animation","AnimationIteration"),animationstart:Zl("Animation","AnimationStart"),transitionend:Zl("Transition","TransitionEnd")},Jd={},Vw={};Zr&&(Vw=document.createElement("div").style,"AnimationEvent"in window||(delete Yo.animationend.animation,delete Yo.animationiteration.animation,delete Yo.animationstart.animation),"TransitionEvent"in window||delete Yo.transitionend.transition);function id(e){if(Jd[e])return Jd[e];if(!Yo[e])return e;var t=Yo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Vw)return Jd[e]=t[n];return e}var zw=id("animationend"),Bw=id("animationiteration"),Hw=id("animationstart"),qw=id("transitionend"),Ww=new Map,ov="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hi(e,t){Ww.set(e,t),Eo(t,[e])}for(var Xd=0;Xd<ov.length;Xd++){var Qd=ov[Xd],gE=Qd.toLowerCase(),vE=Qd[0].toUpperCase()+Qd.slice(1);Hi(gE,"on"+vE)}Hi(zw,"onAnimationEnd");Hi(Bw,"onAnimationIteration");Hi(Hw,"onAnimationStart");Hi("dblclick","onDoubleClick");Hi("focusin","onFocus");Hi("focusout","onBlur");Hi(qw,"onTransitionEnd");ws("onMouseEnter",["mouseout","mouseover"]);ws("onMouseLeave",["mouseout","mouseover"]);ws("onPointerEnter",["pointerout","pointerover"]);ws("onPointerLeave",["pointerout","pointerover"]);Eo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Eo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Eo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Eo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Eo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Eo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yE=new Set("cancel close invalid load scroll toggle".split(" ").concat(ba));function sv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,gC(r,t,void 0,e),e.currentTarget=null}function Gw(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;sv(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;sv(i,a,u),o=l}}}if(Yu)throw e=ah,Yu=!1,ah=null,e}function lt(e,t){var n=t[vh];n===void 0&&(n=t[vh]=new Set);var r=e+"__bubble";n.has(r)||(Kw(t,e,2,!1),n.add(r))}function ef(e,t,n){var r=0;t&&(r|=4),Kw(n,e,r,t)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function Ja(e){if(!e[Jl]){e[Jl]=!0,tw.forEach(function(n){n!=="selectionchange"&&(yE.has(n)||ef(n,!1,e),ef(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jl]||(t[Jl]=!0,ef("selectionchange",!1,t))}}function Kw(e,t,n,r){switch(Ow(t)){case 1:var i=MC;break;case 4:i=IC;break;default:i=Zp}n=i.bind(null,t,n,e),i=void 0,!sh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function tf(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=no(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}vw(function(){var u=o,c=Wp(n),d=[];e:{var f=Ww.get(e);if(f!==void 0){var h=Xp,m=e;switch(e){case"keypress":if(Ru(n)===0)break e;case"keydown":case"keyup":h=KC;break;case"focusin":m="focus",h=Kd;break;case"focusout":m="blur",h=Kd;break;case"beforeblur":case"afterblur":h=Kd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Kg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=jC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=JC;break;case zw:case Bw:case Hw:h=LC;break;case qw:h=QC;break;case"scroll":h=TC;break;case"wheel":h=tE;break;case"copy":case"cut":case"paste":h=VC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Zg}var g=(t&4)!==0,C=!g&&e==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var p=u,w;p!==null;){w=p;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,y!==null&&(_=qa(p,y),_!=null&&g.push(Xa(p,_,w)))),C)break;p=p.return}0<g.length&&(f=new h(f,m,null,n,c),d.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==ih&&(m=n.relatedTarget||n.fromElement)&&(no(m)||m[Jr]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=u,m=m?no(m):null,m!==null&&(C=ko(m),m!==C||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=u),h!==m)){if(g=Kg,_="onMouseLeave",y="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(g=Zg,_="onPointerLeave",y="onPointerEnter",p="pointer"),C=h==null?f:Zo(h),w=m==null?f:Zo(m),f=new g(_,p+"leave",h,n,c),f.target=C,f.relatedTarget=w,_=null,no(c)===u&&(g=new g(y,p+"enter",m,n,c),g.target=w,g.relatedTarget=C,_=g),C=_,h&&m)t:{for(g=h,y=m,p=0,w=g;w;w=Fo(w))p++;for(w=0,_=y;_;_=Fo(_))w++;for(;0<p-w;)g=Fo(g),p--;for(;0<w-p;)y=Fo(y),w--;for(;p--;){if(g===y||y!==null&&g===y.alternate)break t;g=Fo(g),y=Fo(y)}g=null}else g=null;h!==null&&av(d,f,h,g,!1),m!==null&&C!==null&&av(d,C,m,g,!0)}}e:{if(f=u?Zo(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var P=lE;else if(Qg(f))if(Fw)P=fE;else{P=cE;var I=uE}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(P=dE);if(P&&(P=P(e,u))){jw(d,P,n,c);break e}I&&I(e,f,u),e==="focusout"&&(I=f._wrapperState)&&I.controlled&&f.type==="number"&&Qf(f,"number",f.value)}switch(I=u?Zo(u):window,e){case"focusin":(Qg(I)||I.contentEditable==="true")&&(Ko=I,dh=u,$a=null);break;case"focusout":$a=dh=Ko=null;break;case"mousedown":fh=!0;break;case"contextmenu":case"mouseup":case"dragend":fh=!1,iv(d,n,c);break;case"selectionchange":if(mE)break;case"keydown":case"keyup":iv(d,n,c)}var M;if(em)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Go?Tw(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(Iw&&n.locale!=="ko"&&(Go||j!=="onCompositionStart"?j==="onCompositionEnd"&&Go&&(M=Mw()):(yi=c,Jp="value"in yi?yi.value:yi.textContent,Go=!0)),I=ec(u,j),0<I.length&&(j=new Yg(j,e,null,n,c),d.push({event:j,listeners:I}),M?j.data=M:(M=Nw(n),M!==null&&(j.data=M)))),(M=rE?iE(e,n):oE(e,n))&&(u=ec(u,"onBeforeInput"),0<u.length&&(c=new Yg("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=M))}Gw(d,t)})}function Xa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ec(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=qa(e,n),o!=null&&r.unshift(Xa(e,o,i)),o=qa(e,t),o!=null&&r.push(Xa(e,o,i))),e=e.return}return r}function Fo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function av(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=qa(n,o),l!=null&&s.unshift(Xa(n,l,a))):i||(l=qa(n,o),l!=null&&s.push(Xa(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var wE=/\r\n?/g,xE=/\u0000|\uFFFD/g;function lv(e){return(typeof e=="string"?e:""+e).replace(wE,`
`).replace(xE,"")}function Xl(e,t,n){if(t=lv(t),lv(e)!==t&&n)throw Error(G(425))}function tc(){}var hh=null,ph=null;function mh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gh=typeof setTimeout=="function"?setTimeout:void 0,_E=typeof clearTimeout=="function"?clearTimeout:void 0,uv=typeof Promise=="function"?Promise:void 0,bE=typeof queueMicrotask=="function"?queueMicrotask:typeof uv<"u"?function(e){return uv.resolve(null).then(e).catch(SE)}:gh;function SE(e){setTimeout(function(){throw e})}function nf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ka(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ka(t)}function ki(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var zs=Math.random().toString(36).slice(2),br="__reactFiber$"+zs,Qa="__reactProps$"+zs,Jr="__reactContainer$"+zs,vh="__reactEvents$"+zs,CE="__reactListeners$"+zs,EE="__reactHandles$"+zs;function no(e){var t=e[br];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jr]||n[br]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cv(e);e!==null;){if(n=e[br])return n;e=cv(e)}return t}e=n,n=e.parentNode}return null}function El(e){return e=e[br]||e[Jr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function od(e){return e[Qa]||null}var yh=[],Jo=-1;function qi(e){return{current:e}}function ut(e){0>Jo||(e.current=yh[Jo],yh[Jo]=null,Jo--)}function ot(e,t){Jo++,yh[Jo]=e.current,e.current=t}var Di={},en=qi(Di),vn=qi(!1),mo=Di;function xs(e,t){var n=e.type.contextTypes;if(!n)return Di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function yn(e){return e=e.childContextTypes,e!=null}function nc(){ut(vn),ut(en)}function dv(e,t,n){if(en.current!==Di)throw Error(G(168));ot(en,t),ot(vn,n)}function Yw(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(G(108,uC(e)||"Unknown",i));return xt({},n,r)}function rc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Di,mo=en.current,ot(en,e),ot(vn,vn.current),!0}function fv(e,t,n){var r=e.stateNode;if(!r)throw Error(G(169));n?(e=Yw(e,t,mo),r.__reactInternalMemoizedMergedChildContext=e,ut(vn),ut(en),ot(en,e)):ut(vn),ot(vn,n)}var zr=null,sd=!1,rf=!1;function Zw(e){zr===null?zr=[e]:zr.push(e)}function kE(e){sd=!0,Zw(e)}function Wi(){if(!rf&&zr!==null){rf=!0;var e=0,t=tt;try{var n=zr;for(tt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zr=null,sd=!1}catch(i){throw zr!==null&&(zr=zr.slice(e+1)),_w(Gp,Wi),i}finally{tt=t,rf=!1}}return null}var Xo=[],Qo=0,ic=null,oc=0,qn=[],Wn=0,go=null,qr=1,Wr="";function Xi(e,t){Xo[Qo++]=oc,Xo[Qo++]=ic,ic=e,oc=t}function Jw(e,t,n){qn[Wn++]=qr,qn[Wn++]=Wr,qn[Wn++]=go,go=e;var r=qr;e=Wr;var i=32-fr(r)-1;r&=~(1<<i),n+=1;var o=32-fr(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,qr=1<<32-fr(t)+i|n<<i|r,Wr=o+e}else qr=1<<o|n<<i|r,Wr=e}function nm(e){e.return!==null&&(Xi(e,1),Jw(e,1,0))}function rm(e){for(;e===ic;)ic=Xo[--Qo],Xo[Qo]=null,oc=Xo[--Qo],Xo[Qo]=null;for(;e===go;)go=qn[--Wn],qn[Wn]=null,Wr=qn[--Wn],qn[Wn]=null,qr=qn[--Wn],qn[Wn]=null}var Rn=null,kn=null,dt=!1,lr=null;function Xw(e,t){var n=Gn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function hv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Rn=e,kn=ki(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Rn=e,kn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=go!==null?{id:qr,overflow:Wr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Gn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Rn=e,kn=null,!0):!1;default:return!1}}function wh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xh(e){if(dt){var t=kn;if(t){var n=t;if(!hv(e,t)){if(wh(e))throw Error(G(418));t=ki(n.nextSibling);var r=Rn;t&&hv(e,t)?Xw(r,n):(e.flags=e.flags&-4097|2,dt=!1,Rn=e)}}else{if(wh(e))throw Error(G(418));e.flags=e.flags&-4097|2,dt=!1,Rn=e}}}function pv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Rn=e}function Ql(e){if(e!==Rn)return!1;if(!dt)return pv(e),dt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!mh(e.type,e.memoizedProps)),t&&(t=kn)){if(wh(e))throw Qw(),Error(G(418));for(;t;)Xw(e,t),t=ki(t.nextSibling)}if(pv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){kn=ki(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}kn=null}}else kn=Rn?ki(e.stateNode.nextSibling):null;return!0}function Qw(){for(var e=kn;e;)e=ki(e.nextSibling)}function _s(){kn=Rn=null,dt=!1}function im(e){lr===null?lr=[e]:lr.push(e)}var RE=li.ReactCurrentBatchConfig;function ir(e,t){if(e&&e.defaultProps){t=xt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var sc=qi(null),ac=null,es=null,om=null;function sm(){om=es=ac=null}function am(e){var t=sc.current;ut(sc),e._currentValue=t}function _h(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ds(e,t){ac=e,om=es=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gn=!0),e.firstContext=null)}function Yn(e){var t=e._currentValue;if(om!==e)if(e={context:e,memoizedValue:t,next:null},es===null){if(ac===null)throw Error(G(308));es=e,ac.dependencies={lanes:0,firstContext:e}}else es=es.next=e;return t}var ro=null;function lm(e){ro===null?ro=[e]:ro.push(e)}function ex(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,lm(t)):(n.next=i.next,i.next=n),t.interleaved=n,Xr(e,r)}function Xr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var mi=!1;function um(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ri(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ke&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Xr(e,n)}return i=r.interleaved,i===null?(t.next=t,lm(r)):(t.next=i.next,i.next=t),r.interleaved=t,Xr(e,n)}function Pu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Kp(e,n)}}function mv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function lc(e,t,n,r){var i=e.updateQueue;mi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var f=a.lane,h=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,g=a;switch(f=t,h=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(h,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(h,d,f):m,f==null)break e;d=xt({},d,f);break e;case 2:mi=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);yo|=s,e.lanes=s,e.memoizedState=d}}function gv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(G(191,i));i.call(r)}}}var nx=new ew.Component().refs;function bh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:xt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ad={isMounted:function(e){return(e=e._reactInternals)?ko(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=un(),i=$i(e),o=Kr(r,i);o.payload=t,n!=null&&(o.callback=n),t=Ri(e,o,i),t!==null&&(hr(t,e,i,r),Pu(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=un(),i=$i(e),o=Kr(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ri(e,o,i),t!==null&&(hr(t,e,i,r),Pu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=un(),r=$i(e),i=Kr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ri(e,i,r),t!==null&&(hr(t,e,r,n),Pu(t,e,r))}};function vv(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Za(n,r)||!Za(i,o):!0}function rx(e,t,n){var r=!1,i=Di,o=t.contextType;return typeof o=="object"&&o!==null?o=Yn(o):(i=yn(t)?mo:en.current,r=t.contextTypes,o=(r=r!=null)?xs(e,i):Di),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ad,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function yv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ad.enqueueReplaceState(t,t.state,null)}function Sh(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=nx,um(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Yn(o):(o=yn(t)?mo:en.current,i.context=xs(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(bh(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ad.enqueueReplaceState(i,i.state,null),lc(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ia(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===nx&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,e))}return e}function eu(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wv(e){var t=e._init;return t(e._payload)}function ix(e){function t(y,p){if(e){var w=y.deletions;w===null?(y.deletions=[p],y.flags|=16):w.push(p)}}function n(y,p){if(!e)return null;for(;p!==null;)t(y,p),p=p.sibling;return null}function r(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function i(y,p){return y=Ai(y,p),y.index=0,y.sibling=null,y}function o(y,p,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<p?(y.flags|=2,p):w):(y.flags|=2,p)):(y.flags|=1048576,p)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,p,w,_){return p===null||p.tag!==6?(p=df(w,y.mode,_),p.return=y,p):(p=i(p,w),p.return=y,p)}function l(y,p,w,_){var P=w.type;return P===Wo?c(y,p,w.props.children,_,w.key):p!==null&&(p.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===pi&&wv(P)===p.type)?(_=i(p,w.props),_.ref=ia(y,p,w),_.return=y,_):(_=Tu(w.type,w.key,w.props,null,y.mode,_),_.ref=ia(y,p,w),_.return=y,_)}function u(y,p,w,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=ff(w,y.mode,_),p.return=y,p):(p=i(p,w.children||[]),p.return=y,p)}function c(y,p,w,_,P){return p===null||p.tag!==7?(p=uo(w,y.mode,_,P),p.return=y,p):(p=i(p,w),p.return=y,p)}function d(y,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return p=df(""+p,y.mode,w),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Bl:return w=Tu(p.type,p.key,p.props,null,y.mode,w),w.ref=ia(y,null,p),w.return=y,w;case qo:return p=ff(p,y.mode,w),p.return=y,p;case pi:var _=p._init;return d(y,_(p._payload),w)}if(xa(p)||Qs(p))return p=uo(p,y.mode,w,null),p.return=y,p;eu(y,p)}return null}function f(y,p,w,_){var P=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return P!==null?null:a(y,p,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Bl:return w.key===P?l(y,p,w,_):null;case qo:return w.key===P?u(y,p,w,_):null;case pi:return P=w._init,f(y,p,P(w._payload),_)}if(xa(w)||Qs(w))return P!==null?null:c(y,p,w,_,null);eu(y,w)}return null}function h(y,p,w,_,P){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(w)||null,a(p,y,""+_,P);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Bl:return y=y.get(_.key===null?w:_.key)||null,l(p,y,_,P);case qo:return y=y.get(_.key===null?w:_.key)||null,u(p,y,_,P);case pi:var I=_._init;return h(y,p,w,I(_._payload),P)}if(xa(_)||Qs(_))return y=y.get(w)||null,c(p,y,_,P,null);eu(p,_)}return null}function m(y,p,w,_){for(var P=null,I=null,M=p,j=p=0,W=null;M!==null&&j<w.length;j++){M.index>j?(W=M,M=null):W=M.sibling;var K=f(y,M,w[j],_);if(K===null){M===null&&(M=W);break}e&&M&&K.alternate===null&&t(y,M),p=o(K,p,j),I===null?P=K:I.sibling=K,I=K,M=W}if(j===w.length)return n(y,M),dt&&Xi(y,j),P;if(M===null){for(;j<w.length;j++)M=d(y,w[j],_),M!==null&&(p=o(M,p,j),I===null?P=M:I.sibling=M,I=M);return dt&&Xi(y,j),P}for(M=r(y,M);j<w.length;j++)W=h(M,y,j,w[j],_),W!==null&&(e&&W.alternate!==null&&M.delete(W.key===null?j:W.key),p=o(W,p,j),I===null?P=W:I.sibling=W,I=W);return e&&M.forEach(function(ae){return t(y,ae)}),dt&&Xi(y,j),P}function g(y,p,w,_){var P=Qs(w);if(typeof P!="function")throw Error(G(150));if(w=P.call(w),w==null)throw Error(G(151));for(var I=P=null,M=p,j=p=0,W=null,K=w.next();M!==null&&!K.done;j++,K=w.next()){M.index>j?(W=M,M=null):W=M.sibling;var ae=f(y,M,K.value,_);if(ae===null){M===null&&(M=W);break}e&&M&&ae.alternate===null&&t(y,M),p=o(ae,p,j),I===null?P=ae:I.sibling=ae,I=ae,M=W}if(K.done)return n(y,M),dt&&Xi(y,j),P;if(M===null){for(;!K.done;j++,K=w.next())K=d(y,K.value,_),K!==null&&(p=o(K,p,j),I===null?P=K:I.sibling=K,I=K);return dt&&Xi(y,j),P}for(M=r(y,M);!K.done;j++,K=w.next())K=h(M,y,j,K.value,_),K!==null&&(e&&K.alternate!==null&&M.delete(K.key===null?j:K.key),p=o(K,p,j),I===null?P=K:I.sibling=K,I=K);return e&&M.forEach(function(V){return t(y,V)}),dt&&Xi(y,j),P}function C(y,p,w,_){if(typeof w=="object"&&w!==null&&w.type===Wo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Bl:e:{for(var P=w.key,I=p;I!==null;){if(I.key===P){if(P=w.type,P===Wo){if(I.tag===7){n(y,I.sibling),p=i(I,w.props.children),p.return=y,y=p;break e}}else if(I.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===pi&&wv(P)===I.type){n(y,I.sibling),p=i(I,w.props),p.ref=ia(y,I,w),p.return=y,y=p;break e}n(y,I);break}else t(y,I);I=I.sibling}w.type===Wo?(p=uo(w.props.children,y.mode,_,w.key),p.return=y,y=p):(_=Tu(w.type,w.key,w.props,null,y.mode,_),_.ref=ia(y,p,w),_.return=y,y=_)}return s(y);case qo:e:{for(I=w.key;p!==null;){if(p.key===I)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){n(y,p.sibling),p=i(p,w.children||[]),p.return=y,y=p;break e}else{n(y,p);break}else t(y,p);p=p.sibling}p=ff(w,y.mode,_),p.return=y,y=p}return s(y);case pi:return I=w._init,C(y,p,I(w._payload),_)}if(xa(w))return m(y,p,w,_);if(Qs(w))return g(y,p,w,_);eu(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,p!==null&&p.tag===6?(n(y,p.sibling),p=i(p,w),p.return=y,y=p):(n(y,p),p=df(w,y.mode,_),p.return=y,y=p),s(y)):n(y,p)}return C}var bs=ix(!0),ox=ix(!1),kl={},Rr=qi(kl),el=qi(kl),tl=qi(kl);function io(e){if(e===kl)throw Error(G(174));return e}function cm(e,t){switch(ot(tl,t),ot(el,e),ot(Rr,kl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:th(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=th(t,e)}ut(Rr),ot(Rr,t)}function Ss(){ut(Rr),ut(el),ut(tl)}function sx(e){io(tl.current);var t=io(Rr.current),n=th(t,e.type);t!==n&&(ot(el,e),ot(Rr,n))}function dm(e){el.current===e&&(ut(Rr),ut(el))}var gt=qi(0);function uc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var of=[];function fm(){for(var e=0;e<of.length;e++)of[e]._workInProgressVersionPrimary=null;of.length=0}var $u=li.ReactCurrentDispatcher,sf=li.ReactCurrentBatchConfig,vo=0,wt=null,Ft=null,zt=null,cc=!1,Aa=!1,nl=0,PE=0;function Zt(){throw Error(G(321))}function hm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mr(e[n],t[n]))return!1;return!0}function pm(e,t,n,r,i,o){if(vo=o,wt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$u.current=e===null||e.memoizedState===null?ME:IE,e=n(r,i),Aa){o=0;do{if(Aa=!1,nl=0,25<=o)throw Error(G(301));o+=1,zt=Ft=null,t.updateQueue=null,$u.current=TE,e=n(r,i)}while(Aa)}if($u.current=dc,t=Ft!==null&&Ft.next!==null,vo=0,zt=Ft=wt=null,cc=!1,t)throw Error(G(300));return e}function mm(){var e=nl!==0;return nl=0,e}function wr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?wt.memoizedState=zt=e:zt=zt.next=e,zt}function Zn(){if(Ft===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Ft.next;var t=zt===null?wt.memoizedState:zt.next;if(t!==null)zt=t,Ft=e;else{if(e===null)throw Error(G(310));Ft=e,e={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},zt===null?wt.memoizedState=zt=e:zt=zt.next=e}return zt}function rl(e,t){return typeof t=="function"?t(e):t}function af(e){var t=Zn(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=Ft,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((vo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,wt.lanes|=c,yo|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,mr(r,t.memoizedState)||(gn=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,wt.lanes|=o,yo|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function lf(e){var t=Zn(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);mr(o,t.memoizedState)||(gn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ax(){}function lx(e,t){var n=wt,r=Zn(),i=t(),o=!mr(r.memoizedState,i);if(o&&(r.memoizedState=i,gn=!0),r=r.queue,gm(dx.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||zt!==null&&zt.memoizedState.tag&1){if(n.flags|=2048,il(9,cx.bind(null,n,r,i,t),void 0,null),Ht===null)throw Error(G(349));vo&30||ux(n,t,i)}return i}function ux(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=wt.updateQueue,t===null?(t={lastEffect:null,stores:null},wt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function cx(e,t,n,r){t.value=n,t.getSnapshot=r,fx(t)&&hx(e)}function dx(e,t,n){return n(function(){fx(t)&&hx(e)})}function fx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mr(e,n)}catch{return!0}}function hx(e){var t=Xr(e,1);t!==null&&hr(t,e,1,-1)}function xv(e){var t=wr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:e},t.queue=e,e=e.dispatch=OE.bind(null,wt,e),[t.memoizedState,e]}function il(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=wt.updateQueue,t===null?(t={lastEffect:null,stores:null},wt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function px(){return Zn().memoizedState}function Au(e,t,n,r){var i=wr();wt.flags|=e,i.memoizedState=il(1|t,n,void 0,r===void 0?null:r)}function ld(e,t,n,r){var i=Zn();r=r===void 0?null:r;var o=void 0;if(Ft!==null){var s=Ft.memoizedState;if(o=s.destroy,r!==null&&hm(r,s.deps)){i.memoizedState=il(t,n,o,r);return}}wt.flags|=e,i.memoizedState=il(1|t,n,o,r)}function _v(e,t){return Au(8390656,8,e,t)}function gm(e,t){return ld(2048,8,e,t)}function mx(e,t){return ld(4,2,e,t)}function gx(e,t){return ld(4,4,e,t)}function vx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yx(e,t,n){return n=n!=null?n.concat([e]):null,ld(4,4,vx.bind(null,t,e),n)}function vm(){}function wx(e,t){var n=Zn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xx(e,t){var n=Zn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _x(e,t,n){return vo&21?(mr(n,t)||(n=Cw(),wt.lanes|=n,yo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gn=!0),e.memoizedState=n)}function $E(e,t){var n=tt;tt=n!==0&&4>n?n:4,e(!0);var r=sf.transition;sf.transition={};try{e(!1),t()}finally{tt=n,sf.transition=r}}function bx(){return Zn().memoizedState}function AE(e,t,n){var r=$i(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Sx(e))Cx(t,n);else if(n=ex(e,t,n,r),n!==null){var i=un();hr(n,e,r,i),Ex(n,t,r)}}function OE(e,t,n){var r=$i(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sx(e))Cx(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,mr(a,s)){var l=t.interleaved;l===null?(i.next=i,lm(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=ex(e,t,i,r),n!==null&&(i=un(),hr(n,e,r,i),Ex(n,t,r))}}function Sx(e){var t=e.alternate;return e===wt||t!==null&&t===wt}function Cx(e,t){Aa=cc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ex(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Kp(e,n)}}var dc={readContext:Yn,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},ME={readContext:Yn,useCallback:function(e,t){return wr().memoizedState=[e,t===void 0?null:t],e},useContext:Yn,useEffect:_v,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Au(4194308,4,vx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Au(4194308,4,e,t)},useInsertionEffect:function(e,t){return Au(4,2,e,t)},useMemo:function(e,t){var n=wr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=AE.bind(null,wt,e),[r.memoizedState,e]},useRef:function(e){var t=wr();return e={current:e},t.memoizedState=e},useState:xv,useDebugValue:vm,useDeferredValue:function(e){return wr().memoizedState=e},useTransition:function(){var e=xv(!1),t=e[0];return e=$E.bind(null,e[1]),wr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=wt,i=wr();if(dt){if(n===void 0)throw Error(G(407));n=n()}else{if(n=t(),Ht===null)throw Error(G(349));vo&30||ux(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,_v(dx.bind(null,r,o,e),[e]),r.flags|=2048,il(9,cx.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=wr(),t=Ht.identifierPrefix;if(dt){var n=Wr,r=qr;n=(r&~(1<<32-fr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=nl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=PE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},IE={readContext:Yn,useCallback:wx,useContext:Yn,useEffect:gm,useImperativeHandle:yx,useInsertionEffect:mx,useLayoutEffect:gx,useMemo:xx,useReducer:af,useRef:px,useState:function(){return af(rl)},useDebugValue:vm,useDeferredValue:function(e){var t=Zn();return _x(t,Ft.memoizedState,e)},useTransition:function(){var e=af(rl)[0],t=Zn().memoizedState;return[e,t]},useMutableSource:ax,useSyncExternalStore:lx,useId:bx,unstable_isNewReconciler:!1},TE={readContext:Yn,useCallback:wx,useContext:Yn,useEffect:gm,useImperativeHandle:yx,useInsertionEffect:mx,useLayoutEffect:gx,useMemo:xx,useReducer:lf,useRef:px,useState:function(){return lf(rl)},useDebugValue:vm,useDeferredValue:function(e){var t=Zn();return Ft===null?t.memoizedState=e:_x(t,Ft.memoizedState,e)},useTransition:function(){var e=lf(rl)[0],t=Zn().memoizedState;return[e,t]},useMutableSource:ax,useSyncExternalStore:lx,useId:bx,unstable_isNewReconciler:!1};function Cs(e,t){try{var n="",r=t;do n+=lC(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function uf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ch(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var NE=typeof WeakMap=="function"?WeakMap:Map;function kx(e,t,n){n=Kr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){hc||(hc=!0,Th=r),Ch(e,t)},n}function Rx(e,t,n){n=Kr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ch(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ch(e,t),typeof r!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function bv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new NE;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=YE.bind(null,e,t,n),t.then(e,e))}function Sv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Cv(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Kr(-1,1),t.tag=2,Ri(n,t,1))),n.lanes|=1),e)}var jE=li.ReactCurrentOwner,gn=!1;function rn(e,t,n,r){t.child=e===null?ox(t,null,n,r):bs(t,e.child,n,r)}function Ev(e,t,n,r,i){n=n.render;var o=t.ref;return ds(t,i),r=pm(e,t,n,r,o,i),n=mm(),e!==null&&!gn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qr(e,t,i)):(dt&&n&&nm(t),t.flags|=1,rn(e,t,r,i),t.child)}function kv(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Em(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Px(e,t,o,r,i)):(e=Tu(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Za,n(s,r)&&e.ref===t.ref)return Qr(e,t,i)}return t.flags|=1,e=Ai(o,r),e.ref=t.ref,e.return=t,t.child=e}function Px(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Za(o,r)&&e.ref===t.ref)if(gn=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(gn=!0);else return t.lanes=e.lanes,Qr(e,t,i)}return Eh(e,t,n,r,i)}function $x(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(ns,Cn),Cn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ot(ns,Cn),Cn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ot(ns,Cn),Cn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ot(ns,Cn),Cn|=r;return rn(e,t,i,n),t.child}function Ax(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Eh(e,t,n,r,i){var o=yn(n)?mo:en.current;return o=xs(t,o),ds(t,i),n=pm(e,t,n,r,o,i),r=mm(),e!==null&&!gn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qr(e,t,i)):(dt&&r&&nm(t),t.flags|=1,rn(e,t,n,i),t.child)}function Rv(e,t,n,r,i){if(yn(n)){var o=!0;rc(t)}else o=!1;if(ds(t,i),t.stateNode===null)Ou(e,t),rx(t,n,r),Sh(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Yn(u):(u=yn(n)?mo:en.current,u=xs(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&yv(t,s,r,u),mi=!1;var f=t.memoizedState;s.state=f,lc(t,r,s,i),l=t.memoizedState,a!==r||f!==l||vn.current||mi?(typeof c=="function"&&(bh(t,n,c,r),l=t.memoizedState),(a=mi||vv(t,n,a,r,f,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,tx(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:ir(t.type,a),s.props=u,d=t.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Yn(l):(l=yn(n)?mo:en.current,l=xs(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&yv(t,s,r,l),mi=!1,f=t.memoizedState,s.state=f,lc(t,r,s,i);var m=t.memoizedState;a!==d||f!==m||vn.current||mi?(typeof h=="function"&&(bh(t,n,h,r),m=t.memoizedState),(u=mi||vv(t,n,u,r,f,m,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),s.props=r,s.state=m,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return kh(e,t,n,r,o,i)}function kh(e,t,n,r,i,o){Ax(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&fv(t,n,!1),Qr(e,t,o);r=t.stateNode,jE.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=bs(t,e.child,null,o),t.child=bs(t,null,a,o)):rn(e,t,a,o),t.memoizedState=r.state,i&&fv(t,n,!0),t.child}function Ox(e){var t=e.stateNode;t.pendingContext?dv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dv(e,t.context,!1),cm(e,t.containerInfo)}function Pv(e,t,n,r,i){return _s(),im(i),t.flags|=256,rn(e,t,n,r),t.child}var Rh={dehydrated:null,treeContext:null,retryLane:0};function Ph(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mx(e,t,n){var r=t.pendingProps,i=gt.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ot(gt,i&1),e===null)return xh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=dd(s,r,0,null),e=uo(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ph(n),t.memoizedState=Rh,e):ym(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return FE(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ai(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ai(a,o):(o=uo(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Ph(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Rh,r}return o=e.child,e=o.sibling,r=Ai(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ym(e,t){return t=dd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function tu(e,t,n,r){return r!==null&&im(r),bs(t,e.child,null,n),e=ym(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function FE(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=uf(Error(G(422))),tu(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=dd({mode:"visible",children:r.children},i,0,null),o=uo(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&bs(t,e.child,null,s),t.child.memoizedState=Ph(s),t.memoizedState=Rh,o);if(!(t.mode&1))return tu(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(G(419)),r=uf(o,r,void 0),tu(e,t,s,r)}if(a=(s&e.childLanes)!==0,gn||a){if(r=Ht,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Xr(e,i),hr(r,e,i,-1))}return Cm(),r=uf(Error(G(421))),tu(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=ZE.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,kn=ki(i.nextSibling),Rn=t,dt=!0,lr=null,e!==null&&(qn[Wn++]=qr,qn[Wn++]=Wr,qn[Wn++]=go,qr=e.id,Wr=e.overflow,go=t),t=ym(t,r.children),t.flags|=4096,t)}function $v(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),_h(e.return,t,n)}function cf(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ix(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(rn(e,t,r.children,n),r=gt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$v(e,n,t);else if(e.tag===19)$v(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ot(gt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&uc(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),cf(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&uc(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}cf(t,!0,n,null,o);break;case"together":cf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ou(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),yo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,n=Ai(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ai(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function DE(e,t,n){switch(t.tag){case 3:Ox(t),_s();break;case 5:sx(t);break;case 1:yn(t.type)&&rc(t);break;case 4:cm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ot(sc,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ot(gt,gt.current&1),t.flags|=128,null):n&t.child.childLanes?Mx(e,t,n):(ot(gt,gt.current&1),e=Qr(e,t,n),e!==null?e.sibling:null);ot(gt,gt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ix(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ot(gt,gt.current),r)break;return null;case 22:case 23:return t.lanes=0,$x(e,t,n)}return Qr(e,t,n)}var Tx,$h,Nx,jx;Tx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$h=function(){};Nx=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,io(Rr.current);var o=null;switch(n){case"input":i=Jf(e,i),r=Jf(e,r),o=[];break;case"select":i=xt({},i,{value:void 0}),r=xt({},r,{value:void 0}),o=[];break;case"textarea":i=eh(e,i),r=eh(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=tc)}nh(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ba.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ba.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&lt("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};jx=function(e,t,n,r){n!==r&&(t.flags|=4)};function oa(e,t){if(!dt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Jt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function LE(e,t,n){var r=t.pendingProps;switch(rm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(t),null;case 1:return yn(t.type)&&nc(),Jt(t),null;case 3:return r=t.stateNode,Ss(),ut(vn),ut(en),fm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ql(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,lr!==null&&(Fh(lr),lr=null))),$h(e,t),Jt(t),null;case 5:dm(t);var i=io(tl.current);if(n=t.type,e!==null&&t.stateNode!=null)Nx(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(G(166));return Jt(t),null}if(e=io(Rr.current),Ql(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[br]=t,r[Qa]=o,e=(t.mode&1)!==0,n){case"dialog":lt("cancel",r),lt("close",r);break;case"iframe":case"object":case"embed":lt("load",r);break;case"video":case"audio":for(i=0;i<ba.length;i++)lt(ba[i],r);break;case"source":lt("error",r);break;case"img":case"image":case"link":lt("error",r),lt("load",r);break;case"details":lt("toggle",r);break;case"input":Dg(r,o),lt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},lt("invalid",r);break;case"textarea":Ug(r,o),lt("invalid",r)}nh(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Xl(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Xl(r.textContent,a,e),i=["children",""+a]):Ba.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&lt("scroll",r)}switch(n){case"input":Hl(r),Lg(r,o,!0);break;case"textarea":Hl(r),Vg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=tc)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[br]=t,e[Qa]=r,Tx(e,t,!1,!1),t.stateNode=e;e:{switch(s=rh(n,r),n){case"dialog":lt("cancel",e),lt("close",e),i=r;break;case"iframe":case"object":case"embed":lt("load",e),i=r;break;case"video":case"audio":for(i=0;i<ba.length;i++)lt(ba[i],e);i=r;break;case"source":lt("error",e),i=r;break;case"img":case"image":case"link":lt("error",e),lt("load",e),i=r;break;case"details":lt("toggle",e),i=r;break;case"input":Dg(e,r),i=Jf(e,r),lt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=xt({},r,{value:void 0}),lt("invalid",e);break;case"textarea":Ug(e,r),i=eh(e,r),lt("invalid",e);break;default:i=r}nh(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?fw(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cw(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ha(e,l):typeof l=="number"&&Ha(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ba.hasOwnProperty(o)?l!=null&&o==="onScroll"&&lt("scroll",e):l!=null&&zp(e,o,l,s))}switch(n){case"input":Hl(e),Lg(e,r,!1);break;case"textarea":Hl(e),Vg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Fi(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?as(e,!!r.multiple,o,!1):r.defaultValue!=null&&as(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=tc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Jt(t),null;case 6:if(e&&t.stateNode!=null)jx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(G(166));if(n=io(tl.current),io(Rr.current),Ql(t)){if(r=t.stateNode,n=t.memoizedProps,r[br]=t,(o=r.nodeValue!==n)&&(e=Rn,e!==null))switch(e.tag){case 3:Xl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[br]=t,t.stateNode=r}return Jt(t),null;case 13:if(ut(gt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(dt&&kn!==null&&t.mode&1&&!(t.flags&128))Qw(),_s(),t.flags|=98560,o=!1;else if(o=Ql(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(G(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(G(317));o[br]=t}else _s(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Jt(t),o=!1}else lr!==null&&(Fh(lr),lr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||gt.current&1?Dt===0&&(Dt=3):Cm())),t.updateQueue!==null&&(t.flags|=4),Jt(t),null);case 4:return Ss(),$h(e,t),e===null&&Ja(t.stateNode.containerInfo),Jt(t),null;case 10:return am(t.type._context),Jt(t),null;case 17:return yn(t.type)&&nc(),Jt(t),null;case 19:if(ut(gt),o=t.memoizedState,o===null)return Jt(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)oa(o,!1);else{if(Dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=uc(e),s!==null){for(t.flags|=128,oa(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ot(gt,gt.current&1|2),t.child}e=e.sibling}o.tail!==null&&At()>Es&&(t.flags|=128,r=!0,oa(o,!1),t.lanes=4194304)}else{if(!r)if(e=uc(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),oa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!dt)return Jt(t),null}else 2*At()-o.renderingStartTime>Es&&n!==1073741824&&(t.flags|=128,r=!0,oa(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=At(),t.sibling=null,n=gt.current,ot(gt,r?n&1|2:n&1),t):(Jt(t),null);case 22:case 23:return Sm(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Cn&1073741824&&(Jt(t),t.subtreeFlags&6&&(t.flags|=8192)):Jt(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function UE(e,t){switch(rm(t),t.tag){case 1:return yn(t.type)&&nc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ss(),ut(vn),ut(en),fm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dm(t),null;case 13:if(ut(gt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));_s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ut(gt),null;case 4:return Ss(),null;case 10:return am(t.type._context),null;case 22:case 23:return Sm(),null;case 24:return null;default:return null}}var nu=!1,Xt=!1,VE=typeof WeakSet=="function"?WeakSet:Set,fe=null;function ts(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){St(e,t,r)}else n.current=null}function Ah(e,t,n){try{n()}catch(r){St(e,t,r)}}var Av=!1;function zE(e,t){if(hh=Xu,e=Uw(),tm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++u===i&&(a=s),f===o&&++c===r&&(l=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ph={focusedElem:e,selectionRange:n},Xu=!1,fe=t;fe!==null;)if(t=fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,fe=e;else for(;fe!==null;){t=fe;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,C=m.memoizedState,y=t.stateNode,p=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ir(t.type,g),C);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(_){St(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,fe=e;break}fe=t.return}return m=Av,Av=!1,m}function Oa(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Ah(t,n,o)}i=i.next}while(i!==r)}}function ud(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Oh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Fx(e){var t=e.alternate;t!==null&&(e.alternate=null,Fx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[br],delete t[Qa],delete t[vh],delete t[CE],delete t[EE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Dx(e){return e.tag===5||e.tag===3||e.tag===4}function Ov(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=tc));else if(r!==4&&(e=e.child,e!==null))for(Mh(e,t,n),e=e.sibling;e!==null;)Mh(e,t,n),e=e.sibling}function Ih(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ih(e,t,n),e=e.sibling;e!==null;)Ih(e,t,n),e=e.sibling}var Wt=null,sr=!1;function di(e,t,n){for(n=n.child;n!==null;)Lx(e,t,n),n=n.sibling}function Lx(e,t,n){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount(td,n)}catch{}switch(n.tag){case 5:Xt||ts(n,t);case 6:var r=Wt,i=sr;Wt=null,di(e,t,n),Wt=r,sr=i,Wt!==null&&(sr?(e=Wt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Wt.removeChild(n.stateNode));break;case 18:Wt!==null&&(sr?(e=Wt,n=n.stateNode,e.nodeType===8?nf(e.parentNode,n):e.nodeType===1&&nf(e,n),Ka(e)):nf(Wt,n.stateNode));break;case 4:r=Wt,i=sr,Wt=n.stateNode.containerInfo,sr=!0,di(e,t,n),Wt=r,sr=i;break;case 0:case 11:case 14:case 15:if(!Xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Ah(n,t,s),i=i.next}while(i!==r)}di(e,t,n);break;case 1:if(!Xt&&(ts(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){St(n,t,a)}di(e,t,n);break;case 21:di(e,t,n);break;case 22:n.mode&1?(Xt=(r=Xt)||n.memoizedState!==null,di(e,t,n),Xt=r):di(e,t,n);break;default:di(e,t,n)}}function Mv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new VE),t.forEach(function(r){var i=JE.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function tr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Wt=a.stateNode,sr=!1;break e;case 3:Wt=a.stateNode.containerInfo,sr=!0;break e;case 4:Wt=a.stateNode.containerInfo,sr=!0;break e}a=a.return}if(Wt===null)throw Error(G(160));Lx(o,s,i),Wt=null,sr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){St(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ux(t,e),t=t.sibling}function Ux(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tr(t,e),yr(e),r&4){try{Oa(3,e,e.return),ud(3,e)}catch(g){St(e,e.return,g)}try{Oa(5,e,e.return)}catch(g){St(e,e.return,g)}}break;case 1:tr(t,e),yr(e),r&512&&n!==null&&ts(n,n.return);break;case 5:if(tr(t,e),yr(e),r&512&&n!==null&&ts(n,n.return),e.flags&32){var i=e.stateNode;try{Ha(i,"")}catch(g){St(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&aw(i,o),rh(a,s);var u=rh(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?fw(i,d):c==="dangerouslySetInnerHTML"?cw(i,d):c==="children"?Ha(i,d):zp(i,c,d,u)}switch(a){case"input":Xf(i,o);break;case"textarea":lw(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?as(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?as(i,!!o.multiple,o.defaultValue,!0):as(i,!!o.multiple,o.multiple?[]:"",!1))}i[Qa]=o}catch(g){St(e,e.return,g)}}break;case 6:if(tr(t,e),yr(e),r&4){if(e.stateNode===null)throw Error(G(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){St(e,e.return,g)}}break;case 3:if(tr(t,e),yr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ka(t.containerInfo)}catch(g){St(e,e.return,g)}break;case 4:tr(t,e),yr(e);break;case 13:tr(t,e),yr(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(_m=At())),r&4&&Mv(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Xt=(u=Xt)||c,tr(t,e),Xt=u):tr(t,e),yr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(fe=e,c=e.child;c!==null;){for(d=fe=c;fe!==null;){switch(f=fe,h=f.child,f.tag){case 0:case 11:case 14:case 15:Oa(4,f,f.return);break;case 1:ts(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){St(r,n,g)}}break;case 5:ts(f,f.return);break;case 22:if(f.memoizedState!==null){Tv(d);continue}}h!==null?(h.return=f,fe=h):Tv(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dw("display",s))}catch(g){St(e,e.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){St(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:tr(t,e),yr(e),r&4&&Mv(e);break;case 21:break;default:tr(t,e),yr(e)}}function yr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Dx(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ha(i,""),r.flags&=-33);var o=Ov(e);Ih(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Ov(e);Mh(e,a,s);break;default:throw Error(G(161))}}catch(l){St(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function BE(e,t,n){fe=e,Vx(e)}function Vx(e,t,n){for(var r=(e.mode&1)!==0;fe!==null;){var i=fe,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||nu;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Xt;a=nu;var u=Xt;if(nu=s,(Xt=l)&&!u)for(fe=i;fe!==null;)s=fe,l=s.child,s.tag===22&&s.memoizedState!==null?Nv(i):l!==null?(l.return=s,fe=l):Nv(i);for(;o!==null;)fe=o,Vx(o),o=o.sibling;fe=i,nu=a,Xt=u}Iv(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,fe=o):Iv(e)}}function Iv(e){for(;fe!==null;){var t=fe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xt||ud(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Xt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ir(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&gv(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gv(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ka(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Xt||t.flags&512&&Oh(t)}catch(f){St(t,t.return,f)}}if(t===e){fe=null;break}if(n=t.sibling,n!==null){n.return=t.return,fe=n;break}fe=t.return}}function Tv(e){for(;fe!==null;){var t=fe;if(t===e){fe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,fe=n;break}fe=t.return}}function Nv(e){for(;fe!==null;){var t=fe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ud(4,t)}catch(l){St(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){St(t,i,l)}}var o=t.return;try{Oh(t)}catch(l){St(t,o,l)}break;case 5:var s=t.return;try{Oh(t)}catch(l){St(t,s,l)}}}catch(l){St(t,t.return,l)}if(t===e){fe=null;break}var a=t.sibling;if(a!==null){a.return=t.return,fe=a;break}fe=t.return}}var HE=Math.ceil,fc=li.ReactCurrentDispatcher,wm=li.ReactCurrentOwner,Kn=li.ReactCurrentBatchConfig,Ke=0,Ht=null,It=null,Gt=0,Cn=0,ns=qi(0),Dt=0,ol=null,yo=0,cd=0,xm=0,Ma=null,mn=null,_m=0,Es=1/0,Dr=null,hc=!1,Th=null,Pi=null,ru=!1,wi=null,pc=0,Ia=0,Nh=null,Mu=-1,Iu=0;function un(){return Ke&6?At():Mu!==-1?Mu:Mu=At()}function $i(e){return e.mode&1?Ke&2&&Gt!==0?Gt&-Gt:RE.transition!==null?(Iu===0&&(Iu=Cw()),Iu):(e=tt,e!==0||(e=window.event,e=e===void 0?16:Ow(e.type)),e):1}function hr(e,t,n,r){if(50<Ia)throw Ia=0,Nh=null,Error(G(185));Sl(e,n,r),(!(Ke&2)||e!==Ht)&&(e===Ht&&(!(Ke&2)&&(cd|=n),Dt===4&&vi(e,Gt)),wn(e,r),n===1&&Ke===0&&!(t.mode&1)&&(Es=At()+500,sd&&Wi()))}function wn(e,t){var n=e.callbackNode;RC(e,t);var r=Ju(e,e===Ht?Gt:0);if(r===0)n!==null&&Hg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Hg(n),t===1)e.tag===0?kE(jv.bind(null,e)):Zw(jv.bind(null,e)),bE(function(){!(Ke&6)&&Wi()}),n=null;else{switch(Ew(r)){case 1:n=Gp;break;case 4:n=bw;break;case 16:n=Zu;break;case 536870912:n=Sw;break;default:n=Zu}n=Yx(n,zx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function zx(e,t){if(Mu=-1,Iu=0,Ke&6)throw Error(G(327));var n=e.callbackNode;if(fs()&&e.callbackNode!==n)return null;var r=Ju(e,e===Ht?Gt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=mc(e,r);else{t=r;var i=Ke;Ke|=2;var o=Hx();(Ht!==e||Gt!==t)&&(Dr=null,Es=At()+500,lo(e,t));do try{GE();break}catch(a){Bx(e,a)}while(1);sm(),fc.current=o,Ke=i,It!==null?t=0:(Ht=null,Gt=0,t=Dt)}if(t!==0){if(t===2&&(i=lh(e),i!==0&&(r=i,t=jh(e,i))),t===1)throw n=ol,lo(e,0),vi(e,r),wn(e,At()),n;if(t===6)vi(e,r);else{if(i=e.current.alternate,!(r&30)&&!qE(i)&&(t=mc(e,r),t===2&&(o=lh(e),o!==0&&(r=o,t=jh(e,o))),t===1))throw n=ol,lo(e,0),vi(e,r),wn(e,At()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(G(345));case 2:Qi(e,mn,Dr);break;case 3:if(vi(e,r),(r&130023424)===r&&(t=_m+500-At(),10<t)){if(Ju(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){un(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=gh(Qi.bind(null,e,mn,Dr),t);break}Qi(e,mn,Dr);break;case 4:if(vi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-fr(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=At()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*HE(r/1960))-r,10<r){e.timeoutHandle=gh(Qi.bind(null,e,mn,Dr),r);break}Qi(e,mn,Dr);break;case 5:Qi(e,mn,Dr);break;default:throw Error(G(329))}}}return wn(e,At()),e.callbackNode===n?zx.bind(null,e):null}function jh(e,t){var n=Ma;return e.current.memoizedState.isDehydrated&&(lo(e,t).flags|=256),e=mc(e,t),e!==2&&(t=mn,mn=n,t!==null&&Fh(t)),e}function Fh(e){mn===null?mn=e:mn.push.apply(mn,e)}function qE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!mr(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vi(e,t){for(t&=~xm,t&=~cd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-fr(t),r=1<<n;e[n]=-1,t&=~r}}function jv(e){if(Ke&6)throw Error(G(327));fs();var t=Ju(e,0);if(!(t&1))return wn(e,At()),null;var n=mc(e,t);if(e.tag!==0&&n===2){var r=lh(e);r!==0&&(t=r,n=jh(e,r))}if(n===1)throw n=ol,lo(e,0),vi(e,t),wn(e,At()),n;if(n===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qi(e,mn,Dr),wn(e,At()),null}function bm(e,t){var n=Ke;Ke|=1;try{return e(t)}finally{Ke=n,Ke===0&&(Es=At()+500,sd&&Wi())}}function wo(e){wi!==null&&wi.tag===0&&!(Ke&6)&&fs();var t=Ke;Ke|=1;var n=Kn.transition,r=tt;try{if(Kn.transition=null,tt=1,e)return e()}finally{tt=r,Kn.transition=n,Ke=t,!(Ke&6)&&Wi()}}function Sm(){Cn=ns.current,ut(ns)}function lo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,_E(n)),It!==null)for(n=It.return;n!==null;){var r=n;switch(rm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nc();break;case 3:Ss(),ut(vn),ut(en),fm();break;case 5:dm(r);break;case 4:Ss();break;case 13:ut(gt);break;case 19:ut(gt);break;case 10:am(r.type._context);break;case 22:case 23:Sm()}n=n.return}if(Ht=e,It=e=Ai(e.current,null),Gt=Cn=t,Dt=0,ol=null,xm=cd=yo=0,mn=Ma=null,ro!==null){for(t=0;t<ro.length;t++)if(n=ro[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ro=null}return e}function Bx(e,t){do{var n=It;try{if(sm(),$u.current=dc,cc){for(var r=wt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}cc=!1}if(vo=0,zt=Ft=wt=null,Aa=!1,nl=0,wm.current=null,n===null||n.return===null){Dt=1,ol=t,It=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Gt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Sv(s);if(h!==null){h.flags&=-257,Cv(h,s,a,o,t),h.mode&1&&bv(o,u,t),t=h,l=u;var m=t.updateQueue;if(m===null){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}else{if(!(t&1)){bv(o,u,t),Cm();break e}l=Error(G(426))}}else if(dt&&a.mode&1){var C=Sv(s);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Cv(C,s,a,o,t),im(Cs(l,a));break e}}o=l=Cs(l,a),Dt!==4&&(Dt=2),Ma===null?Ma=[o]:Ma.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=kx(o,l,t);mv(o,y);break e;case 1:a=l;var p=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Pi===null||!Pi.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=Rx(o,a,t);mv(o,_);break e}}o=o.return}while(o!==null)}Wx(n)}catch(P){t=P,It===n&&n!==null&&(It=n=n.return);continue}break}while(1)}function Hx(){var e=fc.current;return fc.current=dc,e===null?dc:e}function Cm(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Ht===null||!(yo&268435455)&&!(cd&268435455)||vi(Ht,Gt)}function mc(e,t){var n=Ke;Ke|=2;var r=Hx();(Ht!==e||Gt!==t)&&(Dr=null,lo(e,t));do try{WE();break}catch(i){Bx(e,i)}while(1);if(sm(),Ke=n,fc.current=r,It!==null)throw Error(G(261));return Ht=null,Gt=0,Dt}function WE(){for(;It!==null;)qx(It)}function GE(){for(;It!==null&&!yC();)qx(It)}function qx(e){var t=Kx(e.alternate,e,Cn);e.memoizedProps=e.pendingProps,t===null?Wx(e):It=t,wm.current=null}function Wx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=UE(n,t),n!==null){n.flags&=32767,It=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dt=6,It=null;return}}else if(n=LE(n,t,Cn),n!==null){It=n;return}if(t=t.sibling,t!==null){It=t;return}It=t=e}while(t!==null);Dt===0&&(Dt=5)}function Qi(e,t,n){var r=tt,i=Kn.transition;try{Kn.transition=null,tt=1,KE(e,t,n,r)}finally{Kn.transition=i,tt=r}return null}function KE(e,t,n,r){do fs();while(wi!==null);if(Ke&6)throw Error(G(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(PC(e,o),e===Ht&&(It=Ht=null,Gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ru||(ru=!0,Yx(Zu,function(){return fs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Kn.transition,Kn.transition=null;var s=tt;tt=1;var a=Ke;Ke|=4,wm.current=null,zE(e,n),Ux(n,e),pE(ph),Xu=!!hh,ph=hh=null,e.current=n,BE(n),wC(),Ke=a,tt=s,Kn.transition=o}else e.current=n;if(ru&&(ru=!1,wi=e,pc=i),o=e.pendingLanes,o===0&&(Pi=null),bC(n.stateNode),wn(e,At()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hc)throw hc=!1,e=Th,Th=null,e;return pc&1&&e.tag!==0&&fs(),o=e.pendingLanes,o&1?e===Nh?Ia++:(Ia=0,Nh=e):Ia=0,Wi(),null}function fs(){if(wi!==null){var e=Ew(pc),t=Kn.transition,n=tt;try{if(Kn.transition=null,tt=16>e?16:e,wi===null)var r=!1;else{if(e=wi,wi=null,pc=0,Ke&6)throw Error(G(331));var i=Ke;for(Ke|=4,fe=e.current;fe!==null;){var o=fe,s=o.child;if(fe.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(fe=u;fe!==null;){var c=fe;switch(c.tag){case 0:case 11:case 15:Oa(8,c,o)}var d=c.child;if(d!==null)d.return=c,fe=d;else for(;fe!==null;){c=fe;var f=c.sibling,h=c.return;if(Fx(c),c===u){fe=null;break}if(f!==null){f.return=h,fe=f;break}fe=h}}}var m=o.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var C=g.sibling;g.sibling=null,g=C}while(g!==null)}}fe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,fe=s;else e:for(;fe!==null;){if(o=fe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Oa(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,fe=y;break e}fe=o.return}}var p=e.current;for(fe=p;fe!==null;){s=fe;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,fe=w;else e:for(s=p;fe!==null;){if(a=fe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ud(9,a)}}catch(P){St(a,a.return,P)}if(a===s){fe=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,fe=_;break e}fe=a.return}}if(Ke=i,Wi(),kr&&typeof kr.onPostCommitFiberRoot=="function")try{kr.onPostCommitFiberRoot(td,e)}catch{}r=!0}return r}finally{tt=n,Kn.transition=t}}return!1}function Fv(e,t,n){t=Cs(n,t),t=kx(e,t,1),e=Ri(e,t,1),t=un(),e!==null&&(Sl(e,1,t),wn(e,t))}function St(e,t,n){if(e.tag===3)Fv(e,e,n);else for(;t!==null;){if(t.tag===3){Fv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pi===null||!Pi.has(r))){e=Cs(n,e),e=Rx(t,e,1),t=Ri(t,e,1),e=un(),t!==null&&(Sl(t,1,e),wn(t,e));break}}t=t.return}}function YE(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=un(),e.pingedLanes|=e.suspendedLanes&n,Ht===e&&(Gt&n)===n&&(Dt===4||Dt===3&&(Gt&130023424)===Gt&&500>At()-_m?lo(e,0):xm|=n),wn(e,t)}function Gx(e,t){t===0&&(e.mode&1?(t=Gl,Gl<<=1,!(Gl&130023424)&&(Gl=4194304)):t=1);var n=un();e=Xr(e,t),e!==null&&(Sl(e,t,n),wn(e,n))}function ZE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gx(e,n)}function JE(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(t),Gx(e,n)}var Kx;Kx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||vn.current)gn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return gn=!1,DE(e,t,n);gn=!!(e.flags&131072)}else gn=!1,dt&&t.flags&1048576&&Jw(t,oc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ou(e,t),e=t.pendingProps;var i=xs(t,en.current);ds(t,n),i=pm(null,t,r,e,i,n);var o=mm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,yn(r)?(o=!0,rc(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,um(t),i.updater=ad,t.stateNode=i,i._reactInternals=t,Sh(t,r,e,n),t=kh(null,t,r,!0,o,n)):(t.tag=0,dt&&o&&nm(t),rn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ou(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=QE(r),e=ir(r,e),i){case 0:t=Eh(null,t,r,e,n);break e;case 1:t=Rv(null,t,r,e,n);break e;case 11:t=Ev(null,t,r,e,n);break e;case 14:t=kv(null,t,r,ir(r.type,e),n);break e}throw Error(G(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ir(r,i),Eh(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ir(r,i),Rv(e,t,r,i,n);case 3:e:{if(Ox(t),e===null)throw Error(G(387));r=t.pendingProps,o=t.memoizedState,i=o.element,tx(e,t),lc(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Cs(Error(G(423)),t),t=Pv(e,t,r,n,i);break e}else if(r!==i){i=Cs(Error(G(424)),t),t=Pv(e,t,r,n,i);break e}else for(kn=ki(t.stateNode.containerInfo.firstChild),Rn=t,dt=!0,lr=null,n=ox(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_s(),r===i){t=Qr(e,t,n);break e}rn(e,t,r,n)}t=t.child}return t;case 5:return sx(t),e===null&&xh(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,mh(r,i)?s=null:o!==null&&mh(r,o)&&(t.flags|=32),Ax(e,t),rn(e,t,s,n),t.child;case 6:return e===null&&xh(t),null;case 13:return Mx(e,t,n);case 4:return cm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=bs(t,null,r,n):rn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ir(r,i),Ev(e,t,r,i,n);case 7:return rn(e,t,t.pendingProps,n),t.child;case 8:return rn(e,t,t.pendingProps.children,n),t.child;case 12:return rn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,ot(sc,r._currentValue),r._currentValue=s,o!==null)if(mr(o.value,s)){if(o.children===i.children&&!vn.current){t=Qr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Kr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),_h(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(G(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),_h(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}rn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ds(t,n),i=Yn(i),r=r(i),t.flags|=1,rn(e,t,r,n),t.child;case 14:return r=t.type,i=ir(r,t.pendingProps),i=ir(r.type,i),kv(e,t,r,i,n);case 15:return Px(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ir(r,i),Ou(e,t),t.tag=1,yn(r)?(e=!0,rc(t)):e=!1,ds(t,n),rx(t,r,i),Sh(t,r,i,n),kh(null,t,r,!0,e,n);case 19:return Ix(e,t,n);case 22:return $x(e,t,n)}throw Error(G(156,t.tag))};function Yx(e,t){return _w(e,t)}function XE(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(e,t,n,r){return new XE(e,t,n,r)}function Em(e){return e=e.prototype,!(!e||!e.isReactComponent)}function QE(e){if(typeof e=="function")return Em(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hp)return 11;if(e===qp)return 14}return 2}function Ai(e,t){var n=e.alternate;return n===null?(n=Gn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Tu(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Em(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Wo:return uo(n.children,i,o,t);case Bp:s=8,i|=8;break;case Gf:return e=Gn(12,n,t,i|2),e.elementType=Gf,e.lanes=o,e;case Kf:return e=Gn(13,n,t,i),e.elementType=Kf,e.lanes=o,e;case Yf:return e=Gn(19,n,t,i),e.elementType=Yf,e.lanes=o,e;case iw:return dd(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nw:s=10;break e;case rw:s=9;break e;case Hp:s=11;break e;case qp:s=14;break e;case pi:s=16,r=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=Gn(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function uo(e,t,n,r){return e=Gn(7,e,r,t),e.lanes=n,e}function dd(e,t,n,r){return e=Gn(22,e,r,t),e.elementType=iw,e.lanes=n,e.stateNode={isHidden:!1},e}function df(e,t,n){return e=Gn(6,e,null,t),e.lanes=n,e}function ff(e,t,n){return t=Gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ek(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qd(0),this.expirationTimes=qd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function km(e,t,n,r,i,o,s,a,l){return e=new ek(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Gn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},um(o),e}function tk(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Zx(e){if(!e)return Di;e=e._reactInternals;e:{if(ko(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(yn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var n=e.type;if(yn(n))return Yw(e,n,t)}return t}function Jx(e,t,n,r,i,o,s,a,l){return e=km(n,r,!0,e,i,o,s,a,l),e.context=Zx(null),n=e.current,r=un(),i=$i(n),o=Kr(r,i),o.callback=t??null,Ri(n,o,i),e.current.lanes=i,Sl(e,i,r),wn(e,r),e}function fd(e,t,n,r){var i=t.current,o=un(),s=$i(i);return n=Zx(n),t.context===null?t.context=n:t.pendingContext=n,t=Kr(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ri(i,t,s),e!==null&&(hr(e,i,s,o),Pu(e,i,s)),s}function gc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Dv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Rm(e,t){Dv(e,t),(e=e.alternate)&&Dv(e,t)}function nk(){return null}var Xx=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pm(e){this._internalRoot=e}hd.prototype.render=Pm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));fd(e,t,null,null)};hd.prototype.unmount=Pm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wo(function(){fd(null,e,null,null)}),t[Jr]=null}};function hd(e){this._internalRoot=e}hd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gi.length&&t!==0&&t<gi[n].priority;n++);gi.splice(n,0,e),n===0&&Aw(e)}};function $m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Lv(){}function rk(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=gc(s);o.call(u)}}var s=Jx(t,r,e,0,null,!1,!1,"",Lv);return e._reactRootContainer=s,e[Jr]=s.current,Ja(e.nodeType===8?e.parentNode:e),wo(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=gc(l);a.call(u)}}var l=km(e,0,!1,null,null,!1,!1,"",Lv);return e._reactRootContainer=l,e[Jr]=l.current,Ja(e.nodeType===8?e.parentNode:e),wo(function(){fd(t,l,n,r)}),l}function md(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=gc(s);a.call(l)}}fd(t,s,e,i)}else s=rk(n,t,e,i,r);return gc(s)}kw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_a(t.pendingLanes);n!==0&&(Kp(t,n|1),wn(t,At()),!(Ke&6)&&(Es=At()+500,Wi()))}break;case 13:wo(function(){var r=Xr(e,1);if(r!==null){var i=un();hr(r,e,1,i)}}),Rm(e,1)}};Yp=function(e){if(e.tag===13){var t=Xr(e,134217728);if(t!==null){var n=un();hr(t,e,134217728,n)}Rm(e,134217728)}};Rw=function(e){if(e.tag===13){var t=$i(e),n=Xr(e,t);if(n!==null){var r=un();hr(n,e,t,r)}Rm(e,t)}};Pw=function(){return tt};$w=function(e,t){var n=tt;try{return tt=e,t()}finally{tt=n}};oh=function(e,t,n){switch(t){case"input":if(Xf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=od(r);if(!i)throw Error(G(90));sw(r),Xf(r,i)}}}break;case"textarea":lw(e,n);break;case"select":t=n.value,t!=null&&as(e,!!n.multiple,t,!1)}};mw=bm;gw=wo;var ik={usingClientEntryPoint:!1,Events:[El,Zo,od,hw,pw,bm]},sa={findFiberByHostInstance:no,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ok={bundleType:sa.bundleType,version:sa.version,rendererPackageName:sa.rendererPackageName,rendererConfig:sa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:li.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ww(e),e===null?null:e.stateNode},findFiberByHostInstance:sa.findFiberByHostInstance||nk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{td=iu.inject(ok),kr=iu}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ik;jn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$m(t))throw Error(G(200));return tk(e,t,null,n)};jn.createRoot=function(e,t){if(!$m(e))throw Error(G(299));var n=!1,r="",i=Xx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=km(e,1,!1,null,null,n,!1,r,i),e[Jr]=t.current,Ja(e.nodeType===8?e.parentNode:e),new Pm(t)};jn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=ww(t),e=e===null?null:e.stateNode,e};jn.flushSync=function(e){return wo(e)};jn.hydrate=function(e,t,n){if(!pd(t))throw Error(G(200));return md(null,e,t,!0,n)};jn.hydrateRoot=function(e,t,n){if(!$m(e))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Xx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Jx(t,null,e,1,n??null,i,!1,o,s),e[Jr]=t.current,Ja(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new hd(t)};jn.render=function(e,t,n){if(!pd(t))throw Error(G(200));return md(null,e,t,!1,n)};jn.unmountComponentAtNode=function(e){if(!pd(e))throw Error(G(40));return e._reactRootContainer?(wo(function(){md(null,null,e,!1,function(){e._reactRootContainer=null,e[Jr]=null})}),!0):!1};jn.unstable_batchedUpdates=bm;jn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!pd(n))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return md(e,t,n,!1,r)};jn.version="18.2.0-next-9e3b772b8-20220608";function Qx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qx)}catch(e){console.error(e)}}Qx(),Jy.exports=jn;var Ro=Jy.exports;const sk=Ly(Ro);var e_,Uv=Ro;e_=Uv.createRoot,Uv.hydrateRoot;/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mt(){return mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mt.apply(this,arguments)}var Mt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Mt||(Mt={}));const Vv="popstate";function ak(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return sl("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Rl(i)}return uk(t,n,null,e)}function Ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ks(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lk(){return Math.random().toString(36).substr(2,8)}function zv(e,t){return{usr:e.state,key:e.key,idx:t}}function sl(e,t,n,r){return n===void 0&&(n=null),mt({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ui(t):t,{state:n,key:t&&t.key||r||lk()})}function Rl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ui(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function uk(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Mt.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(mt({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){a=Mt.Pop;let C=c(),y=C==null?null:C-u;u=C,l&&l({action:a,location:g.location,delta:y})}function f(C,y){a=Mt.Push;let p=sl(g.location,C,y);n&&n(p,C),u=c()+1;let w=zv(p,u),_=g.createHref(p);try{s.pushState(w,"",_)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(_)}o&&l&&l({action:a,location:g.location,delta:1})}function h(C,y){a=Mt.Replace;let p=sl(g.location,C,y);n&&n(p,C),u=c();let w=zv(p,u),_=g.createHref(p);s.replaceState(w,"",_),o&&l&&l({action:a,location:g.location,delta:0})}function m(C){let y=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof C=="string"?C:Rl(C);return Ge(y,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,y)}let g={get action(){return a},get location(){return e(i,s)},listen(C){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Vv,d),l=C,()=>{i.removeEventListener(Vv,d),l=null}},createHref(C){return t(i,C)},createURL:m,encodeLocation(C){let y=m(C);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:h,go(C){return s.go(C)}};return g}var Rt;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Rt||(Rt={}));const ck=new Set(["lazy","caseSensitive","path","id","index","children"]);function dk(e){return e.index===!0}function Dh(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(Ge(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ge(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),dk(i)){let l=mt({},i,t(i),{id:a});return r[a]=l,l}else{let l=mt({},i,t(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Dh(i.children,t,s,r)),l}})}function rs(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?ui(t):t,i=Pl(r.pathname||"/",n);if(i==null)return null;let o=t_(e);hk(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=bk(o[a],Ek(i));return s}function fk(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function t_(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Ge(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=co([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Ge(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),t_(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:xk(u,o.index),routesMeta:c})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of n_(o.path))i(o,s,l)}),t}function n_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=n_(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function hk(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:_k(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const pk=/^:\w+$/,mk=3,gk=2,vk=1,yk=10,wk=-2,Bv=e=>e==="*";function xk(e,t){let n=e.split("/"),r=n.length;return n.some(Bv)&&(r+=wk),t&&(r+=gk),n.filter(i=>!Bv(i)).reduce((i,o)=>i+(pk.test(o)?mk:o===""?vk:yk),r)}function _k(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function bk(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=Sk({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;o.push({params:r,pathname:co([i,c.pathname]),pathnameBase:Ak(co([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=co([i,c.pathnameBase]))}return o}function Sk(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Ck(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let f=a[d]||"";s=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=kk(a[d]||"",c),u},{}),pathname:o,pathnameBase:s,pattern:e}}function Ck(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ks(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Ek(e){try{return decodeURI(e)}catch(t){return ks(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function kk(e,t){try{return decodeURIComponent(e)}catch(n){return ks(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Pl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Rk(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ui(e):e;return{pathname:n?n.startsWith("/")?n:Pk(n,t):t,search:Ok(r),hash:Mk(i)}}function Pk(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function hf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function r_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function $k(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=ui(e):(i=mt({},e),Ge(!i.pathname||!i.pathname.includes("?"),hf("?","pathname","search",i)),Ge(!i.pathname||!i.pathname.includes("#"),hf("#","pathname","hash",i)),Ge(!i.search||!i.search.includes("#"),hf("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let d=t.length-1;if(s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=Rk(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const co=e=>e.join("/").replace(/\/\/+/g,"/"),Ak=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ok=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Mk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Am{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function i_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const o_=["post","put","patch","delete"],Ik=new Set(o_),Tk=["get",...o_],Nk=new Set(Tk),jk=new Set([301,302,303,307,308]),Fk=new Set([307,308]),pf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Dk={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},aa={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},s_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lk=e=>({hasErrorBoundary:!!e.hasErrorBoundary});function Uk(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;Ge(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let T=e.detectErrorBoundary;i=D=>({hasErrorBoundary:T(D)})}else i=Lk;let o={},s=Dh(e.routes,i,void 0,o),a,l=e.basename||"/",u=mt({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),c=null,d=new Set,f=null,h=null,m=null,g=e.hydrationData!=null,C=rs(s,e.history.location,l),y=null;if(C==null){let T=zn(404,{pathname:e.history.location.pathname}),{matches:D,route:H}=Jv(s);C=D,y={[H.id]:T}}let p=!C.some(T=>T.route.lazy)&&(!C.some(T=>T.route.loader)||e.hydrationData!=null),w,_={historyAction:e.history.action,location:e.history.location,matches:C,initialized:p,navigation:pf,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||y,fetchers:new Map,blockers:new Map},P=Mt.Pop,I=!1,M,j=!1,W=!1,K=[],ae=[],V=new Map,X=0,Q=-1,we=new Map,ie=new Set,$e=new Map,B=new Map,ee=new Map,ce=!1;function Ee(){return c=e.history.listen(T=>{let{action:D,location:H,delta:le}=T;if(ce){ce=!1;return}ks(ee.size===0||le!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ke=Oo({currentLocation:_.location,nextLocation:H,historyAction:D});if(ke&&le!=null){ce=!0,e.history.go(le*-1),_n(ke,{state:"blocked",location:H,proceed(){_n(ke,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),e.history.go(le)},reset(){let Se=new Map(_.blockers);Se.set(ke,aa),je({blockers:Se})}});return}return Ce(D,H)}),_.initialized||Ce(Mt.Pop,_.location),w}function Ne(){c&&c(),d.clear(),M&&M.abort(),_.fetchers.forEach((T,D)=>L(D)),_.blockers.forEach((T,D)=>it(D))}function De(T){return d.add(T),()=>d.delete(T)}function je(T){_=mt({},_,T),d.forEach(D=>D(_))}function ct(T,D){var H,le;let ke=_.actionData!=null&&_.navigation.formMethod!=null&&ar(_.navigation.formMethod)&&_.navigation.state==="loading"&&((H=T.state)==null?void 0:H._isRedirect)!==!0,Se;D.actionData?Object.keys(D.actionData).length>0?Se=D.actionData:Se=null:ke?Se=_.actionData:Se=null;let Ae=D.loaderData?Zv(_.loaderData,D.loaderData,D.matches||[],D.errors):_.loaderData,_e=_.blockers;_e.size>0&&(_e=new Map(_e),_e.forEach((rt,jt)=>_e.set(jt,aa)));let xe=I===!0||_.navigation.formMethod!=null&&ar(_.navigation.formMethod)&&((le=T.state)==null?void 0:le._isRedirect)!==!0;a&&(s=a,a=void 0),j||P===Mt.Pop||(P===Mt.Push?e.history.push(T,T.state):P===Mt.Replace&&e.history.replace(T,T.state)),je(mt({},D,{actionData:Se,loaderData:Ae,historyAction:P,location:T,initialized:!0,navigation:pf,revalidation:"idle",restoreScrollPosition:Yi(T,D.matches||_.matches),preventScrollReset:xe,blockers:_e})),P=Mt.Pop,I=!1,j=!1,W=!1,K=[],ae=[]}async function Ye(T,D){if(typeof T=="number"){e.history.go(T);return}let H=Lh(_.location,_.matches,l,u.v7_prependBasename,T,D==null?void 0:D.fromRouteId,D==null?void 0:D.relative),{path:le,submission:ke,error:Se}=Hv(u.v7_normalizeFormMethod,!1,H,D),Ae=_.location,_e=sl(_.location,le,D&&D.state);_e=mt({},_e,e.history.encodeLocation(_e));let xe=D&&D.replace!=null?D.replace:void 0,rt=Mt.Push;xe===!0?rt=Mt.Replace:xe===!1||ke!=null&&ar(ke.formMethod)&&ke.formAction===_.location.pathname+_.location.search&&(rt=Mt.Replace);let jt=D&&"preventScrollReset"in D?D.preventScrollReset===!0:void 0,We=Oo({currentLocation:Ae,nextLocation:_e,historyAction:rt});if(We){_n(We,{state:"blocked",location:_e,proceed(){_n(We,{state:"proceeding",proceed:void 0,reset:void 0,location:_e}),Ye(T,D)},reset(){let Ze=new Map(_.blockers);Ze.set(We,aa),je({blockers:Ze})}});return}return await Ce(rt,_e,{submission:ke,pendingError:Se,preventScrollReset:jt,replace:D&&D.replace})}function de(){if($(),je({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){Ce(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}Ce(P||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation})}}async function Ce(T,D,H){M&&M.abort(),M=null,P=T,j=(H&&H.startUninterruptedRevalidation)===!0,Io(_.location,_.matches),I=(H&&H.preventScrollReset)===!0;let le=a||s,ke=H&&H.overrideNavigation,Se=rs(le,D,l);if(!Se){let Ze=zn(404,{pathname:D.pathname}),{matches:st,route:Dn}=Jv(le);Mr(),ct(D,{matches:st,loaderData:{},errors:{[Dn.id]:Ze}});return}if(_.initialized&&!W&&qk(_.location,D)&&!(H&&H.submission&&ar(H.submission.formMethod))){ct(D,{matches:Se});return}M=new AbortController;let Ae=ua(e.history,D,M.signal,H&&H.submission),_e,xe;if(H&&H.pendingError)xe={[is(Se).route.id]:H.pendingError};else if(H&&H.submission&&ar(H.submission.formMethod)){let Ze=await ve(Ae,D,H.submission,Se,{replace:H.replace});if(Ze.shortCircuited)return;_e=Ze.pendingActionData,xe=Ze.pendingActionError,ke=mf(D,H.submission),Ae=new Request(Ae.url,{signal:Ae.signal})}let{shortCircuited:rt,loaderData:jt,errors:We}=await Me(Ae,D,Se,ke,H&&H.submission,H&&H.fetcherSubmission,H&&H.replace,_e,xe);rt||(M=null,ct(D,mt({matches:Se},_e?{actionData:_e}:{},{loaderData:jt,errors:We})))}async function ve(T,D,H,le,ke){ke===void 0&&(ke={}),$();let Se=Yk(D,H);je({navigation:Se});let Ae,_e=Vh(le,D);if(!_e.route.action&&!_e.route.lazy)Ae={type:Rt.error,error:zn(405,{method:T.method,pathname:D.pathname,routeId:_e.route.id})};else if(Ae=await la("action",T,_e,le,o,i,l),T.signal.aborted)return{shortCircuited:!0};if(hs(Ae)){let xe;return ke&&ke.replace!=null?xe=ke.replace:xe=Ae.location===_.location.pathname+_.location.search,await Nt(_,Ae,{submission:H,replace:xe}),{shortCircuited:!0}}if(Ta(Ae)){let xe=is(le,_e.route.id);return(ke&&ke.replace)!==!0&&(P=Mt.Push),{pendingActionData:{},pendingActionError:{[xe.route.id]:Ae.error}}}if(oo(Ae))throw zn(400,{type:"defer-action"});return{pendingActionData:{[_e.route.id]:Ae.data}}}async function Me(T,D,H,le,ke,Se,Ae,_e,xe){let rt=le||mf(D,ke),jt=ke||Se||e0(rt),We=a||s,[Ze,st]=qv(e.history,_,H,jt,D,W,K,ae,$e,ie,We,l,_e,xe);if(Mr(Qe=>!(H&&H.some(kt=>kt.route.id===Qe))||Ze&&Ze.some(kt=>kt.route.id===Qe)),Q=++X,Ze.length===0&&st.length===0){let Qe=Y();return ct(D,mt({matches:H,loaderData:{},errors:xe||null},_e?{actionData:_e}:{},Qe?{fetchers:new Map(_.fetchers)}:{})),{shortCircuited:!0}}if(!j){st.forEach(kt=>{let Yt=_.fetchers.get(kt.key),vr=ca(void 0,Yt?Yt.data:void 0);_.fetchers.set(kt.key,vr)});let Qe=_e||_.actionData;je(mt({navigation:rt},Qe?Object.keys(Qe).length===0?{actionData:null}:{actionData:Qe}:{},st.length>0?{fetchers:new Map(_.fetchers)}:{}))}st.forEach(Qe=>{V.has(Qe.key)&&se(Qe.key),Qe.controller&&V.set(Qe.key,Qe.controller)});let Dn=()=>st.forEach(Qe=>se(Qe.key));M&&M.signal.addEventListener("abort",Dn);let{results:bn,loaderResults:Ln,fetcherResults:Ir}=await tn(_.matches,H,Ze,st,T);if(T.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",Dn),st.forEach(Qe=>V.delete(Qe.key));let hn=Xv(bn);if(hn){if(hn.idx>=Ze.length){let Qe=st[hn.idx-Ze.length].key;ie.add(Qe)}return await Nt(_,hn.result,{replace:Ae}),{shortCircuited:!0}}let{loaderData:nn,errors:gr}=Yv(_,H,Ze,Ln,xe,st,Ir,B);B.forEach((Qe,kt)=>{Qe.subscribe(Yt=>{(Yt||Qe.done)&&B.delete(kt)})});let Zi=Y(),No=ge(Q),Js=Zi||No||st.length>0;return mt({loaderData:nn,errors:gr},Js?{fetchers:new Map(_.fetchers)}:{})}function Le(T){return _.fetchers.get(T)||Dk}function Ue(T,D,H,le){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");V.has(T)&&se(T);let ke=a||s,Se=Lh(_.location,_.matches,l,u.v7_prependBasename,H,D,le==null?void 0:le.relative),Ae=rs(ke,Se,l);if(!Ae){F(T,D,zn(404,{pathname:Se}));return}let{path:_e,submission:xe,error:rt}=Hv(u.v7_normalizeFormMethod,!0,Se,le);if(rt){F(T,D,rt);return}let jt=Vh(Ae,_e);if(I=(le&&le.preventScrollReset)===!0,xe&&ar(xe.formMethod)){ft(T,D,_e,jt,Ae,xe);return}$e.set(T,{routeId:D,path:_e}),Et(T,D,_e,jt,Ae,xe)}async function ft(T,D,H,le,ke,Se){if($(),$e.delete(T),!le.route.action&&!le.route.lazy){let ht=zn(405,{method:Se.formMethod,pathname:H,routeId:D});F(T,D,ht);return}let Ae=_.fetchers.get(T),_e=Zk(Se,Ae);_.fetchers.set(T,_e),je({fetchers:new Map(_.fetchers)});let xe=new AbortController,rt=ua(e.history,H,xe.signal,Se);V.set(T,xe);let jt=X,We=await la("action",rt,le,ke,o,i,l);if(rt.signal.aborted){V.get(T)===xe&&V.delete(T);return}if(hs(We))if(V.delete(T),Q>jt){let ht=Bo(void 0);_.fetchers.set(T,ht),je({fetchers:new Map(_.fetchers)});return}else{ie.add(T);let ht=ca(Se);return _.fetchers.set(T,ht),je({fetchers:new Map(_.fetchers)}),Nt(_,We,{fetcherSubmission:Se})}if(Ta(We)){F(T,D,We.error);return}if(oo(We))throw zn(400,{type:"defer-action"});let Ze=_.navigation.location||_.location,st=ua(e.history,Ze,xe.signal),Dn=a||s,bn=_.navigation.state!=="idle"?rs(Dn,_.navigation.location,l):_.matches;Ge(bn,"Didn't find any matches after fetcher action");let Ln=++X;we.set(T,Ln);let Ir=ca(Se,We.data);_.fetchers.set(T,Ir);let[hn,nn]=qv(e.history,_,bn,Se,Ze,W,K,ae,$e,ie,Dn,l,{[le.route.id]:We.data},void 0);nn.filter(ht=>ht.key!==T).forEach(ht=>{let Tr=ht.key,Xs=_.fetchers.get(Tr),Ld=ca(void 0,Xs?Xs.data:void 0);_.fetchers.set(Tr,Ld),V.has(Tr)&&se(Tr),ht.controller&&V.set(Tr,ht.controller)}),je({fetchers:new Map(_.fetchers)});let gr=()=>nn.forEach(ht=>se(ht.key));xe.signal.addEventListener("abort",gr);let{results:Zi,loaderResults:No,fetcherResults:Js}=await tn(_.matches,bn,hn,nn,st);if(xe.signal.aborted)return;xe.signal.removeEventListener("abort",gr),we.delete(T),V.delete(T),nn.forEach(ht=>V.delete(ht.key));let Qe=Xv(Zi);if(Qe){if(Qe.idx>=hn.length){let ht=nn[Qe.idx-hn.length].key;ie.add(ht)}return Nt(_,Qe.result)}let{loaderData:kt,errors:Yt}=Yv(_,_.matches,hn,No,void 0,nn,Js,B);if(_.fetchers.has(T)){let ht=Bo(We.data);_.fetchers.set(T,ht)}let vr=ge(Ln);_.navigation.state==="loading"&&Ln>Q?(Ge(P,"Expected pending action"),M&&M.abort(),ct(_.navigation.location,{matches:bn,loaderData:kt,errors:Yt,fetchers:new Map(_.fetchers)})):(je(mt({errors:Yt,loaderData:Zv(_.loaderData,kt,bn,Yt)},vr||nn.length>0?{fetchers:new Map(_.fetchers)}:{})),W=!1)}async function Et(T,D,H,le,ke,Se){let Ae=_.fetchers.get(T),_e=ca(Se,Ae?Ae.data:void 0);_.fetchers.set(T,_e),je({fetchers:new Map(_.fetchers)});let xe=new AbortController,rt=ua(e.history,H,xe.signal);V.set(T,xe);let jt=X,We=await la("loader",rt,le,ke,o,i,l);if(oo(We)&&(We=await u_(We,rt.signal,!0)||We),V.get(T)===xe&&V.delete(T),rt.signal.aborted)return;if(hs(We))if(Q>jt){let st=Bo(void 0);_.fetchers.set(T,st),je({fetchers:new Map(_.fetchers)});return}else{ie.add(T),await Nt(_,We);return}if(Ta(We)){let st=is(_.matches,D);_.fetchers.delete(T),je({fetchers:new Map(_.fetchers),errors:{[st.route.id]:We.error}});return}Ge(!oo(We),"Unhandled fetcher deferred data");let Ze=Bo(We.data);_.fetchers.set(T,Ze),je({fetchers:new Map(_.fetchers)})}async function Nt(T,D,H){let{submission:le,fetcherSubmission:ke,replace:Se}=H===void 0?{}:H;D.revalidate&&(W=!0);let Ae=sl(T.location,D.location,{_isRedirect:!0});if(Ge(Ae,"Expected a location on the redirect navigation"),n){let Ze=!1;if(D.reloadDocument)Ze=!0;else if(s_.test(D.location)){const st=e.history.createURL(D.location);Ze=st.origin!==t.location.origin||Pl(st.pathname,l)==null}if(Ze){Se?t.location.replace(D.location):t.location.assign(D.location);return}}M=null;let _e=Se===!0?Mt.Replace:Mt.Push,{formMethod:xe,formAction:rt,formEncType:jt}=T.navigation;!le&&!ke&&xe&&rt&&jt&&(le=e0(T.navigation));let We=le||ke;if(Fk.has(D.status)&&We&&ar(We.formMethod))await Ce(_e,Ae,{submission:mt({},We,{formAction:D.location}),preventScrollReset:I});else{let Ze=mf(Ae,le);await Ce(_e,Ae,{overrideNavigation:Ze,fetcherSubmission:ke,preventScrollReset:I})}}async function tn(T,D,H,le,ke){let Se=await Promise.all([...H.map(xe=>la("loader",ke,xe,D,o,i,l)),...le.map(xe=>xe.matches&&xe.match&&xe.controller?la("loader",ua(e.history,xe.path,xe.controller.signal),xe.match,xe.matches,o,i,l):{type:Rt.error,error:zn(404,{pathname:xe.path})})]),Ae=Se.slice(0,H.length),_e=Se.slice(H.length);return await Promise.all([Qv(T,H,Ae,Ae.map(()=>ke.signal),!1,_.loaderData),Qv(T,le.map(xe=>xe.match),_e,le.map(xe=>xe.controller?xe.controller.signal:null),!0)]),{results:Se,loaderResults:Ae,fetcherResults:_e}}function $(){W=!0,K.push(...Mr()),$e.forEach((T,D)=>{V.has(D)&&(ae.push(D),se(D))})}function F(T,D,H){let le=is(_.matches,D);L(T),je({errors:{[le.route.id]:H},fetchers:new Map(_.fetchers)})}function L(T){let D=_.fetchers.get(T);V.has(T)&&!(D&&D.state==="loading"&&we.has(T))&&se(T),$e.delete(T),we.delete(T),ie.delete(T),_.fetchers.delete(T)}function se(T){let D=V.get(T);Ge(D,"Expected fetch controller: "+T),D.abort(),V.delete(T)}function Z(T){for(let D of T){let H=Le(D),le=Bo(H.data);_.fetchers.set(D,le)}}function Y(){let T=[],D=!1;for(let H of ie){let le=_.fetchers.get(H);Ge(le,"Expected fetcher: "+H),le.state==="loading"&&(ie.delete(H),T.push(H),D=!0)}return Z(T),D}function ge(T){let D=[];for(let[H,le]of we)if(le<T){let ke=_.fetchers.get(H);Ge(ke,"Expected fetcher: "+H),ke.state==="loading"&&(se(H),we.delete(H),D.push(H))}return Z(D),D.length>0}function He(T,D){let H=_.blockers.get(T)||aa;return ee.get(T)!==D&&ee.set(T,D),H}function it(T){_.blockers.delete(T),ee.delete(T)}function _n(T,D){let H=_.blockers.get(T)||aa;Ge(H.state==="unblocked"&&D.state==="blocked"||H.state==="blocked"&&D.state==="blocked"||H.state==="blocked"&&D.state==="proceeding"||H.state==="blocked"&&D.state==="unblocked"||H.state==="proceeding"&&D.state==="unblocked","Invalid blocker state transition: "+H.state+" -> "+D.state);let le=new Map(_.blockers);le.set(T,D),je({blockers:le})}function Oo(T){let{currentLocation:D,nextLocation:H,historyAction:le}=T;if(ee.size===0)return;ee.size>1&&ks(!1,"A router only supports one blocker at a time");let ke=Array.from(ee.entries()),[Se,Ae]=ke[ke.length-1],_e=_.blockers.get(Se);if(!(_e&&_e.state==="proceeding")&&Ae({currentLocation:D,nextLocation:H,historyAction:le}))return Se}function Mr(T){let D=[];return B.forEach((H,le)=>{(!T||T(le))&&(H.cancel(),D.push(le),B.delete(le))}),D}function Ki(T,D,H){if(f=T,m=D,h=H||null,!g&&_.navigation===pf){g=!0;let le=Yi(_.location,_.matches);le!=null&&je({restoreScrollPosition:le})}return()=>{f=null,m=null,h=null}}function Mo(T,D){return h&&h(T,D.map(le=>fk(le,_.loaderData)))||T.key}function Io(T,D){if(f&&m){let H=Mo(T,D);f[H]=m()}}function Yi(T,D){if(f){let H=Mo(T,D),le=f[H];if(typeof le=="number")return le}return null}function To(T){o={},a=Dh(T,i,void 0,o)}return w={get basename(){return l},get state(){return _},get routes(){return s},initialize:Ee,subscribe:De,enableScrollRestoration:Ki,navigate:Ye,fetch:Ue,revalidate:de,createHref:T=>e.history.createHref(T),encodeLocation:T=>e.history.encodeLocation(T),getFetcher:Le,deleteFetcher:L,dispose:Ne,getBlocker:He,deleteBlocker:it,_internalFetchControllers:V,_internalActiveDeferreds:B,_internalSetRoutes:To},w}function Vk(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Lh(e,t,n,r,i,o,s){let a,l;if(o!=null&&s!=="path"){a=[];for(let c of t)if(a.push(c),c.route.id===o){l=c;break}}else a=t,l=t[t.length-1];let u=$k(i||".",r_(a).map(c=>c.pathnameBase),Pl(e.pathname,n)||e.pathname,s==="path");return i==null&&(u.search=e.search,u.hash=e.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!Om(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:co([n,u.pathname])),Rl(u)}function Hv(e,t,n,r){if(!r||!Vk(r))return{path:n};if(r.formMethod&&!Kk(r.formMethod))return{path:n,error:zn(405,{method:r.formMethod})};let i=()=>({path:n,error:zn(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=e?o.toUpperCase():o.toLowerCase(),a=l_(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ar(s))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,m)=>{let[g,C]=m;return""+h+g+"="+C+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!ar(s))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}Ge(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=Uh(r.formData),u=r.formData;else if(r.body instanceof FormData)l=Uh(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=Kv(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=Kv(l)}catch{return i()}let c={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(ar(c.formMethod))return{path:n,submission:c};let d=ui(n);return t&&d.search&&Om(d.search)&&l.append("index",""),d.search="?"+l,{path:Rl(d),submission:c}}function zk(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function qv(e,t,n,r,i,o,s,a,l,u,c,d,f,h){let m=h?Object.values(h)[0]:f?Object.values(f)[0]:void 0,g=e.createURL(t.location),C=e.createURL(i),y=h?Object.keys(h)[0]:void 0,w=zk(n,y).filter((P,I)=>{if(P.route.lazy)return!0;if(P.route.loader==null)return!1;if(Bk(t.loaderData,t.matches[I],P)||s.some(W=>W===P.route.id))return!0;let M=t.matches[I],j=P;return Wv(P,mt({currentUrl:g,currentParams:M.params,nextUrl:C,nextParams:j.params},r,{actionResult:m,defaultShouldRevalidate:o||g.pathname+g.search===C.pathname+C.search||g.search!==C.search||a_(M,j)}))}),_=[];return l.forEach((P,I)=>{if(!n.some(ae=>ae.route.id===P.routeId))return;let M=rs(c,P.path,d);if(!M){_.push({key:I,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let j=t.fetchers.get(I),W=Vh(M,P.path),K=!1;u.has(I)?K=!1:a.includes(I)?K=!0:j&&j.state!=="idle"&&j.data===void 0?K=o:K=Wv(W,mt({currentUrl:g,currentParams:t.matches[t.matches.length-1].params,nextUrl:C,nextParams:n[n.length-1].params},r,{actionResult:m,defaultShouldRevalidate:o})),K&&_.push({key:I,routeId:P.routeId,path:P.path,matches:M,match:W,controller:new AbortController})}),[w,_]}function Bk(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function a_(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Wv(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function Gv(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];Ge(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";ks(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!ck.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,mt({},t(i),{lazy:void 0}))}async function la(e,t,n,r,i,o,s,a){a===void 0&&(a={});let l,u,c,d=m=>{let g,C=new Promise((y,p)=>g=p);return c=()=>g(),t.signal.addEventListener("abort",c),Promise.race([m({request:t,params:n.params,context:a.requestContext}),C])};try{let m=n.route[e];if(n.route.lazy)if(m){let g,C=await Promise.all([d(m).catch(y=>{g=y}),Gv(n.route,o,i)]);if(g)throw g;u=C[0]}else if(await Gv(n.route,o,i),m=n.route[e],m)u=await d(m);else if(e==="action"){let g=new URL(t.url),C=g.pathname+g.search;throw zn(405,{method:t.method,pathname:C,routeId:n.route.id})}else return{type:Rt.data,data:void 0};else if(m)u=await d(m);else{let g=new URL(t.url),C=g.pathname+g.search;throw zn(404,{pathname:C})}Ge(u!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(m){l=Rt.error,u=m}finally{c&&t.signal.removeEventListener("abort",c)}if(Gk(u)){let m=u.status;if(jk.has(m)){let y=u.headers.get("Location");if(Ge(y,"Redirects returned/thrown from loaders/actions must have a Location header"),!s_.test(y))y=Lh(new URL(t.url),r.slice(0,r.indexOf(n)+1),s,!0,y);else if(!a.isStaticRequest){let p=new URL(t.url),w=y.startsWith("//")?new URL(p.protocol+y):new URL(y),_=Pl(w.pathname,s)!=null;w.origin===p.origin&&_&&(y=w.pathname+w.search+w.hash)}if(a.isStaticRequest)throw u.headers.set("Location",y),u;return{type:Rt.redirect,status:m,location:y,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(a.isRouteRequest)throw{type:l===Rt.error?Rt.error:Rt.data,response:u};let g,C=u.headers.get("Content-Type");return C&&/\bapplication\/json\b/.test(C)?g=await u.json():g=await u.text(),l===Rt.error?{type:l,error:new Am(m,u.statusText,g),headers:u.headers}:{type:Rt.data,data:g,statusCode:u.status,headers:u.headers}}if(l===Rt.error)return{type:l,error:u};if(Wk(u)){var f,h;return{type:Rt.deferred,deferredData:u,statusCode:(f=u.init)==null?void 0:f.status,headers:((h=u.init)==null?void 0:h.headers)&&new Headers(u.init.headers)}}return{type:Rt.data,data:u}}function ua(e,t,n,r){let i=e.createURL(l_(t)).toString(),o={signal:n};if(r&&ar(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=Uh(r.formData):o.body=r.formData}return new Request(i,o)}function Uh(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Kv(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Hk(e,t,n,r,i){let o={},s=null,a,l=!1,u={};return n.forEach((c,d)=>{let f=t[d].route.id;if(Ge(!hs(c),"Cannot handle redirect results in processLoaderData"),Ta(c)){let h=is(e,f),m=c.error;r&&(m=Object.values(r)[0],r=void 0),s=s||{},s[h.route.id]==null&&(s[h.route.id]=m),o[f]=void 0,l||(l=!0,a=i_(c.error)?c.error.status:500),c.headers&&(u[f]=c.headers)}else oo(c)?(i.set(f,c.deferredData),o[f]=c.deferredData.data):o[f]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[f]=c.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function Yv(e,t,n,r,i,o,s,a){let{loaderData:l,errors:u}=Hk(t,n,r,i,a);for(let c=0;c<o.length;c++){let{key:d,match:f,controller:h}=o[c];Ge(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let m=s[c];if(!(h&&h.signal.aborted))if(Ta(m)){let g=is(e.matches,f==null?void 0:f.route.id);u&&u[g.route.id]||(u=mt({},u,{[g.route.id]:m.error})),e.fetchers.delete(d)}else if(hs(m))Ge(!1,"Unhandled fetcher revalidation redirect");else if(oo(m))Ge(!1,"Unhandled fetcher deferred data");else{let g=Bo(m.data);e.fetchers.set(d,g)}}return{loaderData:l,errors:u}}function Zv(e,t,n,r){let i=mt({},t);for(let o of n){let s=o.route.id;if(t.hasOwnProperty(s)?t[s]!==void 0&&(i[s]=t[s]):e[s]!==void 0&&o.route.loader&&(i[s]=e[s]),r&&r.hasOwnProperty(s))break}return i}function is(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Jv(e){let t=e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function zn(e,t){let{pathname:n,routeId:r,method:i,type:o}=t===void 0?{}:t,s="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):e===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):e===404?(s="Not Found",a='No route matches URL "'+n+'"'):e===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Am(e||500,s,new Error(a),!0)}function Xv(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(hs(n))return{result:n,idx:t}}}function l_(e){let t=typeof e=="string"?ui(e):e;return Rl(mt({},t,{hash:""}))}function qk(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function oo(e){return e.type===Rt.deferred}function Ta(e){return e.type===Rt.error}function hs(e){return(e&&e.type)===Rt.redirect}function Wk(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function Gk(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Kk(e){return Nk.has(e.toLowerCase())}function ar(e){return Ik.has(e.toLowerCase())}async function Qv(e,t,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=t[s];if(!l)continue;let u=e.find(d=>d.route.id===l.route.id),c=u!=null&&!a_(u,l)&&(o&&o[l.route.id])!==void 0;if(oo(a)&&(i||c)){let d=r[s];Ge(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await u_(a,d,i).then(f=>{f&&(n[s]=f||n[s])})}}}async function u_(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Rt.data,data:e.deferredData.unwrappedData}}catch(i){return{type:Rt.error,error:i}}return{type:Rt.data,data:e.deferredData.data}}}function Om(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Vh(e,t){let n=typeof t=="string"?ui(t).search:t.search;if(e[e.length-1].route.index&&Om(n||""))return e[e.length-1];let r=r_(e);return r[r.length-1]}function e0(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:s}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function mf(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Yk(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function ca(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Zk(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Bo(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zh(){return zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zh.apply(this,arguments)}const c_=v.createContext(null),d_=v.createContext(null),f_=v.createContext(null),gd=v.createContext(null),$l=v.createContext({outlet:null,matches:[],isDataRoute:!1}),h_=v.createContext(null);function Mm(){return v.useContext(gd)!=null}function Jk(){return Mm()||Ge(!1),v.useContext(gd).location}const Xk=v.createContext(null);function Qk(e){let t=v.useContext($l).outlet;return t&&v.createElement(Xk.Provider,{value:e},t)}function eR(e,t,n){Mm()||Ge(!1);let{navigator:r}=v.useContext(f_),{matches:i}=v.useContext($l),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=Jk(),u;if(t){var c;let g=typeof t=="string"?ui(t):t;a==="/"||(c=g.pathname)!=null&&c.startsWith(a)||Ge(!1),u=g}else u=l;let d=u.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",h=rs(e,{pathname:f}),m=oR(h&&h.map(g=>Object.assign({},g,{params:Object.assign({},s,g.params),pathname:co([a,r.encodeLocation?r.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:co([a,r.encodeLocation?r.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,n);return t&&m?v.createElement(gd.Provider,{value:{location:zh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Mt.Pop}},m):m}function tR(){let e=uR(),t=i_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:i},n):null,o)}const nR=v.createElement(tR,null);class rR extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?v.createElement($l.Provider,{value:this.props.routeContext},v.createElement(h_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iR(e){let{routeContext:t,match:n,children:r}=e,i=v.useContext(c_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement($l.Provider,{value:t},r)}function oR(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let o=e,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=o.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id]));a>=0||Ge(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,l,u)=>{let c=l.route.id?s==null?void 0:s[l.route.id]:null,d=null;n&&(d=l.route.errorElement||nR);let f=t.concat(o.slice(0,u+1)),h=()=>{let m;return c?m=d:l.route.Component?m=v.createElement(l.route.Component,null):l.route.element?m=l.route.element:m=a,v.createElement(iR,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:m})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?v.createElement(rR,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:h(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):h()},null)}var Bh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Bh||{});function sR(e){let t=v.useContext(d_);return t||Ge(!1),t}function aR(e){let t=v.useContext($l);return t||Ge(!1),t}function lR(e){let t=aR(),n=t.matches[t.matches.length-1];return n.route.id||Ge(!1),n.route.id}function uR(){var e;let t=v.useContext(h_),n=sR(Bh.UseRouteError),r=lR(Bh.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}const cR="startTransition",t0=Yy[cR];function dR(e){let{fallbackElement:t,router:n,future:r}=e,[i,o]=v.useState(n.state),{v7_startTransition:s}=r||{},a=v.useCallback(d=>{s&&t0?t0(()=>o(d)):o(d)},[o,s]);v.useLayoutEffect(()=>n.subscribe(a),[n,a]);let l=v.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:d=>n.navigate(d),push:(d,f,h)=>n.navigate(d,{state:f,preventScrollReset:h==null?void 0:h.preventScrollReset}),replace:(d,f,h)=>n.navigate(d,{replace:!0,state:f,preventScrollReset:h==null?void 0:h.preventScrollReset})}),[n]),u=n.basename||"/",c=v.useMemo(()=>({router:n,navigator:l,static:!1,basename:u}),[n,l,u]);return v.createElement(v.Fragment,null,v.createElement(c_.Provider,{value:c},v.createElement(d_.Provider,{value:i},v.createElement(pR,{basename:u,location:i.location,navigationType:i.historyAction,navigator:l},i.initialized?v.createElement(fR,{routes:n.routes,state:i}):t))),null)}function fR(e){let{routes:t,state:n}=e;return eR(t,void 0,n)}function hR(e){return Qk(e.context)}function pR(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Mt.Pop,navigator:o,static:s=!1}=e;Mm()&&Ge(!1);let a=t.replace(/^\/*/,"/"),l=v.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=ui(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:h="default"}=r,m=v.useMemo(()=>{let g=Pl(u,a);return g==null?null:{location:{pathname:g,search:c,hash:d,state:f,key:h},navigationType:i}},[a,u,c,d,f,h,i]);return m==null?null:v.createElement(f_.Provider,{value:l},v.createElement(gd.Provider,{children:n,value:m}))}new Promise(()=>{});function mR(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:v.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:v.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vc(){return vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vc.apply(this,arguments)}function gR(e,t){return Uk({basename:t==null?void 0:t.basename,future:vc({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:ak({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||vR(),routes:e,mapRouteProperties:mR}).initialize()}function vR(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=vc({},t,{errors:yR(t.errors)})),t}function yR(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new Am(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}var n0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(n0||(n0={}));var r0;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(r0||(r0={}));function wR(e){return R.jsx(R.Fragment,{children:e.components.reduceRight((t,n)=>R.jsx(n,{children:t}),e.children)})}var xR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const _R=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Bs=(e,t)=>{const n=v.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:a,...l},u)=>v.createElement("svg",{ref:u,...xR,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:`lucide lucide-${_R(e)}`,...l},[...t.map(([c,d])=>v.createElement(c,d)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${e}`,n},bR=Bs("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),p_=Bs("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),m_=Bs("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),SR=Bs("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),CR=Bs("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),ER=Bs("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * table-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xi(e,t){return typeof e=="function"?e(t):e}function Mn(e,t){return n=>{t.setState(r=>({...r,[e]:xi(n,r[e])}))}}function yc(e){return e instanceof Function}function kR(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function RR(e,t){const n=[],r=i=>{i.forEach(o=>{n.push(o);const s=t(o);s!=null&&s.length&&r(s)})};return r(e),n}function Oe(e,t,n){let r=[],i;return()=>{let o;n.key&&n.debug&&(o=Date.now());const s=e();if(!(s.length!==r.length||s.some((u,c)=>r[c]!==u)))return i;r=s;let l;if(n.key&&n.debug&&(l=Date.now()),i=t(...s),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const u=Math.round((Date.now()-o)*100)/100,c=Math.round((Date.now()-l)*100)/100,d=c/16,f=(h,m)=>{for(h=String(h);h.length<m;)h=" "+h;return h};console.info(`%c ${f(c,5)} /${f(u,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*d,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function PR(e,t,n,r){var i,o;const a={...e._getDefaultColumnDef(),...t},l=a.accessorKey;let u=(i=(o=a.id)!=null?o:l?l.replace(".","_"):void 0)!=null?i:typeof a.header=="string"?a.header:void 0,c;if(a.accessorFn?c=a.accessorFn:l&&(l.includes(".")?c=f=>{let h=f;for(const g of l.split(".")){var m;h=(m=h)==null?void 0:m[g]}return h}:c=f=>f[a.accessorKey]),!u)throw new Error;let d={id:`${String(u)}`,accessorFn:c,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:Oe(()=>[!0],()=>{var f;return[d,...(f=d.columns)==null?void 0:f.flatMap(h=>h.getFlatColumns())]},{key:"column.getFlatColumns",debug:()=>{var f;return(f=e.options.debugAll)!=null?f:e.options.debugColumns}}),getLeafColumns:Oe(()=>[e._getOrderColumnsFn()],f=>{var h;if((h=d.columns)!=null&&h.length){let m=d.columns.flatMap(g=>g.getLeafColumns());return f(m)}return[d]},{key:"column.getLeafColumns",debug:()=>{var f;return(f=e.options.debugAll)!=null?f:e.options.debugColumns}})};for(const f of e._features)f.createColumn==null||f.createColumn(d,e);return d}function i0(e,t,n){var r;let o={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const s=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),s.push(l)};return a(o),s},getContext:()=>({table:e,header:o,column:t})};return e._features.forEach(s=>{s.createHeader==null||s.createHeader(o,e)}),o}const $R={createTable:e=>{e.getHeaderGroups=Oe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>{var o,s;const a=(o=r==null?void 0:r.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?o:[],l=(s=i==null?void 0:i.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?s:[],u=n.filter(d=>!(r!=null&&r.includes(d.id))&&!(i!=null&&i.includes(d.id)));return ou(t,[...a,...u,...l],e)},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getCenterHeaderGroups=Oe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>(n=n.filter(o=>!(r!=null&&r.includes(o.id))&&!(i!=null&&i.includes(o.id))),ou(t,n,e,"center")),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getLeftHeaderGroups=Oe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var i;const o=(i=r==null?void 0:r.map(s=>n.find(a=>a.id===s)).filter(Boolean))!=null?i:[];return ou(t,o,e,"left")},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getRightHeaderGroups=Oe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var i;const o=(i=r==null?void 0:r.map(s=>n.find(a=>a.id===s)).filter(Boolean))!=null?i:[];return ou(t,o,e,"right")},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getFooterGroups=Oe(()=>[e.getHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getLeftFooterGroups=Oe(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getCenterFooterGroups=Oe(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getRightFooterGroups=Oe(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getFlatHeaders=Oe(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getLeftFlatHeaders=Oe(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getCenterFlatHeaders=Oe(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getRightFlatHeaders=Oe(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getCenterLeafHeaders=Oe(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getLeftLeafHeaders=Oe(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getRightLeafHeaders=Oe(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getLeafHeaders=Oe(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var i,o,s,a,l,u;return[...(i=(o=t[0])==null?void 0:o.headers)!=null?i:[],...(s=(a=n[0])==null?void 0:a.headers)!=null?s:[],...(l=(u=r[0])==null?void 0:u.headers)!=null?l:[]].map(c=>c.getLeafHeaders()).flat()},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}})}};function ou(e,t,n,r){var i,o;let s=0;const a=function(f,h){h===void 0&&(h=1),s=Math.max(s,h),f.filter(m=>m.getIsVisible()).forEach(m=>{var g;(g=m.columns)!=null&&g.length&&a(m.columns,h+1)},0)};a(e);let l=[];const u=(f,h)=>{const m={depth:h,id:[r,`${h}`].filter(Boolean).join("_"),headers:[]},g=[];f.forEach(C=>{const y=[...g].reverse()[0],p=C.column.depth===m.depth;let w,_=!1;if(p&&C.column.parent?w=C.column.parent:(w=C.column,_=!0),y&&(y==null?void 0:y.column)===w)y.subHeaders.push(C);else{const P=i0(n,w,{id:[r,h,w.id,C==null?void 0:C.id].filter(Boolean).join("_"),isPlaceholder:_,placeholderId:_?`${g.filter(I=>I.column===w).length}`:void 0,depth:h,index:g.length});P.subHeaders.push(C),g.push(P)}m.headers.push(C),C.headerGroup=m}),l.push(m),h>0&&u(g,h-1)},c=t.map((f,h)=>i0(n,f,{depth:s,index:h}));u(c,s-1),l.reverse();const d=f=>f.filter(m=>m.column.getIsVisible()).map(m=>{let g=0,C=0,y=[0];m.subHeaders&&m.subHeaders.length?(y=[],d(m.subHeaders).forEach(w=>{let{colSpan:_,rowSpan:P}=w;g+=_,y.push(P)})):g=1;const p=Math.min(...y);return C=C+p,m.colSpan=g,m.rowSpan=C,{colSpan:g,rowSpan:C}});return d((i=(o=l[0])==null?void 0:o.headers)!=null?i:[]),l}const su={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},gf=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),AR={getDefaultColumnDef:()=>su,getInitialState:e=>({columnSizing:{},columnSizingInfo:gf(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",onColumnSizingChange:Mn("columnSizing",e),onColumnSizingInfoChange:Mn("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;const o=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:su.minSize,(r=o??e.columnDef.size)!=null?r:su.size),(i=e.columnDef.maxSize)!=null?i:su.maxSize)},e.getStart=n=>{const r=n?n==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns(),i=r.findIndex(o=>o.id===e.id);if(i>0){const o=r[i-1];return o.getStart(n)+o.getSize()}return 0},e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...i}=n;return i})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var o;n+=(o=i.column.getSize())!=null?o:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=()=>{const n=t.getColumn(e.column.id),r=n==null?void 0:n.getCanResize();return i=>{if(!n||!r||(i.persist==null||i.persist(),vf(i)&&i.touches&&i.touches.length>1))return;const o=e.getSize(),s=e?e.getLeafHeaders().map(g=>[g.column.id,g.column.getSize()]):[[n.id,n.getSize()]],a=vf(i)?Math.round(i.touches[0].clientX):i.clientX,l={},u=(g,C)=>{typeof C=="number"&&(t.setColumnSizingInfo(y=>{var p,w;const _=C-((p=y==null?void 0:y.startOffset)!=null?p:0),P=Math.max(_/((w=y==null?void 0:y.startSize)!=null?w:0),-.999999);return y.columnSizingStart.forEach(I=>{let[M,j]=I;l[M]=Math.round(Math.max(j+j*P,0)*100)/100}),{...y,deltaOffset:_,deltaPercentage:P}}),(t.options.columnResizeMode==="onChange"||g==="end")&&t.setColumnSizing(y=>({...y,...l})))},c=g=>u("move",g),d=g=>{u("end",g),t.setColumnSizingInfo(C=>({...C,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},f={moveHandler:g=>c(g.clientX),upHandler:g=>{document.removeEventListener("mousemove",f.moveHandler),document.removeEventListener("mouseup",f.upHandler),d(g.clientX)}},h={moveHandler:g=>(g.cancelable&&(g.preventDefault(),g.stopPropagation()),c(g.touches[0].clientX),!1),upHandler:g=>{var C;document.removeEventListener("touchmove",h.moveHandler),document.removeEventListener("touchend",h.upHandler),g.cancelable&&(g.preventDefault(),g.stopPropagation()),d((C=g.touches[0])==null?void 0:C.clientX)}},m=OR()?{passive:!1}:!1;vf(i)?(document.addEventListener("touchmove",h.moveHandler,m),document.addEventListener("touchend",h.upHandler,m)):(document.addEventListener("mousemove",f.moveHandler,m),document.addEventListener("mouseup",f.upHandler,m)),t.setColumnSizingInfo(g=>({...g,startOffset:a,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:s,isResizingColumn:n.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?gf():(n=e.initialState.columnSizingInfo)!=null?n:gf())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0}}};let au=null;function OR(){if(typeof au=="boolean")return au;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return au=e,au}function vf(e){return e.type==="touchstart"}const MR={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Mn("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var i,o;e.setExpanded(r?{}:(i=(o=e.initialState)==null?void 0:o.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(o=>{const s=o.split(".");r=Math.max(r,s.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var i;const o=r===!0?!0:!!(r!=null&&r[e.id]);let s={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{s[a]=!0}):s=r,n=(i=n)!=null?i:!o,!o&&n)return{...s,[e.id]:!0};if(o&&!n){const{[e.id]:a,...l}=s;return l}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,i;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},g_=(e,t,n)=>{var r;const i=n.toLowerCase();return!!(!((r=e.getValue(t))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(i))};g_.autoRemove=e=>pr(e);const v_=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};v_.autoRemove=e=>pr(e);const y_=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};y_.autoRemove=e=>pr(e);const w_=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};w_.autoRemove=e=>pr(e)||!(e!=null&&e.length);const x_=(e,t,n)=>!n.some(r=>{var i;return!((i=e.getValue(t))!=null&&i.includes(r))});x_.autoRemove=e=>pr(e)||!(e!=null&&e.length);const __=(e,t,n)=>n.some(r=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(r)});__.autoRemove=e=>pr(e)||!(e!=null&&e.length);const b_=(e,t,n)=>e.getValue(t)===n;b_.autoRemove=e=>pr(e);const S_=(e,t,n)=>e.getValue(t)==n;S_.autoRemove=e=>pr(e);const Im=(e,t,n)=>{let[r,i]=n;const o=e.getValue(t);return o>=r&&o<=i};Im.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,i=typeof n!="number"?parseFloat(n):n,o=t===null||Number.isNaN(r)?-1/0:r,s=n===null||Number.isNaN(i)?1/0:i;if(o>s){const a=o;o=s,s=a}return[o,s]};Im.autoRemove=e=>pr(e)||pr(e[0])&&pr(e[1]);const Nr={includesString:g_,includesStringSensitive:v_,equalsString:y_,arrIncludes:w_,arrIncludesAll:x_,arrIncludesSome:__,equals:b_,weakEquals:S_,inNumberRange:Im};function pr(e){return e==null||e===""}const IR={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],globalFilter:void 0,...e}),getDefaultOptions:e=>({onColumnFiltersChange:Mn("columnFilters",e),onGlobalFilterChange:Mn("globalFilter",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?Nr.includesString:typeof r=="number"?Nr.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Nr.equals:Array.isArray(r)?Nr.arrIncludes:Nr.weakEquals},e.getFilterFn=()=>{var n,r;return yc(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Nr[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getCanGlobalFilter=()=>{var n,r,i,o;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((o=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?o:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const i=e.getFilterFn(),o=r==null?void 0:r.find(c=>c.id===e.id),s=xi(n,o?o.value:void 0);if(o0(i,s,e)){var a;return(a=r==null?void 0:r.filter(c=>c.id!==e.id))!=null?a:[]}const l={id:e.id,value:s};if(o){var u;return(u=r==null?void 0:r.map(c=>c.id===e.id?l:c))!=null?u:[]}return r!=null&&r.length?[...r,l]:[l]})},e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Nr.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return yc(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Nr[r]},e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=i=>{var o;return(o=xi(t,i))==null?void 0:o.filter(s=>{const a=n.find(l=>l.id===s.id);if(a){const l=a.getFilterFn();if(o0(l,s.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel()),e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}};function o0(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const TR=(e,t,n)=>n.reduce((r,i)=>{const o=i.getValue(e);return r+(typeof o=="number"?o:0)},0),NR=(e,t,n)=>{let r;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}),r},jR=(e,t,n)=>{let r;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}),r},FR=(e,t,n)=>{let r,i;return n.forEach(o=>{const s=o.getValue(e);s!=null&&(r===void 0?s>=s&&(r=i=s):(r>s&&(r=s),i<s&&(i=s)))}),[r,i]},DR=(e,t)=>{let n=0,r=0;if(t.forEach(i=>{let o=i.getValue(e);o!=null&&(o=+o)>=o&&(++n,r+=o)}),n)return r/n},LR=(e,t)=>{if(!t.length)return;const n=t.map(o=>o.getValue(e));if(!kR(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((o,s)=>o-s);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},UR=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),VR=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,zR=(e,t)=>t.length,yf={sum:TR,min:NR,max:jR,extent:FR,mean:DR,median:LR,unique:UR,uniqueCount:VR,count:zR},BR={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Mn("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r,i,o;return(n=(r=(i=(o=e.columnDef.enableGrouping)!=null?o:!0)!=null?i:t.options.enableGrouping)!=null?r:!0)!=null?n:!!e.accessorFn},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return yf.sum;if(Object.prototype.toString.call(r)==="[object Date]")return yf.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return yc(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:yf[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function HR(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(o=>!t.includes(o.id));return n==="remove"?r:[...t.map(o=>e.find(s=>s.id===o)).filter(Boolean),...r]}const qR={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Mn("columnOrder",e)}),createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Oe(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>i=>{let o=[];if(!(t!=null&&t.length))o=i;else{const s=[...t],a=[...i];for(;a.length&&s.length;){const l=s.shift(),u=a.findIndex(c=>c.id===l);u>-1&&o.push(a.splice(u,1)[0])}o=[...o,...a]}return HR(o,n,r)},{key:!1})}},Hh=0,qh=10,wf=()=>({pageIndex:Hh,pageSize:qh}),WR={getInitialState:e=>({...e,pagination:{...wf(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:Mn("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const i=o=>xi(r,o);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=r=>{var i;e.setPagination(r?wf():(i=e.initialState.pagination)!=null?i:wf())},e.setPageIndex=r=>{e.setPagination(i=>{let o=xi(r,i.pageIndex);const s=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return o=Math.max(0,Math.min(o,s)),{...i,pageIndex:o}})},e.resetPageIndex=r=>{var i,o;e.setPageIndex(r?Hh:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?i:Hh)},e.resetPageSize=r=>{var i,o;e.setPageSize(r?qh:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?i:qh)},e.setPageSize=r=>{e.setPagination(i=>{const o=Math.max(1,xi(r,i.pageSize)),s=i.pageSize*i.pageIndex,a=Math.floor(s/o);return{...i,pageIndex:a,pageSize:o}})},e.setPageCount=r=>e.setPagination(i=>{var o;let s=xi(r,(o=e.options.pageCount)!=null?o:-1);return typeof s=="number"&&(s=Math.max(-1,s)),{...i,pageCount:s}}),e.getPageOptions=Oe(()=>[e.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((o,s)=>s)),i},{key:!1,debug:()=>{var r;return(r=e.options.debugAll)!=null?r:e.options.debugTable}}),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:r<i-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getPrePaginationRowModel().rows.length/e.getState().pagination.pageSize)}}},xf=()=>({left:[],right:[]}),_f=()=>({top:[],bottom:[]}),GR={getInitialState:e=>({columnPinning:xf(),rowPinning:_f(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Mn("columnPinning",e),onRowPinningChange:Mn("rowPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var o,s;if(n==="right"){var a,l;return{left:((a=i==null?void 0:i.left)!=null?a:[]).filter(d=>!(r!=null&&r.includes(d))),right:[...((l=i==null?void 0:i.right)!=null?l:[]).filter(d=>!(r!=null&&r.includes(d))),...r]}}if(n==="left"){var u,c;return{left:[...((u=i==null?void 0:i.left)!=null?u:[]).filter(d=>!(r!=null&&r.includes(d))),...r],right:((c=i==null?void 0:i.right)!=null?c:[]).filter(d=>!(r!=null&&r.includes(d)))}}return{left:((o=i==null?void 0:i.left)!=null?o:[]).filter(d=>!(r!=null&&r.includes(d))),right:((s=i==null?void 0:i.right)!=null?s:[]).filter(d=>!(r!=null&&r.includes(d)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var i,o,s;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((o=(s=t.options.enableColumnPinning)!=null?s:t.options.enablePinning)!=null?o:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:i}=t.getState().columnPinning,o=n.some(a=>r==null?void 0:r.includes(a)),s=n.some(a=>i==null?void 0:i.includes(a));return o?"left":s?"right":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();return i?(n=(r=t.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.pin=(n,r,i)=>{const o=r?e.getLeafRows().map(l=>{let{id:u}=l;return u}):[],s=i?e.getParentRows().map(l=>{let{id:u}=l;return u}):[],a=new Set([...s,e.id,...o]);t.setRowPinning(l=>{var u,c;if(n==="bottom"){var d,f;return{top:((d=l==null?void 0:l.top)!=null?d:[]).filter(g=>!(a!=null&&a.has(g))),bottom:[...((f=l==null?void 0:l.bottom)!=null?f:[]).filter(g=>!(a!=null&&a.has(g))),...Array.from(a)]}}if(n==="top"){var h,m;return{top:[...((h=l==null?void 0:l.top)!=null?h:[]).filter(g=>!(a!=null&&a.has(g))),...Array.from(a)],bottom:((m=l==null?void 0:l.bottom)!=null?m:[]).filter(g=>!(a!=null&&a.has(g)))}}return{top:((u=l==null?void 0:l.top)!=null?u:[]).filter(g=>!(a!=null&&a.has(g))),bottom:((c=l==null?void 0:l.bottom)!=null?c:[]).filter(g=>!(a!=null&&a.has(g)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=t.options;return typeof r=="function"?r(e):(n=r??i)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,o=n.some(a=>r==null?void 0:r.includes(a)),s=n.some(a=>i==null?void 0:i.includes(a));return o?"top":s?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();if(!i)return-1;const o=(n=t._getPinnedRows(i))==null?void 0:n.map(s=>{let{id:a}=s;return a});return(r=o==null?void 0:o.indexOf(e.id))!=null?r:-1},e.getCenterVisibleCells=Oe(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,i)=>{const o=[...r??[],...i??[]];return n.filter(s=>!o.includes(s.column.id))},{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),e.getLeftVisibleCells=Oe(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,,],(n,r)=>(r??[]).map(o=>n.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),e.getRightVisibleCells=Oe(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(o=>n.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}})},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?xf():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:xf())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var i,o;return!!((i=r.left)!=null&&i.length||(o=r.right)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=Oe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}}),e.getRightLeafColumns=Oe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}}),e.getCenterLeafColumns=Oe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const i=[...n??[],...r??[]];return t.filter(o=>!i.includes(o.id))},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}}),e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?_f():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:_f())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var i,o;return!!((i=r.top)!=null&&i.length||(o=r.bottom)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=t=>Oe(()=>[e.getRowModel().rows,e.getState().rowPinning[t]],(n,r)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(r??[]).map(s=>{const a=e.getRow(s,!0);return a.getIsAllParentsExpanded()?a:null}):(r??[]).map(s=>n.find(a=>a.id===s))).filter(Boolean).map(s=>({...s,position:t}))},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugRows}})(),e.getTopRows=()=>e._getPinnedRows("top"),e.getBottomRows=()=>e._getPinnedRows("bottom"),e.getCenterRows=Oe(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const i=new Set([...n??[],...r??[]]);return t.filter(o=>!i.has(o.id))},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugRows}})}},KR={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Mn("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(o=>{o.getCanSelect()&&(r[o.id]=!0)}):i.forEach(o=>{delete r[o.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(o=>{Wh(i,o.id,r,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Oe(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?bf(e,n):{rows:[],flatRows:[],rowsById:{}},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),e.getFilteredSelectedRowModel=Oe(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?bf(e,n):{rows:[],flatRows:[],rowsById:{}},{key:"getFilteredSelectedRowModel",debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),e.getGroupedSelectedRowModel=Oe(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?bf(e,n):{rows:[],flatRows:[],rowsById:{}},{key:"getGroupedSelectedRowModel",debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(i=>!n[i.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const i=e.getIsSelected();t.setRowSelection(o=>{var s;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return o;const a={...o};return Wh(a,e.id,n,(s=r==null?void 0:r.selectChildren)!=null?s:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Tm(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return Gh(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return Gh(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var i;n&&e.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},Wh=(e,t,n,r,i)=>{var o;const s=i.getRow(t);n?(s.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),s.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(o=s.subRows)!=null&&o.length&&s.getCanSelectSubRows()&&s.subRows.forEach(a=>Wh(e,a.id,n,r,i))};function bf(e,t){const n=e.getState().rowSelection,r=[],i={},o=function(s,a){return s.map(l=>{var u;const c=Tm(l,n);if(c&&(r.push(l),i[l.id]=l),(u=l.subRows)!=null&&u.length&&(l={...l,subRows:o(l.subRows)}),c)return l}).filter(Boolean)};return{rows:o(t.rows),flatRows:r,rowsById:i}}function Tm(e,t){var n;return(n=t[e.id])!=null?n:!1}function Gh(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let i=!0,o=!1;return e.subRows.forEach(s=>{if(!(o&&!i)&&(s.getCanSelect()&&(Tm(s,t)?o=!0:i=!1),s.subRows&&s.subRows.length)){const a=Gh(s,t);a==="all"?o=!0:(a==="some"&&(o=!0),i=!1)}}),i?"all":o?"some":!1}const Kh=/([0-9]+)/gm,YR=(e,t,n)=>C_(Li(e.getValue(n)).toLowerCase(),Li(t.getValue(n)).toLowerCase()),ZR=(e,t,n)=>C_(Li(e.getValue(n)),Li(t.getValue(n))),JR=(e,t,n)=>Nm(Li(e.getValue(n)).toLowerCase(),Li(t.getValue(n)).toLowerCase()),XR=(e,t,n)=>Nm(Li(e.getValue(n)),Li(t.getValue(n))),QR=(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},eP=(e,t,n)=>Nm(e.getValue(n),t.getValue(n));function Nm(e,t){return e===t?0:e>t?1:-1}function Li(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function C_(e,t){const n=e.split(Kh).filter(Boolean),r=t.split(Kh).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),o=r.shift(),s=parseInt(i,10),a=parseInt(o,10),l=[s,a].sort();if(isNaN(l[0])){if(i>o)return 1;if(o>i)return-1;continue}if(isNaN(l[1]))return isNaN(s)?-1:1;if(s>a)return 1;if(a>s)return-1}return n.length-r.length}const da={alphanumeric:YR,alphanumericCaseSensitive:ZR,text:JR,textCaseSensitive:XR,datetime:QR,basic:eP},tP={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Mn("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const o=i==null?void 0:i.getValue(e.id);if(Object.prototype.toString.call(o)==="[object Date]")return da.datetime;if(typeof o=="string"&&(r=!0,o.split(Kh).length>1))return da.alphanumeric}return r?da.text:da.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return yc(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:da[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const i=e.getNextSortingOrder(),o=typeof n<"u"&&n!==null;t.setSorting(s=>{const a=s==null?void 0:s.find(h=>h.id===e.id),l=s==null?void 0:s.findIndex(h=>h.id===e.id);let u=[],c,d=o?n:i==="desc";if(s!=null&&s.length&&e.getCanMultiSort()&&r?a?c="toggle":c="add":s!=null&&s.length&&l!==s.length-1?c="replace":a?c="toggle":c="replace",c==="toggle"&&(o||i||(c="remove")),c==="add"){var f;u=[...s,{id:e.id,desc:d}],u.splice(0,u.length-((f=t.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else c==="toggle"?u=s.map(h=>h.id===e.id?{...h,desc:d}:h):c==="remove"?u=s.filter(h=>h.id!==e.id):u=[{id:e.id,desc:d}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;const o=e.getFirstSortDir(),s=e.getIsSorted();return s?s!==o&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(i=t.options.enableMultiRemove)!=null)||i)?!1:s==="desc"?"asc":"desc":o},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(i=>i.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},nP={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Mn("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;return(n=(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Oe(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),{key:"row._getAllVisibleCells",debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),e.getVisibleCells=Oe(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}})},createTable:e=>{const t=(n,r)=>Oe(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),{key:n,debug:()=>{var i;return(i=e.options.debugAll)!=null?i:e.options.debugColumns}});e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,o)=>({...i,[o.id]:n||!(o.getCanHide!=null&&o.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}},s0=[$R,nP,qR,GR,IR,tP,BR,MR,WR,KR,AR];function rP(e){var t;(e.debugAll||e.debugTable)&&console.info("Creating Table Instance...");let n={_features:s0};const r=n._features.reduce((c,d)=>Object.assign(c,d.getDefaultOptions==null?void 0:d.getDefaultOptions(n)),{}),i=c=>n.options.mergeOptions?n.options.mergeOptions(r,c):{...r,...c};let s={...{},...(t=e.initialState)!=null?t:{}};n._features.forEach(c=>{var d;s=(d=c.getInitialState==null?void 0:c.getInitialState(s))!=null?d:s});const a=[];let l=!1;const u={_features:s0,options:{...r,...e},initialState:s,_queue:c=>{a.push(c),l||(l=!0,Promise.resolve().then(()=>{for(;a.length;)a.shift()();l=!1}).catch(d=>setTimeout(()=>{throw d})))},reset:()=>{n.setState(n.initialState)},setOptions:c=>{const d=xi(c,n.options);n.options=i(d)},getState:()=>n.options.state,setState:c=>{n.options.onStateChange==null||n.options.onStateChange(c)},_getRowId:(c,d,f)=>{var h;return(h=n.options.getRowId==null?void 0:n.options.getRowId(c,d,f))!=null?h:`${f?[f.id,d].join("."):d}`},getCoreRowModel:()=>(n._getCoreRowModel||(n._getCoreRowModel=n.options.getCoreRowModel(n)),n._getCoreRowModel()),getRowModel:()=>n.getPaginationRowModel(),getRow:(c,d)=>{const f=(d?n.getCoreRowModel():n.getRowModel()).rowsById[c];if(!f)throw new Error;return f},_getDefaultColumnDef:Oe(()=>[n.options.defaultColumn],c=>{var d;return c=(d=c)!=null?d:{},{header:f=>{const h=f.header.column.columnDef;return h.accessorKey?h.accessorKey:h.accessorFn?h.id:null},cell:f=>{var h,m;return(h=(m=f.renderValue())==null||m.toString==null?void 0:m.toString())!=null?h:null},...n._features.reduce((f,h)=>Object.assign(f,h.getDefaultColumnDef==null?void 0:h.getDefaultColumnDef()),{}),...c}},{debug:()=>{var c;return(c=n.options.debugAll)!=null?c:n.options.debugColumns},key:!1}),_getColumnDefs:()=>n.options.columns,getAllColumns:Oe(()=>[n._getColumnDefs()],c=>{const d=function(f,h,m){return m===void 0&&(m=0),f.map(g=>{const C=PR(n,g,m,h),y=g;return C.columns=y.columns?d(y.columns,C,m+1):[],C})};return d(c)},{key:!1,debug:()=>{var c;return(c=n.options.debugAll)!=null?c:n.options.debugColumns}}),getAllFlatColumns:Oe(()=>[n.getAllColumns()],c=>c.flatMap(d=>d.getFlatColumns()),{key:!1,debug:()=>{var c;return(c=n.options.debugAll)!=null?c:n.options.debugColumns}}),_getAllFlatColumnsById:Oe(()=>[n.getAllFlatColumns()],c=>c.reduce((d,f)=>(d[f.id]=f,d),{}),{key:!1,debug:()=>{var c;return(c=n.options.debugAll)!=null?c:n.options.debugColumns}}),getAllLeafColumns:Oe(()=>[n.getAllColumns(),n._getOrderColumnsFn()],(c,d)=>{let f=c.flatMap(h=>h.getLeafColumns());return d(f)},{key:!1,debug:()=>{var c;return(c=n.options.debugAll)!=null?c:n.options.debugColumns}}),getColumn:c=>n._getAllFlatColumnsById()[c]};Object.assign(n,u);for(let c=0;c<n._features.length;c++){const d=n._features[c];d==null||d.createTable==null||d.createTable(n)}return n}function iP(e,t,n,r){const i=()=>{var s;return(s=o.getValue())!=null?s:e.options.renderFallbackValue},o={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:i,getContext:Oe(()=>[e,n,t,o],(s,a,l,u)=>({table:s,column:a,row:l,cell:u,getValue:u.getValue,renderValue:u.renderValue}),{key:!1,debug:()=>e.options.debugAll})};return e._features.forEach(s=>{s.createCell==null||s.createCell(o,n,t,e)},{}),o}const jm=(e,t,n,r,i,o,s)=>{let a={id:t,index:r,original:n,depth:i,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return a._valuesCache[l]=u.accessorFn(a.original,r),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=u.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var u;return(u=a.getValue(l))!=null?u:e.options.renderFallbackValue},subRows:o??[],getLeafRows:()=>RR(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId):void 0,getParentRows:()=>{let l=[],u=a;for(;;){const c=u.getParentRow();if(!c)break;l.push(c),u=c}return l.reverse()},getAllCells:Oe(()=>[e.getAllLeafColumns()],l=>l.map(u=>iP(e,a,u,u.id)),{key:!1,debug:()=>{var l;return(l=e.options.debugAll)!=null?l:e.options.debugRows}}),_getAllCellsByColumnId:Oe(()=>[a.getAllCells()],l=>l.reduce((u,c)=>(u[c.column.id]=c,u),{}),{key:"row.getAllCellsByColumnId",debug:()=>{var l;return(l=e.options.debugAll)!=null?l:e.options.debugRows}})};for(let l=0;l<e._features.length;l++){const u=e._features[l];u==null||u.createRow==null||u.createRow(a,e)}return a};function Fm(){return{accessor:(e,t)=>typeof e=="function"?{...t,accessorFn:e}:{...t,accessorKey:e},display:e=>e,group:e=>e}}function Dm(){return e=>Oe(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,o,s){o===void 0&&(o=0);const a=[];for(let u=0;u<i.length;u++){const c=jm(e,e._getRowId(i[u],u,s),i[u],u,o,void 0,s==null?void 0:s.id);if(n.flatRows.push(c),n.rowsById[c.id]=c,a.push(c),e.options.getSubRows){var l;c.originalSubRows=e.options.getSubRows(i[u],u),(l=c.originalSubRows)!=null&&l.length&&(c.subRows=r(c.originalSubRows,o+1,c))}}return a};return n.rows=r(t),n},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function oP(e,t,n){return n.options.filterFromLeafRows?sP(e,t,n):aP(e,t,n)}function sP(e,t,n){var r;const i=[],o={},s=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const c=[];for(let f=0;f<l.length;f++){var d;let h=l[f];const m=jm(n,h.id,h.original,h.index,h.depth,void 0,h.parentId);if(m.columnFilters=h.columnFilters,(d=h.subRows)!=null&&d.length&&u<s){if(m.subRows=a(h.subRows,u+1),h=m,t(h)&&!m.subRows.length){c.push(h),o[h.id]=h,i.push(h);continue}if(t(h)||m.subRows.length){c.push(h),o[h.id]=h,i.push(h);continue}}else h=m,t(h)&&(c.push(h),o[h.id]=h,i.push(h))}return c};return{rows:a(e),flatRows:i,rowsById:o}}function aP(e,t,n){var r;const i=[],o={},s=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const c=[];for(let f=0;f<l.length;f++){let h=l[f];if(t(h)){var d;if((d=h.subRows)!=null&&d.length&&u<s){const g=jm(n,h.id,h.original,h.index,h.depth,void 0,h.parentId);g.subRows=a(h.subRows,u+1),h=g}c.push(h),i.push(h),o[h.id]=h}}return c};return{rows:a(e),flatRows:i,rowsById:o}}function Lm(){return e=>Oe(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let f=0;f<t.flatRows.length;f++)t.flatRows[f].columnFilters={},t.flatRows[f].columnFiltersMeta={};return t}const i=[],o=[];(n??[]).forEach(f=>{var h;const m=e.getColumn(f.id);if(!m)return;const g=m.getFilterFn();g&&i.push({id:f.id,filterFn:g,resolvedValue:(h=g.resolveFilterValue==null?void 0:g.resolveFilterValue(f.value))!=null?h:f.value})});const s=n.map(f=>f.id),a=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(f=>f.getCanGlobalFilter());r&&a&&l.length&&(s.push("__global__"),l.forEach(f=>{var h;o.push({id:f.id,filterFn:a,resolvedValue:(h=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?h:r})}));let u,c;for(let f=0;f<t.flatRows.length;f++){const h=t.flatRows[f];if(h.columnFilters={},i.length)for(let m=0;m<i.length;m++){u=i[m];const g=u.id;h.columnFilters[g]=u.filterFn(h,g,u.resolvedValue,C=>{h.columnFiltersMeta[g]=C})}if(o.length){for(let m=0;m<o.length;m++){c=o[m];const g=c.id;if(c.filterFn(h,g,c.resolvedValue,C=>{h.columnFiltersMeta[g]=C})){h.columnFilters.__global__=!0;break}}h.columnFilters.__global__!==!0&&(h.columnFilters.__global__=!1)}}const d=f=>{for(let h=0;h<s.length;h++)if(f.columnFilters[s[h]]===!1)return!1;return!0};return oP(t.rows,d,e)},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function Um(){return e=>Oe(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,i=[],o=r.filter(l=>{var u;return(u=e.getColumn(l.id))==null?void 0:u.getCanSort()}),s={};o.forEach(l=>{const u=e.getColumn(l.id);u&&(s[l.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const a=l=>{const u=[...l];return u.sort((c,d)=>{for(let h=0;h<o.length;h+=1){var f;const m=o[h],g=s[m.id],C=(f=m==null?void 0:m.desc)!=null?f:!1;let y=0;if(g.sortUndefined){const p=c.getValue(m.id),w=d.getValue(m.id),_=p===void 0,P=w===void 0;(_||P)&&(y=_&&P?0:_?g.sortUndefined:-g.sortUndefined)}if(y===0&&(y=g.sortingFn(c,d,m.id)),y!==0)return C&&(y*=-1),g.invertSorting&&(y*=-1),y}return c.index-d.index}),u.forEach(c=>{var d;i.push(c),(d=c.subRows)!=null&&d.length&&(c.subRows=a(c.subRows))}),u};return{rows:a(n.rows),flatRows:i,rowsById:n.rowsById}},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function lP(e){const t=[],n=r=>{var i;t.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function Vm(e){return t=>Oe(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:o}=n;let{rows:s,flatRows:a,rowsById:l}=r;const u=i*o,c=u+i;s=s.slice(u,c);let d;t.options.paginateExpandedRows?d={rows:s,flatRows:a,rowsById:l}:d=lP({rows:s,flatRows:a,rowsById:l}),d.flatRows=[];const f=h=>{d.flatRows.push(h),h.subRows.length&&h.subRows.forEach(f)};return d.rows.forEach(f),d},{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugTable}})}/**
 * react-table
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oi(e,t){return e?uP(e)?v.createElement(e,t):e:null}function uP(e){return cP(e)||typeof e=="function"||dP(e)}function cP(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function dP(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function zm(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=v.useState(()=>({current:rP(t)})),[r,i]=v.useState(()=>n.current.initialState);return n.current.setOptions(o=>({...o,...e,state:{...r,...e.state},onStateChange:s=>{i(s),e.onStateChange==null||e.onStateChange(s)}})),n.current}var E_=Symbol.for("immer-nothing"),a0=Symbol.for("immer-draftable"),In=Symbol.for("immer-state");function ur(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Rs=Object.getPrototypeOf;function Ps(e){return!!e&&!!e[In]}function xo(e){var t;return e?k_(e)||Array.isArray(e)||!!e[a0]||!!((t=e.constructor)!=null&&t[a0])||yd(e)||wd(e):!1}var fP=Object.prototype.constructor.toString();function k_(e){if(!e||typeof e!="object")return!1;const t=Rs(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===fP}function al(e,t){vd(e)===0?Object.entries(e).forEach(([n,r])=>{t(n,r,e)}):e.forEach((n,r)=>t(r,n,e))}function vd(e){const t=e[In];return t?t.type_:Array.isArray(e)?1:yd(e)?2:wd(e)?3:0}function Yh(e,t){return vd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function R_(e,t,n){const r=vd(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function hP(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function yd(e){return e instanceof Map}function wd(e){return e instanceof Set}function eo(e){return e.copy_||e.base_}function Zh(e,t){if(yd(e))return new Map(e);if(wd(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&k_(e))return Rs(e)?{...e}:Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[In];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const o=r[i],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(Rs(e),n)}function Bm(e,t=!1){return xd(e)||Ps(e)||!xo(e)||(vd(e)>1&&(e.set=e.add=e.clear=e.delete=pP),Object.freeze(e),t&&al(e,(n,r)=>Bm(r,!0))),e}function pP(){ur(2)}function xd(e){return Object.isFrozen(e)}var mP={};function _o(e){const t=mP[e];return t||ur(0,e),t}var ll;function P_(){return ll}function gP(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function l0(e,t){t&&(_o("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Jh(e){Xh(e),e.drafts_.forEach(vP),e.drafts_=null}function Xh(e){e===ll&&(ll=e.parent_)}function u0(e){return ll=gP(ll,e)}function vP(e){const t=e[In];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function c0(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[In].modified_&&(Jh(t),ur(4)),xo(e)&&(e=wc(t,e),t.parent_||xc(t,e)),t.patches_&&_o("Patches").generateReplacementPatches_(n[In].base_,e,t.patches_,t.inversePatches_)):e=wc(t,n,[]),Jh(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==E_?e:void 0}function wc(e,t,n){if(xd(t))return t;const r=t[In];if(!r)return al(t,(i,o)=>d0(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return xc(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),al(o,(a,l)=>d0(e,r,i,a,l,n,s)),xc(e,i,!1),n&&e.patches_&&_o("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function d0(e,t,n,r,i,o,s){if(Ps(i)){const a=o&&t&&t.type_!==3&&!Yh(t.assigned_,r)?o.concat(r):void 0,l=wc(e,i,a);if(R_(n,r,l),Ps(l))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(xo(i)&&!xd(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;wc(e,i),(!t||!t.scope_.parent_)&&xc(e,i)}}function xc(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Bm(t,n)}function yP(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:P_(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Hm;n&&(i=[r],o=ul);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var Hm={get(e,t){if(t===In)return e;const n=eo(e);if(!Yh(n,t))return wP(e,n,t);const r=n[t];return e.finalized_||!xo(r)?r:r===Sf(e.base_,t)?(Cf(e),e.copy_[t]=ep(r,e)):r},has(e,t){return t in eo(e)},ownKeys(e){return Reflect.ownKeys(eo(e))},set(e,t,n){const r=$_(eo(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Sf(eo(e),t),o=i==null?void 0:i[In];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(hP(n,i)&&(n!==void 0||Yh(e.base_,t)))return!0;Cf(e),Qh(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Sf(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Cf(e),Qh(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=eo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){ur(11)},getPrototypeOf(e){return Rs(e.base_)},setPrototypeOf(){ur(12)}},ul={};al(Hm,(e,t)=>{ul[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ul.deleteProperty=function(e,t){return ul.set.call(this,e,t,void 0)};ul.set=function(e,t,n){return Hm.set.call(this,e[0],t,n,e[0])};function Sf(e,t){const n=e[In];return(n?eo(n):e)[t]}function wP(e,t,n){var i;const r=$_(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function $_(e,t){if(!(t in e))return;let n=Rs(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Rs(n)}}function Qh(e){e.modified_||(e.modified_=!0,e.parent_&&Qh(e.parent_))}function Cf(e){e.copy_||(e.copy_=Zh(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var xP=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const s=this;return function(l=o,...u){return s.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&ur(6),r!==void 0&&typeof r!="function"&&ur(7);let i;if(xo(t)){const o=u0(this),s=ep(t,void 0);let a=!0;try{i=n(s),a=!1}finally{a?Jh(o):Xh(o)}return l0(o,r),c0(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===E_&&(i=void 0),this.autoFreeze_&&Bm(i,!0),r){const o=[],s=[];_o("Patches").generateReplacementPatches_(t,i,o,s),r(o,s)}return i}else ur(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...a)=>this.produceWithPatches(s,l=>t(l,...a));let r,i;return[this.produce(t,n,(s,a)=>{r=s,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){xo(e)||ur(8),Ps(e)&&(e=_P(e));const t=u0(this),n=ep(e,void 0);return n[In].isManual_=!0,Xh(t),n}finishDraft(e,t){const n=e&&e[In];(!n||!n.isManual_)&&ur(9);const{scope_:r}=n;return l0(r,t),c0(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=_o("Patches").applyPatches_;return Ps(e)?r(e,t):this.produce(e,i=>r(i,t))}};function ep(e,t){const n=yd(e)?_o("MapSet").proxyMap_(e,t):wd(e)?_o("MapSet").proxySet_(e,t):yP(e,t);return(t?t.scope_:P_()).drafts_.push(n),n}function _P(e){return Ps(e)||ur(10,e),A_(e)}function A_(e){if(!xo(e)||xd(e))return e;const t=e[In];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Zh(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Zh(e,!0);return al(n,(r,i)=>{R_(n,r,A_(i))}),t&&(t.finalized_=!1),n}var Tn=new xP,bP=Tn.produce;Tn.produceWithPatches.bind(Tn);Tn.setAutoFreeze.bind(Tn);Tn.setUseStrictShallowCopy.bind(Tn);Tn.applyPatches.bind(Tn);Tn.createDraft.bind(Tn);Tn.finishDraft.bind(Tn);const Nn=new Uint8Array(0),Po=new TextEncoder,Pn=new TextDecoder;function SP(...e){let t=0;for(let i=0;i<e.length;i++)t+=e[i].length;const n=new Uint8Array(t);let r=0;for(let i=0;i<e.length;i++)n.set(e[i],r),r+=e[i].length;return n}function Na(...e){const t=[];for(let n=0;n<e.length;n++)t.push(Po.encode(e[n]));return t.length===0?Nn:t.length===1?t[0]:SP(...t)}function f0(e){return!e||e.length===0?"":Pn.decode(e)}const h0="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",p0=36,CP=0xcfd41b9100000,m0=33,EP=333,g0=12+10;function kP(e){for(let t=0;t<e.length;t++)e[t]=Math.floor(Math.random()*255)}function RP(e){var t;(t=globalThis==null?void 0:globalThis.crypto)!=null&&t.getRandomValues?globalThis.crypto.getRandomValues(e):kP(e)}class PP{constructor(){b(this,"buf");b(this,"seq");b(this,"inc");this.buf=new Uint8Array(g0),this.init()}init(){this.setPre(),this.initSeqAndInc(),this.fillSeq()}initSeqAndInc(){this.seq=Math.floor(Math.random()*CP),this.inc=Math.floor(Math.random()*(EP-m0)+m0)}setPre(){const t=new Uint8Array(12);RP(t);for(let n=0;n<12;n++){const r=t[n]%36;this.buf[n]=h0.charCodeAt(r)}}fillSeq(){let t=this.seq;for(let n=g0-1;n>=12;n--)this.buf[n]=h0.charCodeAt(t%p0),t=Math.floor(t/p0)}next(){return this.seq+=this.inc,this.seq>0xcfd41b9100000&&(this.setPre(),this.initSeqAndInc()),this.fillSeq(),String.fromCharCode.apply(String,this.buf)}reset(){this.init()}}const Al=new PP;var Br;(function(e){e.Disconnect="disconnect",e.Reconnect="reconnect",e.Update="update",e.LDM="ldm",e.Error="error"})(Br||(Br={}));var cl;(function(e){e.Reconnecting="reconnecting",e.PingTimer="pingTimer",e.StaleConnection="staleConnection"})(cl||(cl={}));var te;(function(e){e.ApiError="BAD API",e.BadAuthentication="BAD_AUTHENTICATION",e.BadCreds="BAD_CREDS",e.BadHeader="BAD_HEADER",e.BadJson="BAD_JSON",e.BadPayload="BAD_PAYLOAD",e.BadSubject="BAD_SUBJECT",e.Cancelled="CANCELLED",e.ConnectionClosed="CONNECTION_CLOSED",e.ConnectionDraining="CONNECTION_DRAINING",e.ConnectionRefused="CONNECTION_REFUSED",e.ConnectionTimeout="CONNECTION_TIMEOUT",e.Disconnect="DISCONNECT",e.InvalidOption="INVALID_OPTION",e.InvalidPayload="INVALID_PAYLOAD",e.MaxPayloadExceeded="MAX_PAYLOAD_EXCEEDED",e.NoResponders="503",e.NotFunction="NOT_FUNC",e.RequestError="REQUEST_ERROR",e.ServerOptionNotAvailable="SERVER_OPT_NA",e.SubClosed="SUB_CLOSED",e.SubDraining="SUB_DRAINING",e.Timeout="TIMEOUT",e.Tls="TLS",e.Unknown="UNKNOWN_ERROR",e.WssRequired="WSS_REQUIRED",e.JetStreamInvalidAck="JESTREAM_INVALID_ACK",e.JetStream404NoMessages="404",e.JetStream408RequestTimeout="408",e.JetStream409MaxAckPendingExceeded="409",e.JetStream409="409",e.JetStreamNotEnabled="503",e.JetStreamIdleHeartBeat="IDLE_HEARTBEAT",e.AuthorizationViolation="AUTHORIZATION_VIOLATION",e.AuthenticationExpired="AUTHENTICATION_EXPIRED",e.ProtocolError="NATS_PROTOCOL_ERR",e.PermissionsViolation="PERMISSIONS_VIOLATION",e.AuthenticationTimeout="AUTHENTICATION_TIMEOUT"})(te||(te={}));function $P(e){return typeof e.code=="string"}class O_{constructor(){b(this,"messages");this.messages=new Map,this.messages.set(te.InvalidPayload,"Invalid payload type - payloads can be 'binary', 'string', or 'json'"),this.messages.set(te.BadJson,"Bad JSON"),this.messages.set(te.WssRequired,"TLS is required, therefore a secure websocket connection is also required")}static getMessage(t){return AP.getMessage(t)}getMessage(t){return this.messages.get(t)||t}}const AP=new O_;class ye extends Error{constructor(n,r,i){super(n);b(this,"name");b(this,"message");b(this,"code");b(this,"permissionContext");b(this,"chainedError");b(this,"api_error");this.name="NatsError",this.message=n,this.code=r,this.chainedError=i}static errorForCode(n,r){const i=O_.getMessage(n);return new ye(i,n,r)}isAuthError(){return this.code===te.AuthenticationExpired||this.code===te.AuthorizationViolation}isAuthTimeout(){return this.code===te.AuthenticationTimeout}isPermissionError(){return this.code===te.PermissionsViolation}isProtocolError(){return this.code===te.ProtocolError}isJetStreamError(){return this.api_error!==void 0}jsError(){return this.api_error?this.api_error:null}}var Un;(function(e){e[e.Exact=0]="Exact",e[e.CanonicalMIME=1]="CanonicalMIME",e[e.IgnoreCase=2]="IgnoreCase"})(Un||(Un={}));var Cr;(function(e){e.Timer="timer",e.Count="count",e.JitterTimer="jitterTimer",e.SentinelMsg="sentinelMsg"})(Cr||(Cr={}));var ja;(function(e){e.STATS="io.nats.micro.v1.stats_response",e.INFO="io.nats.micro.v1.info_response",e.PING="io.nats.micro.v1.ping_response"})(ja||(ja={}));const _c="Nats-Service-Error",bc="Nats-Service-Error-Code";class Sc extends Error{constructor(n,r){super(r);b(this,"code");this.code=n}static isServiceError(n){return Sc.toServiceError(n)!==null}static toServiceError(n){var i,o;const r=((i=n==null?void 0:n.headers)==null?void 0:i.get(bc))||"";if(r!==""){const s=parseInt(r)||400,a=((o=n==null?void 0:n.headers)==null?void 0:o.get(_c))||"";return new Sc(s,a.length?a:r)}return null}}function Yr(e=""){if(e=e||"_INBOX",typeof e!="string")throw new Error("prefix must be a string");return e.split(".").forEach(t=>{if(t==="*"||t===">")throw new Error(`inbox prefixes cannot have wildcards '${e}'`)}),`${e}.${Al.next()}`}const tp="127.0.0.1";var Mi;(function(e){e.PING="PING",e.STATS="STATS",e.INFO="INFO"})(Mi||(Mi={}));function _d(e,...t){for(let n=0;n<t.length;n++){const r=t[n];Object.keys(r).forEach(function(i){e[i]=r[i]})}return e}function lu(e){const t="",n="";return Pn.decode(e).replace(/\n/g,n).replace(/\r/g,t)}function $s(e){const t=ye.errorForCode(te.Timeout);let n,r;const i=new Promise((o,s)=>{n={cancel:()=>{r&&clearTimeout(r)}},r=setTimeout(()=>{s(t)},e)});return Object.assign(i,n)}function qm(e=0){return new Promise(t=>{setTimeout(()=>{t()},e)})}function yt(){let e={};const t=new Promise((n,r)=>{e={resolve:n,reject:r}});return Object.assign(t,e)}function M_(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}class As{constructor(){b(this,"buffers");b(this,"byteLength");this.buffers=[],this.byteLength=0}static concat(...t){let n=0;for(let o=0;o<t.length;o++)n+=t[o].length;const r=new Uint8Array(n);let i=0;for(let o=0;o<t.length;o++)r.set(t[o],i),i+=t[o].length;return r}static fromAscii(t){return t||(t=""),Po.encode(t)}static toAscii(t){return Pn.decode(t)}reset(){this.buffers.length=0,this.byteLength=0}pack(){if(this.buffers.length>1){const t=new Uint8Array(this.byteLength);let n=0;for(let r=0;r<this.buffers.length;r++)t.set(this.buffers[r],n),n+=this.buffers[r].length;this.buffers.length=0,this.buffers.push(t)}}shift(){if(this.buffers.length){const t=this.buffers.shift();if(t)return this.byteLength-=t.length,t}return new Uint8Array(0)}drain(t){if(this.buffers.length){this.pack();const n=this.buffers.pop();if(n){const r=this.byteLength;(t===void 0||t>r)&&(t=r);const i=n.subarray(0,t);return r>t&&this.buffers.push(n.subarray(t)),this.byteLength=r-t,i}}return new Uint8Array(0)}fill(t,...n){t&&(this.buffers.push(t),this.byteLength+=t.length);for(let r=0;r<n.length;r++)n[r]&&n[r].length&&(this.buffers.push(n[r]),this.byteLength+=n[r].length)}peek(){return this.buffers.length?(this.pack(),this.buffers[0]):new Uint8Array(0)}size(){return this.byteLength}length(){return this.buffers.length}}let $n;function OP(e){$n=e}function I_(){return $n!==void 0&&$n.defaultPort!==void 0?$n.defaultPort:4222}function Ef(){return $n!==void 0&&$n.urlParseFn?$n.urlParseFn:void 0}function MP(){if(!$n||typeof $n.factory!="function")throw new Error("transport fn is not set");return $n.factory()}function T_(){return $n!==void 0&&$n.dnsResolveFn?$n.dnsResolveFn:void 0}const Nu=`\r
`,Cc=As.fromAscii(Nu),IP=new Uint8Array(Cc)[0],TP=new Uint8Array(Cc)[1];function NP(e){for(let t=0;t<e.length;t++){const n=t+1;if(e.byteLength>n&&e[t]===IP&&e[n]===TP)return n+1}return 0}function jP(e){const t=NP(e);if(t>0){const r=new Uint8Array(e).slice(0,t);return Pn.decode(r)}return""}const FP=4,N_=48,DP=65,LP=97;function UP(e,t,n,r){const i=new Uint8Array(16);return[0,0,0,0,0,0,0,0,0,0,255,255].forEach((s,a)=>{i[a]=s}),i[12]=e,i[13]=t,i[14]=n,i[15]=r,i}function np(e){return VP(e)!==void 0}function VP(e){for(let t=0;t<e.length;t++)switch(e[t]){case".":return j_(e);case":":return zP(e)}}function j_(e){const t=new Uint8Array(4);for(let n=0;n<4;n++){if(e.length===0)return;if(n>0){if(e[0]!==".")return;e=e.substring(1)}const{n:r,c:i,ok:o}=BP(e);if(!o||r>255)return;e=e.substring(i),t[n]=r}return UP(t[0],t[1],t[2],t[3])}function zP(e){const t=new Uint8Array(16);let n=-1;if(e.length>=2&&e[0]===":"&&e[1]===":"&&(n=0,e=e.substring(2),e.length===0))return t;let r=0;for(;r<16;){const{n:i,c:o,ok:s}=HP(e);if(!s||i>65535)return;if(o<e.length&&e[o]==="."){if(n<0&&r!=16-4||r+4>16)return;const a=j_(e);if(a===void 0)return;t[r]=a[12],t[r+1]=a[13],t[r+2]=a[14],t[r+3]=a[15],e="",r+=FP;break}if(t[r]=i>>8,t[r+1]=i,r+=2,e=e.substring(o),e.length===0)break;if(e[0]!==":"||e.length==1)return;if(e=e.substring(1),e[0]===":"){if(n>=0)return;if(n=r,e=e.substring(1),e.length===0)break}}if(e.length===0){if(r<16){if(n<0)return;const i=16-r;for(let o=r-1;o>=n;o--)t[o+i]=t[o];for(let o=n+i-1;o>=n;o--)t[o]=0}else if(n>=0)return;return t}}function BP(e){let t=0,n=0;for(t=0;t<e.length&&48<=e.charCodeAt(t)&&e.charCodeAt(t)<=57;t++)if(n=n*10+(e.charCodeAt(t)-N_),n>=16777215)return{n:16777215,c:t,ok:!1};return t===0?{n:0,c:0,ok:!1}:{n,c:t,ok:!0}}function HP(e){let t=0,n=0;for(n=0;n<e.length;n++){if(48<=e.charCodeAt(n)&&e.charCodeAt(n)<=57)t*=16,t+=e.charCodeAt(n)-N_;else if(97<=e.charCodeAt(n)&&e.charCodeAt(n)<=102)t*=16,t+=e.charCodeAt(n)-LP+10;else if(65<=e.charCodeAt(n)&&e.charCodeAt(n)<=70)t*=16,t+=e.charCodeAt(n)-DP+10;else break;if(t>=16777215)return{n:0,c:n,ok:!1}}return n===0?{n:0,c:n,ok:!1}:{n:t,c:n,ok:!0}}function qP(e){return e.indexOf(".")!==-1?!0:e.indexOf("[")!==-1||e.indexOf("::")!==-1?!1:e.split(":").length<=2}function rp(e){return!qP(e)}function WP(e){const t="::FFFF:",n=e.toUpperCase().indexOf(t);if(n!==-1&&e.indexOf(".")!==-1){let r=e.substring(n+t.length);return r=r.replace("[",""),r.replace("]","")}return e}function GP(e){e=e.trim(),e.match(/^(.*:\/\/)(.*)/m)&&(e=e.replace(/^(.*:\/\/)(.*)/gm,"$2")),e=WP(e),rp(e)&&e.indexOf("[")===-1&&(e=`[${e}]`);const t=rp(e)?e.match(/(]:)(\d+)/):e.match(/(:)(\d+)/),n=t&&t.length===3&&t[1]&&t[2]?parseInt(t[2]):4222,r=n===80?"https":"http",i=new URL(`${r}://${e}`);i.port=`${n}`;let o=i.hostname;return o.charAt(0)==="["&&(o=o.substring(1,o.length-1)),{listen:i.host,hostname:o,port:n}}class Fa{constructor(t,n=!1){b(this,"src");b(this,"listen");b(this,"hostname");b(this,"port");b(this,"didConnect");b(this,"reconnects");b(this,"lastConnect");b(this,"gossiped");b(this,"tlsName");b(this,"resolves");this.src=t,this.tlsName="";const r=GP(t);this.listen=r.listen,this.hostname=r.hostname,this.port=r.port,this.didConnect=!1,this.reconnects=0,this.lastConnect=0,this.gossiped=n}toString(){return this.listen}async resolve(t){if(!t.fn)return[this];const n=[];if(np(this.hostname))return[this];{const r=await t.fn(this.hostname);t.debug&&console.log(`resolve ${this.hostname} = ${r.join(",")}`);for(const i of r){const o=this.port===80?"https":"http",s=new URL(`${o}://${rp(i)?"["+i+"]":i}`);s.port=`${this.port}`;const a=new Fa(s.host,!1);a.tlsName=this.hostname,n.push(a)}}return t.randomize&&M_(n),this.resolves=n,n}}class KP{constructor(t=[],n={}){b(this,"firstSelect");b(this,"servers");b(this,"currentServer");b(this,"tlsName");b(this,"randomize");this.firstSelect=!0,this.servers=[],this.tlsName="",this.randomize=n.randomize||!1;const r=Ef();t&&(t.forEach(i=>{i=r?r(i):i,this.servers.push(new Fa(i))}),this.randomize&&(this.servers=M_(this.servers))),this.servers.length===0&&this.addServer(`${tp}:${I_()}`,!1),this.currentServer=this.servers[0]}clear(){this.servers.length=0}updateTLSName(){const t=this.getCurrentServer();np(t.hostname)||(this.tlsName=t.hostname,this.servers.forEach(n=>{n.gossiped&&(n.tlsName=this.tlsName)}))}getCurrentServer(){return this.currentServer}addServer(t,n=!1){const r=Ef();t=r?r(t):t;const i=new Fa(t,n);np(i.hostname)&&(i.tlsName=this.tlsName),this.servers.push(i)}selectServer(){if(this.firstSelect)return this.firstSelect=!1,this.currentServer;const t=this.servers.shift();return t&&(this.servers.push(t),this.currentServer=t),t}removeCurrentServer(){this.removeServer(this.currentServer)}removeServer(t){if(t){const n=this.servers.indexOf(t);this.servers.splice(n,1)}}length(){return this.servers.length}next(){return this.servers.length?this.servers[0]:void 0}getServers(){return this.servers}update(t){const n=[];let r=[];const i=Ef(),o=new Map;t.connect_urls&&t.connect_urls.length>0&&t.connect_urls.forEach(a=>{a=i?i(a):a;const l=new Fa(a,!0);o.set(a,l)});const s=[];return this.servers.forEach((a,l)=>{const u=a.listen;a.gossiped&&this.currentServer.listen!==u&&o.get(u)===void 0&&s.push(l),o.delete(u)}),s.reverse(),s.forEach(a=>{const l=this.servers.splice(a,1);r=r.concat(l[0].listen)}),o.forEach((a,l)=>{this.servers.push(a),n.push(l)}),{added:n,deleted:r}}}class Qt{constructor(){b(this,"inflight");b(this,"processed");b(this,"received");b(this,"noIterator");b(this,"iterClosed");b(this,"done");b(this,"signal");b(this,"yields");b(this,"filtered");b(this,"pendingFiltered");b(this,"ingestionFilterFn");b(this,"protocolFilterFn");b(this,"dispatchedFn");b(this,"ctx");b(this,"_data");b(this,"err");b(this,"time");this.inflight=0,this.filtered=0,this.pendingFiltered=0,this.processed=0,this.received=0,this.noIterator=!1,this.done=!1,this.signal=yt(),this.yields=[],this.iterClosed=yt(),this.time=0}[Symbol.asyncIterator](){return this.iterate()}push(t){if(this.done)return;if(typeof t=="function"){this.yields.push(t),this.signal.resolve();return}const{ingest:n,protocol:r}=this.ingestionFilterFn?this.ingestionFilterFn(t,this.ctx||this):{ingest:!0,protocol:!1};n&&(r&&(this.filtered++,this.pendingFiltered++),this.yields.push(t),this.signal.resolve())}async*iterate(){if(this.noIterator)throw new ye("unsupported iterator",te.ApiError);try{for(;;){if(this.yields.length===0&&await this.signal,this.err)throw this.err;const t=this.yields;this.inflight=t.length,this.yields=[];for(let n=0;n<t.length;n++){if(typeof t[n]=="function"){const i=t[n];try{i()}catch(o){throw o}if(this.err)throw this.err;continue}if(this.protocolFilterFn?this.protocolFilterFn(t[n]):!0){this.processed++;const i=Date.now();yield t[n],this.time=Date.now()-i,this.dispatchedFn&&t[n]&&this.dispatchedFn(t[n])}else this.pendingFiltered--;this.inflight--}if(this.done)break;this.yields.length===0&&(t.length=0,this.yields=t,this.signal=yt())}}finally{this.stop()}}stop(t){this.done||(this.err=t,this.done=!0,this.signal.resolve(),this.iterClosed.resolve())}getProcessed(){return this.noIterator?this.received:this.processed}getPending(){return this.yields.length+this.inflight-this.pendingFiltered}getReceived(){return this.received-this.filtered}}function v0(e){let r=!0;const i=new Array(e.length);for(let o=0;o<e.length;o++){let s=e.charCodeAt(o);if(s===58||s<33||s>126)throw new ye(`'${e[o]}' is not a valid character for a header key`,te.BadHeader);r&&97<=s&&s<=122?s-=32:!r&&65<=s&&s<=90&&(s+=32),i[o]=s,r=s==45}return String.fromCharCode(...i)}function ei(e=0,t=""){if(e===0&&t!==""||e>0&&t==="")throw new Error("setting status requires both code and description");return new Ii(e,t)}const kf="NATS/1.0";class Ii{constructor(t=0,n=""){b(this,"_code");b(this,"headers");b(this,"_description");this._code=t,this._description=n,this.headers=new Map}[Symbol.iterator](){return this.headers.entries()}size(){return this.headers.size}equals(t){if(t&&this.headers.size===t.headers.size&&this._code===t._code){for(const[n,r]of this.headers){const i=t.values(n);if(r.length!==i.length)return!1;const o=[...r].sort(),s=[...i].sort();for(let a=0;a<o.length;a++)if(o[a]!==s[a])return!1}return!0}return!1}static decode(t){const n=new Ii,i=Pn.decode(t).split(`\r
`),o=i[0];if(o!==kf){let s=o.replace(kf,"").trim();if(s.length>0){n._code=parseInt(s,10),isNaN(n._code)&&(n._code=0);const a=n._code.toString();s=s.replace(a,""),n._description=s.trim()}}return i.length>=1&&i.slice(1).map(s=>{if(s){const a=s.indexOf(":");if(a>-1){const l=s.slice(0,a),u=s.slice(a+1).trim();n.append(l,u)}}}),n}toString(){if(this.headers.size===0&&this._code===0)return"";let t=kf;this._code>0&&this._description!==""&&(t+=` ${this._code} ${this._description}`);for(const[n,r]of this.headers)for(let i=0;i<r.length;i++)t=`${t}\r
${n}: ${r[i]}`;return`${t}\r
\r
`}encode(){return Po.encode(this.toString())}static validHeaderValue(t){if(/[\r\n]/.test(t))throw new ye("invalid header value - \\r and \\n are not allowed.",te.BadHeader);return t.trim()}keys(){const t=[];for(const n of this.headers.keys())t.push(n);return t}findKeys(t,n=Un.Exact){const r=this.keys();switch(n){case Un.Exact:return r.filter(i=>i===t);case Un.CanonicalMIME:return t=v0(t),r.filter(i=>i===t);default:{const i=t.toLowerCase();return r.filter(o=>i===o.toLowerCase())}}}get(t,n=Un.Exact){const r=this.findKeys(t,n);if(r.length){const i=this.headers.get(r[0]);if(i)return Array.isArray(i)?i[0]:i}return""}has(t,n=Un.Exact){return this.findKeys(t,n).length>0}set(t,n,r=Un.Exact){this.delete(t,r),this.append(t,n,r)}append(t,n,r=Un.Exact){const i=v0(t);r===Un.CanonicalMIME&&(t=i);const o=this.findKeys(t,r);t=o.length>0?o[0]:t;const s=Ii.validHeaderValue(n);let a=this.headers.get(t);a||(a=[],this.headers.set(t,a)),a.push(s)}values(t,n=Un.Exact){const r=[];return this.findKeys(t,n).forEach(o=>{const s=this.headers.get(o);s&&r.push(...s)}),r}delete(t,n=Un.Exact){this.findKeys(t,n).forEach(i=>{this.headers.delete(i)})}get hasError(){return this._code>=300}get status(){return`${this._code} ${this._description}`.trim()}toRecord(){const t={};return this.keys().forEach(n=>{t[n]=this.values(n)}),t}get code(){return this._code}get description(){return this._description}static fromRecord(t){const n=new Ii;for(const r in t)n.headers.set(r,t[r]);return n}}function YP(){return{encode(e){return Po.encode(e)},decode(e){return Pn.decode(e)}}}function dr(e){return{encode(t){try{return t===void 0&&(t=null),Po.encode(JSON.stringify(t))}catch(n){throw ye.errorForCode(te.BadJson,n)}},decode(t){try{return JSON.parse(Pn.decode(t),e)}catch(n){throw ye.errorForCode(te.BadJson,n)}}}}function F_(e){var t;return e&&e.data.length===0&&((t=e.headers)==null?void 0:t.code)===503?ye.errorForCode(te.NoResponders):null}class Wm{constructor(t,n,r){b(this,"_headers");b(this,"_msg");b(this,"_rdata");b(this,"_reply");b(this,"_subject");b(this,"publisher");this._msg=t,this._rdata=n,this.publisher=r}get subject(){return this._subject?this._subject:(this._subject=Pn.decode(this._msg.subject),this._subject)}get reply(){return this._reply?this._reply:(this._reply=Pn.decode(this._msg.reply),this._reply)}get sid(){return this._msg.sid}get headers(){if(this._msg.hdr>-1&&!this._headers){const t=this._rdata.subarray(0,this._msg.hdr);this._headers=Ii.decode(t)}return this._headers}get data(){return this._rdata?this._msg.hdr>-1?this._rdata.subarray(this._msg.hdr):this._rdata:new Uint8Array(0)}respond(t=Nn,n){return this.reply?(this.publisher.publish(this.reply,t,n),!0):!1}size(){var i;const t=this._msg.subject.length,n=((i=this._msg.reply)==null?void 0:i.length)||0,r=this._msg.size===-1?0:this._msg.size;return t+n+r}json(t){return dr(t).decode(this.data)}string(){return Pn.decode(this.data)}}b(Wm,"jc");class ZP{constructor(){b(this,"baseInbox");b(this,"reqs");this.reqs=new Map}size(){return this.reqs.size}init(t){return this.baseInbox=`${Yr(t)}.`,this.baseInbox}add(t){isNaN(t.received)||(t.received=0),this.reqs.set(t.token,t)}get(t){return this.reqs.get(t)}cancel(t){this.reqs.delete(t.token)}getToken(t){const n=t.subject||"";return n.indexOf(this.baseInbox)===0?n.substring(this.baseInbox.length):null}all(){return Array.from(this.reqs.values())}handleError(t,n){if(n&&n.permissionContext){if(t)return this.all().forEach(i=>{i.resolver(n,{})}),!0;const r=n.permissionContext;if(r.operation==="publish"){const i=this.all().find(o=>o.requestSubject===r.subject);if(i)return i.resolver(n,{}),!0}}return!1}dispatcher(){return(t,n)=>{const r=this.getToken(n);if(r){const i=this.get(r);i&&(t===null&&n.headers&&(t=F_(n)),i.resolver(t,n))}}}close(){const t=ye.errorForCode(te.Timeout);this.reqs.forEach(n=>{n.resolver(t,{})})}}class JP{constructor(t,n,r){b(this,"ph");b(this,"interval");b(this,"maxOut");b(this,"timer");b(this,"pendings");this.ph=t,this.interval=n,this.maxOut=r,this.pendings=[]}start(){this.cancel(),this._schedule()}cancel(t){this.timer&&(clearTimeout(this.timer),this.timer=void 0),this._reset(),t&&this.ph.disconnect()}_schedule(){this.timer=setTimeout(()=>{if(this.ph.dispatchStatus({type:cl.PingTimer,data:`${this.pendings.length+1}`}),this.pendings.length===this.maxOut){this.cancel(!0);return}const t=yt();this.ph.flush(t).then(()=>{this._reset()}).catch(()=>{this.cancel()}),this.pendings.push(t),this._schedule()},this.interval)}_reset(){this.pendings=this.pendings.filter(t=>(t.resolve(),!1))}}class XP extends Error{constructor(t){super(t),this.name="AssertionError"}}function QP(e,t="Assertion failed."){if(!e)throw new XP(t)}const y0=32*1024,Rf=2**32-2;function uu(e,t,n=0){const r=t.byteLength-n;return e.byteLength>r&&(e=e.subarray(0,r)),t.set(e,n),e.byteLength}class Pf{constructor(t){b(this,"_buf");b(this,"_off");if(this._off=0,t==null){this._buf=new Uint8Array(0);return}this._buf=new Uint8Array(t)}bytes(t={copy:!0}){return t.copy===!1?this._buf.subarray(this._off):this._buf.slice(this._off)}empty(){return this._buf.byteLength<=this._off}get length(){return this._buf.byteLength-this._off}get capacity(){return this._buf.buffer.byteLength}truncate(t){if(t===0){this.reset();return}if(t<0||t>this.length)throw Error("bytes.Buffer: truncation out of range");this._reslice(this._off+t)}reset(){this._reslice(0),this._off=0}_tryGrowByReslice(t){const n=this._buf.byteLength;return t<=this.capacity-n?(this._reslice(n+t),n):-1}_reslice(t){QP(t<=this._buf.buffer.byteLength),this._buf=new Uint8Array(this._buf.buffer,0,t)}readByte(){const t=new Uint8Array(1);return this.read(t)?t[0]:null}read(t){if(this.empty())return this.reset(),t.byteLength===0?0:null;const n=uu(this._buf.subarray(this._off),t);return this._off+=n,n}writeByte(t){return this.write(Uint8Array.of(t))}writeString(t){return this.write(Po.encode(t))}write(t){const n=this._grow(t.byteLength);return uu(t,this._buf,n)}_grow(t){const n=this.length;n===0&&this._off!==0&&this.reset();const r=this._tryGrowByReslice(t);if(r>=0)return r;const i=this.capacity;if(t<=Math.floor(i/2)-n)uu(this._buf.subarray(this._off),this._buf);else{if(i+t>Rf)throw new Error("The buffer cannot be grown beyond the maximum size.");{const o=new Uint8Array(Math.min(2*i+t,Rf));uu(this._buf.subarray(this._off),o),this._buf=o}}return this._off=0,this._reslice(Math.min(n+t,Rf)),n}grow(t){if(t<0)throw Error("Buffer._grow: negative count");const n=this._grow(t);this._reslice(n)}readFrom(t){let n=0;const r=new Uint8Array(y0);for(;;){const i=this.capacity-this.length<y0,o=i?r:new Uint8Array(this._buf.buffer,this.length),s=t.read(o);if(s===null)return n;i?this.write(o.subarray(0,s)):this._reslice(this.length+s),n+=s}}}var sn;(function(e){e[e.OK=0]="OK",e[e.ERR=1]="ERR",e[e.MSG=2]="MSG",e[e.INFO=3]="INFO",e[e.PING=4]="PING",e[e.PONG=5]="PONG"})(sn||(sn={}));function w0(){const e={};return e.sid=-1,e.hdr=-1,e.size=-1,e}const e2=48;class x0{constructor(t){b(this,"dispatcher");b(this,"state");b(this,"as");b(this,"drop");b(this,"hdr");b(this,"ma");b(this,"argBuf");b(this,"msgBuf");this.dispatcher=t,this.state=ne.OP_START,this.as=0,this.drop=0,this.hdr=0}parse(t){let n;for(n=0;n<t.length;n++){const r=t[n];switch(this.state){case ne.OP_START:switch(r){case re.M:case re.m:this.state=ne.OP_M,this.hdr=-1,this.ma=w0();break;case re.H:case re.h:this.state=ne.OP_H,this.hdr=0,this.ma=w0();break;case re.P:case re.p:this.state=ne.OP_P;break;case re.PLUS:this.state=ne.OP_PLUS;break;case re.MINUS:this.state=ne.OP_MINUS;break;case re.I:case re.i:this.state=ne.OP_I;break;default:throw this.fail(t.subarray(n))}break;case ne.OP_H:switch(r){case re.M:case re.m:this.state=ne.OP_M;break;default:throw this.fail(t.subarray(n))}break;case ne.OP_M:switch(r){case re.S:case re.s:this.state=ne.OP_MS;break;default:throw this.fail(t.subarray(n))}break;case ne.OP_MS:switch(r){case re.G:case re.g:this.state=ne.OP_MSG;break;default:throw this.fail(t.subarray(n))}break;case ne.OP_MSG:switch(r){case re.SPACE:case re.TAB:this.state=ne.OP_MSG_SPC;break;default:throw this.fail(t.subarray(n))}break;case ne.OP_MSG_SPC:switch(r){case re.SPACE:case re.TAB:continue;default:this.state=ne.MSG_ARG,this.as=n}break;case ne.MSG_ARG:switch(r){case re.CR:this.drop=1;break;case re.NL:{const i=this.argBuf?this.argBuf.bytes():t.subarray(this.as,n-this.drop);this.processMsgArgs(i),this.drop=0,this.as=n+1,this.state=ne.MSG_PAYLOAD,n=this.as+this.ma.size-1;break}default:this.argBuf&&this.argBuf.writeByte(r)}break;case ne.MSG_PAYLOAD:if(this.msgBuf)if(this.msgBuf.length>=this.ma.size){const i=this.msgBuf.bytes({copy:!1});this.dispatcher.push({kind:sn.MSG,msg:this.ma,data:i}),this.argBuf=void 0,this.msgBuf=void 0,this.state=ne.MSG_END}else{let i=this.ma.size-this.msgBuf.length;const o=t.length-n;o<i&&(i=o),i>0?(this.msgBuf.write(t.subarray(n,n+i)),n=n+i-1):this.msgBuf.writeByte(r)}else n-this.as>=this.ma.size&&(this.dispatcher.push({kind:sn.MSG,msg:this.ma,data:t.subarray(this.as,n)}),this.argBuf=void 0,this.msgBuf=void 0,this.state=ne.MSG_END);break;case ne.MSG_END:switch(r){case re.NL:this.drop=0,this.as=n+1,this.state=ne.OP_START;break;default:continue}break;case ne.OP_PLUS:switch(r){case re.O:case re.o:this.state=ne.OP_PLUS_O;break;default:throw this.fail(t.subarray(n))}break;case ne.OP_PLUS_O:switch(r){case re.K:case re.k:this.state=ne.OP_PLUS_OK;break;default:throw this.fail(t.subarray(n))}break;case ne.OP_PLUS_OK:switch(r){case re.NL:this.dispatcher.push({kind:sn.OK}),this.drop=0,this.state=ne.OP_START;break}break;case ne.OP_MINUS:switch(r){case re.E:case re.e:this.state=ne.OP_MINUS_E;break;default:throw this.fail(t.subarray(n))}break;case ne.OP_MINUS_E:switch(r){case re.R:case re.r:this.state=ne.OP_MINUS_ER;break;default:throw this.fail(t.subarray(n))}break;case ne.OP_MINUS_ER:switch(r){case re.R:case re.r:this.state=ne.OP_MINUS_ERR;break;default:throw this.fail(t.subarray(n))}break;case ne.OP_MINUS_ERR:switch(r){case re.SPACE:case re.TAB:this.state=ne.OP_MINUS_ERR_SPC;break;default:throw this.fail(t.subarray(n))}break;case ne.OP_MINUS_ERR_SPC:switch(r){case re.SPACE:case re.TAB:continue;default:this.state=ne.MINUS_ERR_ARG,this.as=n}break;case ne.MINUS_ERR_ARG:switch(r){case re.CR:this.drop=1;break;case re.NL:{let i;this.argBuf?(i=this.argBuf.bytes(),this.argBuf=void 0):i=t.subarray(this.as,n-this.drop),this.dispatcher.push({kind:sn.ERR,data:i}),this.drop=0,this.as=n+1,this.state=ne.OP_START;break}default:this.argBuf&&this.argBuf.write(Uint8Array.of(r))}break;case ne.OP_P:switch(r){case re.I:case re.i:this.state=ne.OP_PI;break;case re.O:case re.o:this.state=ne.OP_PO;break;default:throw this.fail(t.subarray(n))}break;case ne.OP_PO:switch(r){case re.N:case re.n:this.state=ne.OP_PON;break;default:throw this.fail(t.subarray(n))}break;case ne.OP_PON:switch(r){case re.G:case re.g:this.state=ne.OP_PONG;break;default:throw this.fail(t.subarray(n))}break;case ne.OP_PONG:switch(r){case re.NL:this.dispatcher.push({kind:sn.PONG}),this.drop=0,this.state=ne.OP_START;break}break;case ne.OP_PI:switch(r){case re.N:case re.n:this.state=ne.OP_PIN;break;default:throw this.fail(t.subarray(n))}break;case ne.OP_PIN:switch(r){case re.G:case re.g:this.state=ne.OP_PING;break;default:throw this.fail(t.subarray(n))}break;case ne.OP_PING:switch(r){case re.NL:this.dispatcher.push({kind:sn.PING}),this.drop=0,this.state=ne.OP_START;break}break;case ne.OP_I:switch(r){case re.N:case re.n:this.state=ne.OP_IN;break;default:throw this.fail(t.subarray(n))}break;case ne.OP_IN:switch(r){case re.F:case re.f:this.state=ne.OP_INF;break;default:throw this.fail(t.subarray(n))}break;case ne.OP_INF:switch(r){case re.O:case re.o:this.state=ne.OP_INFO;break;default:throw this.fail(t.subarray(n))}break;case ne.OP_INFO:switch(r){case re.SPACE:case re.TAB:this.state=ne.OP_INFO_SPC;break;default:throw this.fail(t.subarray(n))}break;case ne.OP_INFO_SPC:switch(r){case re.SPACE:case re.TAB:continue;default:this.state=ne.INFO_ARG,this.as=n}break;case ne.INFO_ARG:switch(r){case re.CR:this.drop=1;break;case re.NL:{let i;this.argBuf?(i=this.argBuf.bytes(),this.argBuf=void 0):i=t.subarray(this.as,n-this.drop),this.dispatcher.push({kind:sn.INFO,data:i}),this.drop=0,this.as=n+1,this.state=ne.OP_START;break}default:this.argBuf&&this.argBuf.writeByte(r)}break;default:throw this.fail(t.subarray(n))}}(this.state===ne.MSG_ARG||this.state===ne.MINUS_ERR_ARG||this.state===ne.INFO_ARG)&&!this.argBuf&&(this.argBuf=new Pf(t.subarray(this.as,n-this.drop))),this.state===ne.MSG_PAYLOAD&&!this.msgBuf&&(this.argBuf||this.cloneMsgArg(),this.msgBuf=new Pf(t.subarray(this.as)))}cloneMsgArg(){const t=this.ma.subject.length,n=this.ma.reply?this.ma.reply.length:0,r=new Uint8Array(t+n);r.set(this.ma.subject),this.ma.reply&&r.set(this.ma.reply,t),this.argBuf=new Pf(r),this.ma.subject=r.subarray(0,t),this.ma.reply&&(this.ma.reply=r.subarray(t))}processMsgArgs(t){if(this.hdr>=0)return this.processHeaderMsgArgs(t);const n=[];let r=-1;for(let i=0;i<t.length;i++)switch(t[i]){case re.SPACE:case re.TAB:case re.CR:case re.NL:r>=0&&(n.push(t.subarray(r,i)),r=-1);break;default:r<0&&(r=i)}switch(r>=0&&n.push(t.subarray(r)),n.length){case 3:this.ma.subject=n[0],this.ma.sid=this.protoParseInt(n[1]),this.ma.reply=void 0,this.ma.size=this.protoParseInt(n[2]);break;case 4:this.ma.subject=n[0],this.ma.sid=this.protoParseInt(n[1]),this.ma.reply=n[2],this.ma.size=this.protoParseInt(n[3]);break;default:throw this.fail(t,"processMsgArgs Parse Error")}if(this.ma.sid<0)throw this.fail(t,"processMsgArgs Bad or Missing Sid Error");if(this.ma.size<0)throw this.fail(t,"processMsgArgs Bad or Missing Size Error")}fail(t,n=""){return n?n=`${n} [${this.state}]`:n=`parse error [${this.state}]`,new Error(`${n}: ${Pn.decode(t)}`)}processHeaderMsgArgs(t){const n=[];let r=-1;for(let i=0;i<t.length;i++)switch(t[i]){case re.SPACE:case re.TAB:case re.CR:case re.NL:r>=0&&(n.push(t.subarray(r,i)),r=-1);break;default:r<0&&(r=i)}switch(r>=0&&n.push(t.subarray(r)),n.length){case 4:this.ma.subject=n[0],this.ma.sid=this.protoParseInt(n[1]),this.ma.reply=void 0,this.ma.hdr=this.protoParseInt(n[2]),this.ma.size=this.protoParseInt(n[3]);break;case 5:this.ma.subject=n[0],this.ma.sid=this.protoParseInt(n[1]),this.ma.reply=n[2],this.ma.hdr=this.protoParseInt(n[3]),this.ma.size=this.protoParseInt(n[4]);break;default:throw this.fail(t,"processHeaderMsgArgs Parse Error")}if(this.ma.sid<0)throw this.fail(t,"processHeaderMsgArgs Bad or Missing Sid Error");if(this.ma.hdr<0||this.ma.hdr>this.ma.size)throw this.fail(t,"processHeaderMsgArgs Bad or Missing Header Size Error");if(this.ma.size<0)throw this.fail(t,"processHeaderMsgArgs Bad or Missing Size Error")}protoParseInt(t){if(t.length===0)return-1;let n=0;for(let r=0;r<t.length;r++){if(t[r]<48||t[r]>57)return-1;n=n*10+(t[r]-e2)}return n}}var ne;(function(e){e[e.OP_START=0]="OP_START",e[e.OP_PLUS=1]="OP_PLUS",e[e.OP_PLUS_O=2]="OP_PLUS_O",e[e.OP_PLUS_OK=3]="OP_PLUS_OK",e[e.OP_MINUS=4]="OP_MINUS",e[e.OP_MINUS_E=5]="OP_MINUS_E",e[e.OP_MINUS_ER=6]="OP_MINUS_ER",e[e.OP_MINUS_ERR=7]="OP_MINUS_ERR",e[e.OP_MINUS_ERR_SPC=8]="OP_MINUS_ERR_SPC",e[e.MINUS_ERR_ARG=9]="MINUS_ERR_ARG",e[e.OP_M=10]="OP_M",e[e.OP_MS=11]="OP_MS",e[e.OP_MSG=12]="OP_MSG",e[e.OP_MSG_SPC=13]="OP_MSG_SPC",e[e.MSG_ARG=14]="MSG_ARG",e[e.MSG_PAYLOAD=15]="MSG_PAYLOAD",e[e.MSG_END=16]="MSG_END",e[e.OP_H=17]="OP_H",e[e.OP_P=18]="OP_P",e[e.OP_PI=19]="OP_PI",e[e.OP_PIN=20]="OP_PIN",e[e.OP_PING=21]="OP_PING",e[e.OP_PO=22]="OP_PO",e[e.OP_PON=23]="OP_PON",e[e.OP_PONG=24]="OP_PONG",e[e.OP_I=25]="OP_I",e[e.OP_IN=26]="OP_IN",e[e.OP_INF=27]="OP_INF",e[e.OP_INFO=28]="OP_INFO",e[e.OP_INFO_SPC=29]="OP_INFO_SPC",e[e.INFO_ARG=30]="INFO_ARG"})(ne||(ne={}));var re;(function(e){e[e.CR="\r".charCodeAt(0)]="CR",e[e.E="E".charCodeAt(0)]="E",e[e.e="e".charCodeAt(0)]="e",e[e.F="F".charCodeAt(0)]="F",e[e.f="f".charCodeAt(0)]="f",e[e.G="G".charCodeAt(0)]="G",e[e.g="g".charCodeAt(0)]="g",e[e.H="H".charCodeAt(0)]="H",e[e.h="h".charCodeAt(0)]="h",e[e.I="I".charCodeAt(0)]="I",e[e.i="i".charCodeAt(0)]="i",e[e.K="K".charCodeAt(0)]="K",e[e.k="k".charCodeAt(0)]="k",e[e.M="M".charCodeAt(0)]="M",e[e.m="m".charCodeAt(0)]="m",e[e.MINUS="-".charCodeAt(0)]="MINUS",e[e.N="N".charCodeAt(0)]="N",e[e.n="n".charCodeAt(0)]="n",e[e.NL=`
`.charCodeAt(0)]="NL",e[e.O="O".charCodeAt(0)]="O",e[e.o="o".charCodeAt(0)]="o",e[e.P="P".charCodeAt(0)]="P",e[e.p="p".charCodeAt(0)]="p",e[e.PLUS="+".charCodeAt(0)]="PLUS",e[e.R="R".charCodeAt(0)]="R",e[e.r="r".charCodeAt(0)]="r",e[e.S="S".charCodeAt(0)]="S",e[e.s="s".charCodeAt(0)]="s",e[e.SPACE=" ".charCodeAt(0)]="SPACE",e[e.TAB="	".charCodeAt(0)]="TAB"})(re||(re={}));function fo(e=""){const t=e.match(/(\d+).(\d+).(\d+)/);if(t)return{major:parseInt(t[1]),minor:parseInt(t[2]),micro:parseInt(t[3])};throw new Error(`'${e}' is not a semver value`)}function ip(e,t){return e.major<t.major?-1:e.major>t.major?1:e.minor<t.minor?-1:e.minor>t.minor?1:e.micro<t.micro?-1:e.micro>t.micro?1:0}var Je;(function(e){e.JS_KV="js_kv",e.JS_OBJECTSTORE="js_objectstore",e.JS_PULL_MAX_BYTES="js_pull_max_bytes",e.JS_NEW_CONSUMER_CREATE_API="js_new_consumer_create",e.JS_ALLOW_DIRECT="js_allow_direct",e.JS_MULTIPLE_CONSUMER_FILTER="js_multiple_consumer_filter",e.JS_SIMPLIFICATION="js_simplification",e.JS_STREAM_CONSUMER_METADATA="js_stream_consumer_metadata",e.JS_CONSUMER_FILTER_SUBJECTS="js_consumer_filter_subjects",e.JS_STREAM_FIRST_SEQ="js_stream_first_seq",e.JS_STREAM_SUBJECT_TRANSFORM="js_stream_subject_transform",e.JS_STREAM_SOURCE_SUBJECT_TRANSFORM="js_stream_source_subject_transform",e.JS_STREAM_COMPRESSION="js_stream_compression",e.JS_DEFAULT_CONSUMER_LIMITS="js_default_consumer_limits"})(Je||(Je={}));class t2{constructor(t){b(this,"server");b(this,"features");b(this,"disabled");this.features=new Map,this.disabled=[],this.update(t)}resetDisabled(){this.disabled.length=0,this.update(this.server)}disable(t){this.disabled.push(t),this.update(this.server)}isDisabled(t){return this.disabled.indexOf(t)!==-1}update(t){typeof t=="string"&&(t=fo(t)),this.server=t,this.set(Je.JS_KV,"2.6.2"),this.set(Je.JS_OBJECTSTORE,"2.6.3"),this.set(Je.JS_PULL_MAX_BYTES,"2.8.3"),this.set(Je.JS_NEW_CONSUMER_CREATE_API,"2.9.0"),this.set(Je.JS_ALLOW_DIRECT,"2.9.0"),this.set(Je.JS_MULTIPLE_CONSUMER_FILTER,"2.10.0"),this.set(Je.JS_SIMPLIFICATION,"2.9.4"),this.set(Je.JS_STREAM_CONSUMER_METADATA,"2.10.0"),this.set(Je.JS_CONSUMER_FILTER_SUBJECTS,"2.10.0"),this.set(Je.JS_STREAM_FIRST_SEQ,"2.10.0"),this.set(Je.JS_STREAM_SUBJECT_TRANSFORM,"2.10.0"),this.set(Je.JS_STREAM_SOURCE_SUBJECT_TRANSFORM,"2.10.0"),this.set(Je.JS_STREAM_COMPRESSION,"2.10.0"),this.set(Je.JS_DEFAULT_CONSUMER_LIMITS,"2.10.0"),this.disabled.forEach(n=>{this.features.delete(n)})}set(t,n){this.features.set(t,{min:n,ok:ip(this.server,fo(n))>=0})}get(t){return this.features.get(t)||{min:"unknown",ok:!1}}supports(t){var n;return((n=this.get(t))==null?void 0:n.ok)||!1}require(t){return typeof t=="string"&&(t=fo(t)),ip(this.server,t)>=0}}(function(e){var t=function(x,E){this.hi=x|0,this.lo=E|0},n=function(x){var E,S=new Float64Array(16);if(x)for(E=0;E<x.length;E++)S[E]=x[E];return S},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var s=n(),a=n([1]),l=n([56129,1]),u=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function m(x,E){return x<<E|x>>>32-E}function g(x,E){var S=x[E+3]&255;return S=S<<8|x[E+2]&255,S=S<<8|x[E+1]&255,S<<8|x[E+0]&255}function C(x,E){var S=x[E]<<24|x[E+1]<<16|x[E+2]<<8|x[E+3],k=x[E+4]<<24|x[E+5]<<16|x[E+6]<<8|x[E+7];return new t(S,k)}function y(x,E,S){var k;for(k=0;k<4;k++)x[E+k]=S&255,S>>>=8}function p(x,E,S){x[E]=S.hi>>24&255,x[E+1]=S.hi>>16&255,x[E+2]=S.hi>>8&255,x[E+3]=S.hi&255,x[E+4]=S.lo>>24&255,x[E+5]=S.lo>>16&255,x[E+6]=S.lo>>8&255,x[E+7]=S.lo&255}function w(x,E,S,k,A){var O,z=0;for(O=0;O<A;O++)z|=x[E+O]^S[k+O];return(1&z-1>>>8)-1}function _(x,E,S,k){return w(x,E,S,k,16)}function P(x,E,S,k){return w(x,E,S,k,32)}function I(x,E,S,k,A){var O=new Uint32Array(16),z=new Uint32Array(16),q=new Uint32Array(16),N=new Uint32Array(4),U,me,qe;for(U=0;U<4;U++)z[5*U]=g(k,4*U),z[1+U]=g(S,4*U),z[6+U]=g(E,4*U),z[11+U]=g(S,16+4*U);for(U=0;U<16;U++)q[U]=z[U];for(U=0;U<20;U++){for(me=0;me<4;me++){for(qe=0;qe<4;qe++)N[qe]=z[(5*me+4*qe)%16];for(N[1]^=m(N[0]+N[3]|0,7),N[2]^=m(N[1]+N[0]|0,9),N[3]^=m(N[2]+N[1]|0,13),N[0]^=m(N[3]+N[2]|0,18),qe=0;qe<4;qe++)O[4*me+(me+qe)%4]=N[qe]}for(qe=0;qe<16;qe++)z[qe]=O[qe]}if(A){for(U=0;U<16;U++)z[U]=z[U]+q[U]|0;for(U=0;U<4;U++)z[5*U]=z[5*U]-g(k,4*U)|0,z[6+U]=z[6+U]-g(E,4*U)|0;for(U=0;U<4;U++)y(x,4*U,z[5*U]),y(x,16+4*U,z[6+U])}else for(U=0;U<16;U++)y(x,4*U,z[U]+q[U]|0)}function M(x,E,S,k){return I(x,E,S,k,!1),0}function j(x,E,S,k){return I(x,E,S,k,!0),0}var W=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function K(x,E,S,k,A,O,z){var q=new Uint8Array(16),N=new Uint8Array(64),U,me;if(!A)return 0;for(me=0;me<16;me++)q[me]=0;for(me=0;me<8;me++)q[me]=O[me];for(;A>=64;){for(M(N,q,z,W),me=0;me<64;me++)x[E+me]=(S?S[k+me]:0)^N[me];for(U=1,me=8;me<16;me++)U=U+(q[me]&255)|0,q[me]=U&255,U>>>=8;A-=64,E+=64,S&&(k+=64)}if(A>0)for(M(N,q,z,W),me=0;me<A;me++)x[E+me]=(S?S[k+me]:0)^N[me];return 0}function ae(x,E,S,k,A){return K(x,E,null,0,S,k,A)}function V(x,E,S,k,A){var O=new Uint8Array(32);return j(O,k,A,W),ae(x,E,S,k.subarray(16),O)}function X(x,E,S,k,A,O,z){var q=new Uint8Array(32);return j(q,O,z,W),K(x,E,S,k,A,O.subarray(16),q)}function Q(x,E){var S,k=0;for(S=0;S<17;S++)k=k+(x[S]+E[S]|0)|0,x[S]=k&255,k>>>=8}var we=new Uint32Array([5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,252]);function ie(x,E,S,k,A,O){var z,q,N,U,me=new Uint32Array(17),qe=new Uint32Array(17),pt=new Uint32Array(17),er=new Uint32Array(17),jo=new Uint32Array(17);for(N=0;N<17;N++)qe[N]=pt[N]=0;for(N=0;N<16;N++)qe[N]=O[N];for(qe[3]&=15,qe[4]&=252,qe[7]&=15,qe[8]&=252,qe[11]&=15,qe[12]&=252,qe[15]&=15;A>0;){for(N=0;N<17;N++)er[N]=0;for(N=0;N<16&&N<A;++N)er[N]=S[k+N];for(er[N]=1,k+=N,A-=N,Q(pt,er),q=0;q<17;q++)for(me[q]=0,N=0;N<17;N++)me[q]=me[q]+pt[N]*(N<=q?qe[q-N]:320*qe[q+17-N]|0)|0|0;for(q=0;q<17;q++)pt[q]=me[q];for(U=0,N=0;N<16;N++)U=U+pt[N]|0,pt[N]=U&255,U>>>=8;for(U=U+pt[16]|0,pt[16]=U&3,U=5*(U>>>2)|0,N=0;N<16;N++)U=U+pt[N]|0,pt[N]=U&255,U>>>=8;U=U+pt[16]|0,pt[16]=U}for(N=0;N<17;N++)jo[N]=pt[N];for(Q(pt,we),z=-(pt[16]>>>7)|0,N=0;N<17;N++)pt[N]^=z&(jo[N]^pt[N]);for(N=0;N<16;N++)er[N]=O[N+16];for(er[16]=0,Q(pt,er),N=0;N<16;N++)x[E+N]=pt[N];return 0}function $e(x,E,S,k,A,O){var z=new Uint8Array(16);return ie(z,0,S,k,A,O),_(x,E,z,0)}function B(x,E,S,k,A){var O;if(S<32)return-1;for(X(x,0,E,0,S,k,A),ie(x,16,x,32,S-32,x),O=0;O<16;O++)x[O]=0;return 0}function ee(x,E,S,k,A){var O,z=new Uint8Array(32);if(S<32||(V(z,0,32,k,A),$e(E,16,E,32,S-32,z)!==0))return-1;for(X(x,0,E,0,S,k,A),O=0;O<32;O++)x[O]=0;return 0}function ce(x,E){var S;for(S=0;S<16;S++)x[S]=E[S]|0}function Ee(x){var E,S;for(S=0;S<16;S++)x[S]+=65536,E=Math.floor(x[S]/65536),x[(S+1)*(S<15?1:0)]+=E-1+37*(E-1)*(S===15?1:0),x[S]-=E*65536}function Ne(x,E,S){for(var k,A=~(S-1),O=0;O<16;O++)k=A&(x[O]^E[O]),x[O]^=k,E[O]^=k}function De(x,E){var S,k,A,O=n(),z=n();for(S=0;S<16;S++)z[S]=E[S];for(Ee(z),Ee(z),Ee(z),k=0;k<2;k++){for(O[0]=z[0]-65517,S=1;S<15;S++)O[S]=z[S]-65535-(O[S-1]>>16&1),O[S-1]&=65535;O[15]=z[15]-32767-(O[14]>>16&1),A=O[15]>>16&1,O[14]&=65535,Ne(z,O,1-A)}for(S=0;S<16;S++)x[2*S]=z[S]&255,x[2*S+1]=z[S]>>8}function je(x,E){var S=new Uint8Array(32),k=new Uint8Array(32);return De(S,x),De(k,E),P(S,0,k,0)}function ct(x){var E=new Uint8Array(32);return De(E,x),E[0]&1}function Ye(x,E){var S;for(S=0;S<16;S++)x[S]=E[2*S]+(E[2*S+1]<<8);x[15]&=32767}function de(x,E,S){var k;for(k=0;k<16;k++)x[k]=E[k]+S[k]|0}function Ce(x,E,S){var k;for(k=0;k<16;k++)x[k]=E[k]-S[k]|0}function ve(x,E,S){var k,A,O=new Float64Array(31);for(k=0;k<31;k++)O[k]=0;for(k=0;k<16;k++)for(A=0;A<16;A++)O[k+A]+=E[k]*S[A];for(k=0;k<15;k++)O[k]+=38*O[k+16];for(k=0;k<16;k++)x[k]=O[k];Ee(x),Ee(x)}function Me(x,E){ve(x,E,E)}function Le(x,E){var S=n(),k;for(k=0;k<16;k++)S[k]=E[k];for(k=253;k>=0;k--)Me(S,S),k!==2&&k!==4&&ve(S,S,E);for(k=0;k<16;k++)x[k]=S[k]}function Ue(x,E){var S=n(),k;for(k=0;k<16;k++)S[k]=E[k];for(k=250;k>=0;k--)Me(S,S),k!==1&&ve(S,S,E);for(k=0;k<16;k++)x[k]=S[k]}function ft(x,E,S){var k=new Uint8Array(32),A=new Float64Array(80),O,z,q=n(),N=n(),U=n(),me=n(),qe=n(),pt=n();for(z=0;z<31;z++)k[z]=E[z];for(k[31]=E[31]&127|64,k[0]&=248,Ye(A,S),z=0;z<16;z++)N[z]=A[z],me[z]=q[z]=U[z]=0;for(q[0]=me[0]=1,z=254;z>=0;--z)O=k[z>>>3]>>>(z&7)&1,Ne(q,N,O),Ne(U,me,O),de(qe,q,U),Ce(q,q,U),de(U,N,me),Ce(N,N,me),Me(me,qe),Me(pt,q),ve(q,U,q),ve(U,N,qe),de(qe,q,U),Ce(q,q,U),Me(N,q),Ce(U,me,pt),ve(q,U,l),de(q,q,me),ve(U,U,q),ve(q,me,pt),ve(me,N,A),Me(N,qe),Ne(q,N,O),Ne(U,me,O);for(z=0;z<16;z++)A[z+16]=q[z],A[z+32]=U[z],A[z+48]=N[z],A[z+64]=me[z];var er=A.subarray(32),jo=A.subarray(16);return Le(er,er),ve(jo,jo,er),De(x,jo),0}function Et(x,E){return ft(x,E,o)}function Nt(x,E){return r(E,32),Et(x,E)}function tn(x,E,S){var k=new Uint8Array(32);return ft(k,S,E),j(x,i,k,W)}var $=B,F=ee;function L(x,E,S,k,A,O){var z=new Uint8Array(32);return tn(z,A,O),$(x,E,S,k,z)}function se(x,E,S,k,A,O){var z=new Uint8Array(32);return tn(z,A,O),F(x,E,S,k,z)}function Z(){var x=0,E=0,S=0,k=0,A=65535,O,z,q;for(q=0;q<arguments.length;q++)O=arguments[q].lo,z=arguments[q].hi,x+=O&A,E+=O>>>16,S+=z&A,k+=z>>>16;return E+=x>>>16,S+=E>>>16,k+=S>>>16,new t(S&A|k<<16,x&A|E<<16)}function Y(x,E){return new t(x.hi>>>E,x.lo>>>E|x.hi<<32-E)}function ge(){var x=0,E=0,S;for(S=0;S<arguments.length;S++)x^=arguments[S].lo,E^=arguments[S].hi;return new t(E,x)}function He(x,E){var S,k,A=32-E;return E<32?(S=x.hi>>>E|x.lo<<A,k=x.lo>>>E|x.hi<<A):E<64&&(S=x.lo>>>E|x.hi<<A,k=x.hi>>>E|x.lo<<A),new t(S,k)}function it(x,E,S){var k=x.hi&E.hi^~x.hi&S.hi,A=x.lo&E.lo^~x.lo&S.lo;return new t(k,A)}function _n(x,E,S){var k=x.hi&E.hi^x.hi&S.hi^E.hi&S.hi,A=x.lo&E.lo^x.lo&S.lo^E.lo&S.lo;return new t(k,A)}function Oo(x){return ge(He(x,28),He(x,34),He(x,39))}function Mr(x){return ge(He(x,14),He(x,18),He(x,41))}function Ki(x){return ge(He(x,1),He(x,8),Y(x,7))}function Mo(x){return ge(He(x,19),He(x,61),Y(x,6))}var Io=[new t(1116352408,3609767458),new t(1899447441,602891725),new t(3049323471,3964484399),new t(3921009573,2173295548),new t(961987163,4081628472),new t(1508970993,3053834265),new t(2453635748,2937671579),new t(2870763221,3664609560),new t(3624381080,2734883394),new t(310598401,1164996542),new t(607225278,1323610764),new t(1426881987,3590304994),new t(1925078388,4068182383),new t(2162078206,991336113),new t(2614888103,633803317),new t(3248222580,3479774868),new t(3835390401,2666613458),new t(4022224774,944711139),new t(264347078,2341262773),new t(604807628,2007800933),new t(770255983,1495990901),new t(1249150122,1856431235),new t(1555081692,3175218132),new t(1996064986,2198950837),new t(2554220882,3999719339),new t(2821834349,766784016),new t(2952996808,2566594879),new t(3210313671,3203337956),new t(3336571891,1034457026),new t(3584528711,2466948901),new t(113926993,3758326383),new t(338241895,168717936),new t(666307205,1188179964),new t(773529912,1546045734),new t(1294757372,1522805485),new t(1396182291,2643833823),new t(1695183700,2343527390),new t(1986661051,1014477480),new t(2177026350,1206759142),new t(2456956037,344077627),new t(2730485921,1290863460),new t(2820302411,3158454273),new t(3259730800,3505952657),new t(3345764771,106217008),new t(3516065817,3606008344),new t(3600352804,1432725776),new t(4094571909,1467031594),new t(275423344,851169720),new t(430227734,3100823752),new t(506948616,1363258195),new t(659060556,3750685593),new t(883997877,3785050280),new t(958139571,3318307427),new t(1322822218,3812723403),new t(1537002063,2003034995),new t(1747873779,3602036899),new t(1955562222,1575990012),new t(2024104815,1125592928),new t(2227730452,2716904306),new t(2361852424,442776044),new t(2428436474,593698344),new t(2756734187,3733110249),new t(3204031479,2999351573),new t(3329325298,3815920427),new t(3391569614,3928383900),new t(3515267271,566280711),new t(3940187606,3454069534),new t(4118630271,4000239992),new t(116418474,1914138554),new t(174292421,2731055270),new t(289380356,3203993006),new t(460393269,320620315),new t(685471733,587496836),new t(852142971,1086792851),new t(1017036298,365543100),new t(1126000580,2618297676),new t(1288033470,3409855158),new t(1501505948,4234509866),new t(1607167915,987167468),new t(1816402316,1246189591)];function Yi(x,E,S){var k=[],A=[],O=[],z=[],q,N,U;for(N=0;N<8;N++)k[N]=O[N]=C(x,8*N);for(var me=0;S>=128;){for(N=0;N<16;N++)z[N]=C(E,8*N+me);for(N=0;N<80;N++){for(U=0;U<8;U++)A[U]=O[U];for(q=Z(O[7],Mr(O[4]),it(O[4],O[5],O[6]),Io[N],z[N%16]),A[7]=Z(q,Oo(O[0]),_n(O[0],O[1],O[2])),A[3]=Z(A[3],q),U=0;U<8;U++)O[(U+1)%8]=A[U];if(N%16===15)for(U=0;U<16;U++)z[U]=Z(z[U],z[(U+9)%16],Ki(z[(U+1)%16]),Mo(z[(U+14)%16]))}for(N=0;N<8;N++)O[N]=Z(O[N],k[N]),k[N]=O[N];me+=128,S-=128}for(N=0;N<8;N++)p(x,8*N,k[N]);return S}var To=new Uint8Array([106,9,230,103,243,188,201,8,187,103,174,133,132,202,167,59,60,110,243,114,254,148,248,43,165,79,245,58,95,29,54,241,81,14,82,127,173,230,130,209,155,5,104,140,43,62,108,31,31,131,217,171,251,65,189,107,91,224,205,25,19,126,33,121]);function T(x,E,S){var k=new Uint8Array(64),A=new Uint8Array(256),O,z=S;for(O=0;O<64;O++)k[O]=To[O];for(Yi(k,E,S),S%=128,O=0;O<256;O++)A[O]=0;for(O=0;O<S;O++)A[O]=E[z-S+O];for(A[S]=128,S=256-128*(S<112?1:0),A[S-9]=0,p(A,S-8,new t(z/536870912|0,z<<3)),Yi(k,A,S),O=0;O<64;O++)x[O]=k[O];return 0}function D(x,E){var S=n(),k=n(),A=n(),O=n(),z=n(),q=n(),N=n(),U=n(),me=n();Ce(S,x[1],x[0]),Ce(me,E[1],E[0]),ve(S,S,me),de(k,x[0],x[1]),de(me,E[0],E[1]),ve(k,k,me),ve(A,x[3],E[3]),ve(A,A,c),ve(O,x[2],E[2]),de(O,O,O),Ce(z,k,S),Ce(q,O,A),de(N,O,A),de(U,k,S),ve(x[0],z,q),ve(x[1],U,N),ve(x[2],N,q),ve(x[3],z,U)}function H(x,E,S){var k;for(k=0;k<4;k++)Ne(x[k],E[k],S)}function le(x,E){var S=n(),k=n(),A=n();Le(A,E[2]),ve(S,E[0],A),ve(k,E[1],A),De(x,k),x[31]^=ct(S)<<7}function ke(x,E,S){var k,A;for(ce(x[0],s),ce(x[1],a),ce(x[2],a),ce(x[3],s),A=255;A>=0;--A)k=S[A/8|0]>>(A&7)&1,H(x,E,k),D(E,x),D(x,x),H(x,E,k)}function Se(x,E){var S=[n(),n(),n(),n()];ce(S[0],d),ce(S[1],f),ce(S[2],a),ve(S[3],d,f),ke(x,S,E)}function Ae(x,E,S){var k=new Uint8Array(64),A=[n(),n(),n(),n()],O;for(S||r(E,32),T(k,E,32),k[0]&=248,k[31]&=127,k[31]|=64,Se(A,k),le(x,A),O=0;O<32;O++)E[O+32]=x[O];return 0}var _e=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function xe(x,E){var S,k,A,O;for(k=63;k>=32;--k){for(S=0,A=k-32,O=k-12;A<O;++A)E[A]+=S-16*E[k]*_e[A-(k-32)],S=Math.floor((E[A]+128)/256),E[A]-=S*256;E[A]+=S,E[k]=0}for(S=0,A=0;A<32;A++)E[A]+=S-(E[31]>>4)*_e[A],S=E[A]>>8,E[A]&=255;for(A=0;A<32;A++)E[A]-=S*_e[A];for(k=0;k<32;k++)E[k+1]+=E[k]>>8,x[k]=E[k]&255}function rt(x){var E=new Float64Array(64),S;for(S=0;S<64;S++)E[S]=x[S];for(S=0;S<64;S++)x[S]=0;xe(x,E)}function jt(x,E,S,k){var A=new Uint8Array(64),O=new Uint8Array(64),z=new Uint8Array(64),q,N,U=new Float64Array(64),me=[n(),n(),n(),n()];T(A,k,32),A[0]&=248,A[31]&=127,A[31]|=64;var qe=S+64;for(q=0;q<S;q++)x[64+q]=E[q];for(q=0;q<32;q++)x[32+q]=A[32+q];for(T(z,x.subarray(32),S+32),rt(z),Se(me,z),le(x,me),q=32;q<64;q++)x[q]=k[q];for(T(O,x,S+64),rt(O),q=0;q<64;q++)U[q]=0;for(q=0;q<32;q++)U[q]=z[q];for(q=0;q<32;q++)for(N=0;N<32;N++)U[q+N]+=O[q]*A[N];return xe(x.subarray(32),U),qe}function We(x,E){var S=n(),k=n(),A=n(),O=n(),z=n(),q=n(),N=n();return ce(x[2],a),Ye(x[1],E),Me(A,x[1]),ve(O,A,u),Ce(A,A,x[2]),de(O,x[2],O),Me(z,O),Me(q,z),ve(N,q,z),ve(S,N,A),ve(S,S,O),Ue(S,S),ve(S,S,A),ve(S,S,O),ve(S,S,O),ve(x[0],S,O),Me(k,x[0]),ve(k,k,O),je(k,A)&&ve(x[0],x[0],h),Me(k,x[0]),ve(k,k,O),je(k,A)?-1:(ct(x[0])===E[31]>>7&&Ce(x[0],s,x[0]),ve(x[3],x[0],x[1]),0)}function Ze(x,E,S,k){var A,O=new Uint8Array(32),z=new Uint8Array(64),q=[n(),n(),n(),n()],N=[n(),n(),n(),n()];if(S<64||We(N,k))return-1;for(A=0;A<S;A++)x[A]=E[A];for(A=0;A<32;A++)x[A+32]=k[A];if(T(z,x,S),rt(z),ke(q,N,z),Se(N,E.subarray(32)),D(q,N),le(O,q),S-=64,P(E,0,O,0)){for(A=0;A<S;A++)x[A]=0;return-1}for(A=0;A<S;A++)x[A]=E[A+64];return S}var st=32,Dn=24,bn=32,Ln=16,Ir=32,hn=32,nn=32,gr=32,Zi=32,No=Dn,Js=bn,Qe=Ln,kt=64,Yt=32,vr=64,ht=32,Tr=64;e.lowlevel={crypto_core_hsalsa20:j,crypto_stream_xor:X,crypto_stream:V,crypto_stream_salsa20_xor:K,crypto_stream_salsa20:ae,crypto_onetimeauth:ie,crypto_onetimeauth_verify:$e,crypto_verify_16:_,crypto_verify_32:P,crypto_secretbox:B,crypto_secretbox_open:ee,crypto_scalarmult:ft,crypto_scalarmult_base:Et,crypto_box_beforenm:tn,crypto_box_afternm:$,crypto_box:L,crypto_box_open:se,crypto_box_keypair:Nt,crypto_hash:T,crypto_sign:jt,crypto_sign_keypair:Ae,crypto_sign_open:Ze,crypto_secretbox_KEYBYTES:st,crypto_secretbox_NONCEBYTES:Dn,crypto_secretbox_ZEROBYTES:bn,crypto_secretbox_BOXZEROBYTES:Ln,crypto_scalarmult_BYTES:Ir,crypto_scalarmult_SCALARBYTES:hn,crypto_box_PUBLICKEYBYTES:nn,crypto_box_SECRETKEYBYTES:gr,crypto_box_BEFORENMBYTES:Zi,crypto_box_NONCEBYTES:No,crypto_box_ZEROBYTES:Js,crypto_box_BOXZEROBYTES:Qe,crypto_sign_BYTES:kt,crypto_sign_PUBLICKEYBYTES:Yt,crypto_sign_SECRETKEYBYTES:vr,crypto_sign_SEEDBYTES:ht,crypto_hash_BYTES:Tr,gf:n,D:u,L:_e,pack25519:De,unpack25519:Ye,M:ve,A:de,S:Me,Z:Ce,pow2523:Ue,add:D,set25519:ce,modL:xe,scalarmult:ke,scalarbase:Se};function Xs(x,E){if(x.length!==st)throw new Error("bad key size");if(E.length!==Dn)throw new Error("bad nonce size")}function Ld(x,E){if(x.length!==nn)throw new Error("bad public key size");if(E.length!==gr)throw new Error("bad secret key size")}function Sn(){for(var x=0;x<arguments.length;x++)if(!(arguments[x]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Og(x){for(var E=0;E<x.length;E++)x[E]=0}e.randomBytes=function(x){var E=new Uint8Array(x);return r(E,x),E},e.secretbox=function(x,E,S){Sn(x,E,S),Xs(S,E);for(var k=new Uint8Array(bn+x.length),A=new Uint8Array(k.length),O=0;O<x.length;O++)k[O+bn]=x[O];return B(A,k,k.length,E,S),A.subarray(Ln)},e.secretbox.open=function(x,E,S){Sn(x,E,S),Xs(S,E);for(var k=new Uint8Array(Ln+x.length),A=new Uint8Array(k.length),O=0;O<x.length;O++)k[O+Ln]=x[O];return k.length<32||ee(A,k,k.length,E,S)!==0?null:A.subarray(bn)},e.secretbox.keyLength=st,e.secretbox.nonceLength=Dn,e.secretbox.overheadLength=Ln,e.scalarMult=function(x,E){if(Sn(x,E),x.length!==hn)throw new Error("bad n size");if(E.length!==Ir)throw new Error("bad p size");var S=new Uint8Array(Ir);return ft(S,x,E),S},e.scalarMult.base=function(x){if(Sn(x),x.length!==hn)throw new Error("bad n size");var E=new Uint8Array(Ir);return Et(E,x),E},e.scalarMult.scalarLength=hn,e.scalarMult.groupElementLength=Ir,e.box=function(x,E,S,k){var A=e.box.before(S,k);return e.secretbox(x,E,A)},e.box.before=function(x,E){Sn(x,E),Ld(x,E);var S=new Uint8Array(Zi);return tn(S,x,E),S},e.box.after=e.secretbox,e.box.open=function(x,E,S,k){var A=e.box.before(S,k);return e.secretbox.open(x,E,A)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var x=new Uint8Array(nn),E=new Uint8Array(gr);return Nt(x,E),{publicKey:x,secretKey:E}},e.box.keyPair.fromSecretKey=function(x){if(Sn(x),x.length!==gr)throw new Error("bad secret key size");var E=new Uint8Array(nn);return Et(E,x),{publicKey:E,secretKey:new Uint8Array(x)}},e.box.publicKeyLength=nn,e.box.secretKeyLength=gr,e.box.sharedKeyLength=Zi,e.box.nonceLength=No,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(x,E){if(Sn(x,E),E.length!==vr)throw new Error("bad secret key size");var S=new Uint8Array(kt+x.length);return jt(S,x,x.length,E),S},e.sign.open=function(x,E){if(Sn(x,E),E.length!==Yt)throw new Error("bad public key size");var S=new Uint8Array(x.length),k=Ze(S,x,x.length,E);if(k<0)return null;for(var A=new Uint8Array(k),O=0;O<A.length;O++)A[O]=S[O];return A},e.sign.detached=function(x,E){for(var S=e.sign(x,E),k=new Uint8Array(kt),A=0;A<k.length;A++)k[A]=S[A];return k},e.sign.detached.verify=function(x,E,S){if(Sn(x,E,S),E.length!==kt)throw new Error("bad signature size");if(S.length!==Yt)throw new Error("bad public key size");var k=new Uint8Array(kt+x.length),A=new Uint8Array(kt+x.length),O;for(O=0;O<kt;O++)k[O]=E[O];for(O=0;O<x.length;O++)k[O+kt]=x[O];return Ze(A,k,k.length,S)>=0},e.sign.keyPair=function(){var x=new Uint8Array(Yt),E=new Uint8Array(vr);return Ae(x,E),{publicKey:x,secretKey:E}},e.sign.keyPair.fromSecretKey=function(x){if(Sn(x),x.length!==vr)throw new Error("bad secret key size");for(var E=new Uint8Array(Yt),S=0;S<E.length;S++)E[S]=x[32+S];return{publicKey:E,secretKey:new Uint8Array(x)}},e.sign.keyPair.fromSeed=function(x){if(Sn(x),x.length!==ht)throw new Error("bad seed size");for(var E=new Uint8Array(Yt),S=new Uint8Array(vr),k=0;k<32;k++)S[k]=x[k];return Ae(E,S,!0),{publicKey:E,secretKey:S}},e.sign.publicKeyLength=Yt,e.sign.secretKeyLength=vr,e.sign.seedLength=ht,e.sign.signatureLength=kt,e.hash=function(x){Sn(x);var E=new Uint8Array(Tr);return T(E,x,x.length),E},e.hash.hashLength=Tr,e.verify=function(x,E){return Sn(x,E),x.length===0||E.length===0||x.length!==E.length?!1:w(x,0,E,0,x.length)===0},e.setPRNG=function(x){r=x},function(){var x=typeof globalThis<"u"?globalThis.crypto||globalThis.msCrypto:null;if(x&&x.getRandomValues){var E=65536;e.setPRNG(function(S,k){var A,O=new Uint8Array(k);for(A=0;A<k;A+=E)x.getRandomValues(O.subarray(A,A+Math.min(k-A,E)));for(A=0;A<k;A++)S[A]=O[A];Og(O)})}else typeof require<"u"&&(x=require("crypto"),x&&x.randomBytes&&e.setPRNG(function(S,k){var A,O=x.randomBytes(k);for(A=0;A<k;A++)S[A]=O[A];Og(O)}))}()})(typeof po<"u"&&po.exports?po.exports:globalThis.nacl=globalThis.nacl||{});const cu=typeof po<"u"&&po.exports?po.exports:globalThis.nacl;cu.sign.keyPair.fromSeed,cu.sign.detached,cu.sign.detached.verify,cu.randomBytes;var _0;(function(e){e.InvalidPrefixByte="nkeys: invalid prefix byte",e.InvalidKey="nkeys: invalid key",e.InvalidPublicKey="nkeys: invalid public key",e.InvalidSeedLen="nkeys: invalid seed length",e.InvalidSeed="nkeys: invalid seed",e.InvalidEncoding="nkeys: invalid encoded key",e.InvalidSignature="nkeys: signature verification failed",e.CannotSign="nkeys: cannot sign, no private key available",e.PublicKeyOnly="nkeys: no seed or private key available",e.InvalidChecksum="nkeys: invalid checksum",e.SerializationError="nkeys: serialization error",e.ApiError="nkeys: api error",e.ClearedPair="nkeys: pair is cleared"})(_0||(_0={}));var b0;(function(e){e[e.Seed=144]="Seed",e[e.Private=120]="Private",e[e.Operator=112]="Operator",e[e.Server=104]="Server",e[e.Cluster=16]="Cluster",e[e.Account=0]="Account",e[e.User=160]="User"})(b0||(b0={}));function n2(e){return t=>{let n={};return e.forEach(r=>{const i=r(t)||{};n=Object.assign(n,i)}),n}}function r2(){return()=>{}}function i2(e,t){return()=>{const n=typeof e=="function"?e():e,r=typeof t=="function"?t():t;return{user:n,pass:r}}}function o2(e){return()=>({auth_token:typeof e=="function"?e():e})}const D_=2*60*1e3,s2=2,L_=2*1e3;function a2(){return{maxPingOut:2,maxReconnectAttempts:10,noRandomize:!1,pedantic:!1,pingInterval:D_,reconnect:!0,reconnectJitter:100,reconnectJitterTLS:1e3,reconnectTimeWait:L_,tls:void 0,verbose:!1,waitOnFirstConnect:!1,ignoreAuthErrorAbort:!1}}function l2(e){const t=[];return typeof e.authenticator=="function"&&t.push(e.authenticator),Array.isArray(e.authenticator)&&t.push(...e.authenticator),e.token&&t.push(o2(e.token)),e.user&&t.push(i2(e.user,e.pass)),t.length===0?r2():n2(t)}function u2(e){const t=`${tp}:${I_()}`;if(e=e||{servers:[t]},e.servers=e.servers||[],typeof e.servers=="string"&&(e.servers=[e.servers]),e.servers.length>0&&e.port)throw new ye("port and servers options are mutually exclusive",te.InvalidOption);e.servers.length===0&&e.port&&(e.servers=[`${tp}:${e.port}`]),e.servers&&e.servers.length===0&&(e.servers=[t]);const n=_d(a2(),e);if(n.authenticator=l2(n),["reconnectDelayHandler","authenticator"].forEach(r=>{if(n[r]&&typeof n[r]!="function")throw new ye(`${r} option should be a function`,te.NotFunction)}),n.reconnectDelayHandler||(n.reconnectDelayHandler=()=>{let r=n.tls?n.reconnectJitterTLS:n.reconnectJitter;return r&&(r++,r=Math.floor(Math.random()*r)),n.reconnectTimeWait+r}),n.inboxPrefix)try{Yr(n.inboxPrefix)}catch(r){throw new ye(r.message,te.ApiError)}if(n.resolve&&typeof T_()!="function")throw new ye("'resolve' is not supported on this client",te.InvalidOption);return n}function c2(e,t){const{proto:n,tls_required:r,tls_available:i}=e;if((n===void 0||n<1)&&t.noEcho)throw new ye("noEcho",te.ServerOptionNotAvailable);const o=r||i||!1;if(t.tls&&!o)throw new ye("tls",te.ServerOptionNotAvailable)}const d2=1024*32,f2=/^INFO\s+([^\r\n]+)\r\n/i,h2=Na(`PONG\r
`),S0=Na(`PING\r
`);class p2{constructor(t,n,r){b(this,"echo");b(this,"no_responders");b(this,"protocol");b(this,"verbose");b(this,"pedantic");b(this,"jwt");b(this,"nkey");b(this,"sig");b(this,"user");b(this,"pass");b(this,"auth_token");b(this,"tls_required");b(this,"name");b(this,"lang");b(this,"version");b(this,"headers");this.protocol=1,this.version=t.version,this.lang=t.lang,this.echo=n.noEcho?!1:void 0,this.verbose=n.verbose,this.pedantic=n.pedantic,this.tls_required=n.tls?!0:void 0,this.name=n.name;const i=(n&&typeof n.authenticator=="function"?n.authenticator(r):{})||{};_d(this,i)}}class U_ extends Qt{constructor(n,r,i={}){super();b(this,"sid");b(this,"queue");b(this,"draining");b(this,"max");b(this,"subject");b(this,"drained");b(this,"protocol");b(this,"timer");b(this,"info");b(this,"cleanupFn");b(this,"closed");b(this,"requestSubject");_d(this,i),this.protocol=n,this.subject=r,this.draining=!1,this.noIterator=typeof i.callback=="function",this.closed=yt(),i.timeout&&(this.timer=$s(i.timeout),this.timer.then(()=>{this.timer=void 0}).catch(o=>{this.stop(o),this.noIterator&&this.callback(o,{})})),this.noIterator||this.iterClosed.then(()=>{this.closed.resolve(),this.unsubscribe()})}setPrePostHandlers(n){if(this.noIterator){const r=this.callback,i=n.ingestionFilterFn?n.ingestionFilterFn:()=>({ingest:!0,protocol:!1}),o=n.protocolFilterFn?n.protocolFilterFn:()=>!0,s=n.dispatchedFn?n.dispatchedFn:()=>{};this.callback=(a,l)=>{const{ingest:u}=i(l);u&&o(l)&&(r(a,l),s(l))}}else this.protocolFilterFn=n.protocolFilterFn,this.dispatchedFn=n.dispatchedFn}callback(n,r){this.cancelTimeout(),n?this.stop(n):this.push(r)}close(){if(!this.isClosed()){this.cancelTimeout();const n=()=>{if(this.stop(),this.cleanupFn)try{this.cleanupFn(this,this.info)}catch{}this.closed.resolve()};this.noIterator?n():this.push(n)}}unsubscribe(n){this.protocol.unsubscribe(this,n)}cancelTimeout(){this.timer&&(this.timer.cancel(),this.timer=void 0)}drain(){return this.protocol.isClosed()?Promise.reject(ye.errorForCode(te.ConnectionClosed)):this.isClosed()?Promise.reject(ye.errorForCode(te.SubClosed)):(this.drained||(this.draining=!0,this.protocol.unsub(this),this.drained=this.protocol.flush(yt()).then(()=>{this.protocol.subscriptions.cancel(this)}).catch(()=>{this.protocol.subscriptions.cancel(this)})),this.drained)}isDraining(){return this.draining}isClosed(){return this.done}getSubject(){return this.subject}getMax(){return this.max}getID(){return this.sid}}class m2{constructor(){b(this,"mux");b(this,"subs");b(this,"sidCounter");this.sidCounter=0,this.mux=null,this.subs=new Map}size(){return this.subs.size}add(t){return this.sidCounter++,t.sid=this.sidCounter,this.subs.set(t.sid,t),t}setMux(t){return this.mux=t,t}getMux(){return this.mux}get(t){return this.subs.get(t)}resub(t){return this.sidCounter++,this.subs.delete(t.sid),t.sid=this.sidCounter,this.subs.set(t.sid,t),t}all(){return Array.from(this.subs.values())}cancel(t){t&&(t.close(),this.subs.delete(t.sid))}handleError(t){if(t&&t.permissionContext){const n=t.permissionContext,r=this.all();let i;if(n.operation==="subscription"&&(i=r.find(o=>o.subject===n.subject)),n.operation==="publish"&&(i=r.find(o=>o.requestSubject===n.subject)),i)return i.callback(t,{}),i.close(),this.subs.delete(i.sid),i!==this.mux}return!1}close(){this.subs.forEach(t=>{t.close()})}}class Ec{constructor(t,n){b(this,"connected");b(this,"connectedOnce");b(this,"infoReceived");b(this,"info");b(this,"muxSubscriptions");b(this,"options");b(this,"outbound");b(this,"pongs");b(this,"subscriptions");b(this,"transport");b(this,"noMorePublishing");b(this,"connectError");b(this,"publisher");b(this,"_closed");b(this,"closed");b(this,"listeners");b(this,"heartbeats");b(this,"parser");b(this,"outMsgs");b(this,"inMsgs");b(this,"outBytes");b(this,"inBytes");b(this,"pendingLimit");b(this,"lastError");b(this,"abortReconnect");b(this,"servers");b(this,"server");b(this,"features");b(this,"connectPromise");this._closed=!1,this.connected=!1,this.connectedOnce=!1,this.infoReceived=!1,this.noMorePublishing=!1,this.abortReconnect=!1,this.listeners=[],this.pendingLimit=d2,this.outMsgs=0,this.inMsgs=0,this.outBytes=0,this.inBytes=0,this.options=t,this.publisher=n,this.subscriptions=new m2,this.muxSubscriptions=new ZP,this.outbound=new As,this.pongs=[],this.pendingLimit=t.pendingLimit||this.pendingLimit,this.features=new t2({major:0,minor:0,micro:0}),this.connectPromise=null;const r=typeof t.servers=="string"?[t.servers]:t.servers;this.servers=new KP(r,{randomize:!t.noRandomize}),this.closed=yt(),this.parser=new x0(this),this.heartbeats=new JP(this,this.options.pingInterval||D_,this.options.maxPingOut||s2)}resetOutbound(){this.outbound.reset();const t=this.pongs;this.pongs=[];const n=ye.errorForCode(te.Disconnect);n.stack="",t.forEach(r=>{r.reject(n)}),this.parser=new x0(this),this.infoReceived=!1}dispatchStatus(t){this.listeners.forEach(n=>{n.push(t)})}status(){const t=new Qt;return this.listeners.push(t),t}prepare(){this.transport&&this.transport.discard(),this.info=void 0,this.resetOutbound();const t=yt();return t.catch(()=>{}),this.pongs.unshift(t),this.connectError=n=>{t.reject(n)},this.transport=MP(),this.transport.closed().then(async n=>{if(this.connected=!1,!this.isClosed()){await this.disconnected(this.transport.closeError||this.lastError);return}}),t}disconnect(){this.dispatchStatus({type:cl.StaleConnection,data:""}),this.transport.disconnect()}async disconnected(t){this.dispatchStatus({type:Br.Disconnect,data:this.servers.getCurrentServer().toString()}),this.options.reconnect?await this.dialLoop().then(()=>{var n;this.dispatchStatus({type:Br.Reconnect,data:this.servers.getCurrentServer().toString()}),((n=this.lastError)==null?void 0:n.code)===te.AuthenticationExpired&&(this.lastError=void 0)}).catch(n=>{this._close(n)}):await this._close(t)}async dial(t){const n=this.prepare();let r;try{r=$s(this.options.timeout||2e4);const i=this.transport.connect(t,this.options);await Promise.race([i,r]),(async()=>{try{for await(const o of this.transport)this.parser.parse(o)}catch(o){console.log("reader closed",o)}})().then()}catch(i){n.reject(i)}try{await Promise.race([r,n]),r&&r.cancel(),this.connected=!0,this.connectError=void 0,this.sendSubscriptions(),this.connectedOnce=!0,this.server.didConnect=!0,this.server.reconnects=0,this.flushPending(),this.heartbeats.start()}catch(i){throw r&&r.cancel(),await this.transport.close(i),i}}async _doDial(t){const n=await t.resolve({fn:T_(),debug:this.options.debug,randomize:!this.options.noRandomize});let r=null;for(const i of n)try{r=null,this.dispatchStatus({type:cl.Reconnecting,data:i.toString()}),await this.dial(i);return}catch(o){r=o}throw r}dialLoop(){return this.connectPromise===null&&(this.connectPromise=this.dodialLoop(),this.connectPromise.then(()=>{}).catch(()=>{}).finally(()=>{this.connectPromise=null})),this.connectPromise}async dodialLoop(){let t;for(;;){this._closed&&this.servers.clear();const n=this.options.reconnectDelayHandler?this.options.reconnectDelayHandler():L_;let r=n;const i=this.selectServer();if(!i||this.abortReconnect)throw t||(this.lastError?this.lastError:ye.errorForCode(te.ConnectionRefused));const o=Date.now();if(i.lastConnect===0||i.lastConnect+n<=o){i.lastConnect=Date.now();try{await this._doDial(i);break}catch(s){if(t=s,!this.connectedOnce){if(this.options.waitOnFirstConnect)continue;this.servers.removeCurrentServer()}i.reconnects++;const a=this.options.maxReconnectAttempts||0;a!==-1&&i.reconnects>=a&&this.servers.removeCurrentServer()}}else r=Math.min(r,i.lastConnect+n-o),await qm(r)}}static async connect(t,n){const r=new Ec(t,n);return await r.dialLoop(),r}static toError(t){const n=t?t.toLowerCase():"";if(n.indexOf("permissions violation")!==-1){const r=new ye(t,te.PermissionsViolation),i=t.match(/(Publish|Subscription) to "(\S+)"/);return i&&(r.permissionContext={operation:i[1].toLowerCase(),subject:i[2]}),r}else return n.indexOf("authorization violation")!==-1?new ye(t,te.AuthorizationViolation):n.indexOf("user authentication expired")!==-1?new ye(t,te.AuthenticationExpired):n.indexOf("authentication timeout")!==-1?new ye(t,te.AuthenticationTimeout):new ye(t,te.ProtocolError)}processMsg(t,n){if(this.inMsgs++,this.inBytes+=n.length,!this.subscriptions.sidCounter)return;const r=this.subscriptions.get(t.sid);r&&(r.received+=1,r.callback&&r.callback(null,new Wm(t,n,this)),r.max!==void 0&&r.received>=r.max&&r.unsubscribe())}processError(t){const n=f0(t),r=Ec.toError(n),i={type:Br.Error,data:r.code};if(r.isPermissionError()){let o=!1;if(r.permissionContext){i.permissionContext=r.permissionContext;const s=this.subscriptions.getMux();o=(s==null?void 0:s.subject)===r.permissionContext.subject}this.subscriptions.handleError(r),this.muxSubscriptions.handleError(o,r),o&&this.subscriptions.setMux(null)}this.dispatchStatus(i),this.handleError(r)}handleError(t){t.isAuthError()?this.handleAuthError(t):t.isProtocolError()?this.lastError=t:t.isAuthTimeout()&&(this.lastError=t),t.isPermissionError()||(this.lastError=t)}handleAuthError(t){this.lastError&&t.code===this.lastError.code&&this.options.ignoreAuthErrorAbort===!1&&(this.abortReconnect=!0),this.connectError?this.connectError(t):this.disconnect()}processPing(){this.transport.send(h2)}processPong(){const t=this.pongs.shift();t&&t.resolve()}processInfo(t){const n=JSON.parse(f0(t));this.info=n;const r=this.options&&this.options.ignoreClusterUpdates?void 0:this.servers.update(n);if(!this.infoReceived){this.features.update(fo(n.version)),this.infoReceived=!0,this.transport.isEncrypted()&&this.servers.updateTLSName();const{version:o,lang:s}=this.transport;try{const a=new p2({version:o,lang:s},this.options,n.nonce);n.headers&&(a.headers=!0,a.no_responders=!0);const l=JSON.stringify(a);this.transport.send(Na(`CONNECT ${l}${Nu}`)),this.transport.send(S0)}catch(a){this._close(a)}}r&&this.dispatchStatus({type:Br.Update,data:r}),(n.ldm!==void 0?n.ldm:!1)&&this.dispatchStatus({type:Br.LDM,data:this.servers.getCurrentServer().toString()})}push(t){switch(t.kind){case sn.MSG:{const{msg:n,data:r}=t;this.processMsg(n,r);break}case sn.OK:break;case sn.ERR:this.processError(t.data);break;case sn.PING:this.processPing();break;case sn.PONG:this.processPong();break;case sn.INFO:this.processInfo(t.data);break}}sendCommand(t,...n){const r=this.outbound.length();let i;typeof t=="string"?i=Na(t):i=t,this.outbound.fill(i,...n),r===0?queueMicrotask(()=>{this.flushPending()}):this.outbound.size()>=this.pendingLimit&&this.flushPending()}publish(t,n=Nn,r){let i;if(n instanceof Uint8Array)i=n;else if(typeof n=="string")i=Po.encode(n);else throw ye.errorForCode(te.BadPayload);let o=i.length;r=r||{},r.reply=r.reply||"";let s=Nn,a=0;if(r.headers){if(this.info&&!this.info.headers)throw new ye("headers",te.ServerOptionNotAvailable);s=r.headers.encode(),a=s.length,o=i.length+a}if(this.info&&o>this.info.max_payload)throw ye.errorForCode(te.MaxPayloadExceeded);this.outBytes+=o,this.outMsgs++;let l;r.headers?(r.reply?l=`HPUB ${t} ${r.reply} ${a} ${o}\r
`:l=`HPUB ${t} ${a} ${o}\r
`,this.sendCommand(l,s,i,Cc)):(r.reply?l=`PUB ${t} ${r.reply} ${o}\r
`:l=`PUB ${t} ${o}\r
`,this.sendCommand(l,i,Cc))}request(t){return this.initMux(),this.muxSubscriptions.add(t),t}subscribe(t){return this.subscriptions.add(t),this._subunsub(t),t}_sub(t){t.queue?this.sendCommand(`SUB ${t.subject} ${t.queue} ${t.sid}\r
`):this.sendCommand(`SUB ${t.subject} ${t.sid}\r
`)}_subunsub(t){return this._sub(t),t.max&&this.unsubscribe(t,t.max),t}unsubscribe(t,n){this.unsub(t,n),(t.max===void 0||t.received>=t.max)&&this.subscriptions.cancel(t)}unsub(t,n){!t||this.isClosed()||(n?this.sendCommand(`UNSUB ${t.sid} ${n}\r
`):this.sendCommand(`UNSUB ${t.sid}\r
`),t.max=n)}resub(t,n){!t||this.isClosed()||(t.subject=n,this.subscriptions.resub(t),this._sub(t))}flush(t){return t||(t=yt()),this.pongs.push(t),this.outbound.fill(S0),this.flushPending(),t}sendSubscriptions(){const t=[];this.subscriptions.all().forEach(n=>{const r=n;r.queue?t.push(`SUB ${r.subject} ${r.queue} ${r.sid}${Nu}`):t.push(`SUB ${r.subject} ${r.sid}${Nu}`)}),t.length&&this.transport.send(Na(t.join("")))}async _close(t){this._closed||(this.heartbeats.cancel(),this.connectError&&(this.connectError(t),this.connectError=void 0),this.muxSubscriptions.close(),this.subscriptions.close(),this.listeners.forEach(n=>{n.stop()}),this._closed=!0,await this.transport.close(t),await this.closed.resolve(t))}close(){return this._close()}isClosed(){return this._closed}drain(){const t=this.subscriptions.all(),n=[];return t.forEach(r=>{n.push(r.drain())}),Promise.all(n).then(async()=>(this.noMorePublishing=!0,await this.flush(),this.close())).catch(()=>{})}flushPending(){if(!(!this.infoReceived||!this.connected)&&this.outbound.size()){const t=this.outbound.drain();this.transport.send(t)}}initMux(){if(!this.subscriptions.getMux()){const n=this.muxSubscriptions.init(this.options.inboxPrefix),r=new U_(this,`${n}*`);r.callback=this.muxSubscriptions.dispatcher(),this.subscriptions.setMux(r),this.subscribe(r)}}selectServer(){const t=this.servers.selectServer();if(t!==void 0)return this.server=t,this.server}getServer(){return this.server}}class V_{constructor(t,n){b(this,"token");b(this,"received");b(this,"ctx");b(this,"requestSubject");b(this,"mux");this.mux=t,this.requestSubject=n,this.received=0,this.token=Al.next(),this.ctx=new Error}}class g2 extends V_{constructor(n,r,i={maxWait:1e3}){super(n,r);b(this,"callback");b(this,"done");b(this,"timer");b(this,"max");b(this,"opts");if(this.opts=i,typeof this.opts.callback!="function")throw new Error("callback is required");this.callback=this.opts.callback,this.max=typeof i.maxMessages=="number"&&i.maxMessages>0?i.maxMessages:-1,this.done=yt(),this.done.then(()=>{this.callback(null,null)}),this.timer=setTimeout(()=>{this.cancel()},i.maxWait)}cancel(n){n&&this.callback(n,null),clearTimeout(this.timer),this.mux.cancel(this),this.done.resolve()}resolver(n,r){n?(n.stack+=`

${this.ctx.stack}`,this.cancel(n)):(this.callback(null,r),this.opts.strategy===Cr.Count&&(this.max--,this.max===0&&this.cancel()),this.opts.strategy===Cr.JitterTimer&&(clearTimeout(this.timer),this.timer=setTimeout(()=>{this.cancel()},this.opts.jitter||300)),this.opts.strategy===Cr.SentinelMsg&&r&&r.data.length===0&&this.cancel())}}class z_ extends V_{constructor(n,r,i={timeout:1e3}){super(n,r);b(this,"deferred");b(this,"timer");this.deferred=yt(),this.timer=$s(i.timeout)}resolver(n,r){this.timer&&this.timer.cancel(),n?(n.stack+=`

${this.ctx.stack}`,this.deferred.reject(n)):this.deferred.resolve(r),this.cancel()}cancel(n){this.timer&&this.timer.cancel(),this.mux.cancel(this),this.deferred.reject(n||ye.errorForCode(te.Cancelled))}}function ps(e){return Gm("durable",e)}function pn(e){return Gm("stream",e)}function Gm(e,t=""){if(t==="")throw Error(`${e} name required`);return[".","*",">","/","\\"," ","	",`
`,"\r"].forEach(r=>{if(t.indexOf(r)!==-1){switch(r){case`
`:r="\\n";break;case"\r":r="\\r";break;case"	":r="\\t";break}throw Error(`invalid ${e} name - ${e} name cannot contain '${r}'`)}}),""}function Sa(e,t=""){if(t==="")throw Error(`${e} name required`);const n=v2(t);if(n.length)throw new Error(`invalid ${e} name - ${e} name ${n}`)}function v2(e=""){if(e==="")throw Error("name required");const t=/^[-\w]+$/g;if(e.match(t)===null){for(const r of e.split(""))if(r.match(t)===null)return`cannot contain '${r}'`}return""}function vt(e){return e*1e6}function Km(e){return Math.floor(e/1e6)}function op(e){if(e.data.length>0)return!1;const t=e.headers;return t?t.code>=100&&t.code<200:!1}function sp(e){var t;return op(e)&&((t=e.headers)==null?void 0:t.description)==="Idle Heartbeat"}function y2(e,t,n){const r=ei(e,t),i={hdr:1,sid:0,size:0},o=new Wm(i,Nn,{});return o._headers=r,o._subject=n,o}function ms(e){if(e.data.length!==0)return null;const t=e.headers;return t?B_(t.code,t.description):null}var Hn;(function(e){e.MaxBatchExceeded="exceeded maxrequestbatch of",e.MaxExpiresExceeded="exceeded maxrequestexpires of",e.MaxBytesExceeded="exceeded maxrequestmaxbytes of",e.MaxMessageSizeExceeded="message size exceeds maxbytes",e.PushConsumer="consumer is push based",e.MaxWaitingExceeded="exceeded maxwaiting",e.IdleHeartbeatMissed="idle heartbeats missed",e.ConsumerDeleted="consumer deleted"})(Hn||(Hn={}));function w2(e){return e.code!==te.JetStream409?!1:[Hn.MaxBatchExceeded,Hn.MaxExpiresExceeded,Hn.MaxBytesExceeded,Hn.MaxMessageSizeExceeded,Hn.PushConsumer,Hn.IdleHeartbeatMissed,Hn.ConsumerDeleted].find(n=>e.message.indexOf(n)!==-1)!==void 0}function B_(e,t=""){if(e<300)return null;switch(t=t.toLowerCase(),e){case 404:return new ye(t,te.JetStream404NoMessages);case 408:return new ye(t,te.JetStream408RequestTimeout);case 409:{const n=t.startsWith(Hn.IdleHeartbeatMissed)?te.JetStreamIdleHeartBeat:te.JetStream409;return new ye(t,n)}case 503:return ye.errorForCode(te.JetStreamNotEnabled,new Error(t));default:return t===""&&(t=te.Unknown),new ye(t,`${e}`)}}const x2="$JS.API";function _2(e){return e=e||{},e.domain&&(e.apiPrefix=`$JS.${e.domain}.API`,delete e.domain),_d({apiPrefix:x2,timeout:5e3},e)}class Ol{constructor(t,n){b(this,"nc");b(this,"opts");b(this,"prefix");b(this,"timeout");b(this,"jc");this.nc=t,this.opts=_2(n),this._parseOpts(),this.prefix=this.opts.apiPrefix,this.timeout=this.opts.timeout,this.jc=dr()}getOptions(){return Object.assign({},this.opts)}_parseOpts(){let t=this.opts.apiPrefix;if(!t||t.length===0)throw new Error("invalid empty prefix");t[t.length-1]==="."&&(t=t.substr(0,t.length-1)),this.opts.apiPrefix=t}async _request(t,n=null,r){r=r||{},r.timeout=this.timeout;let i=Nn;n&&(i=this.jc.encode(n));const o=await this.nc.request(t,i,r);return this.parseJsResponse(o)}async findStream(t){const n={subject:t},i=await this._request(`${this.prefix}.STREAM.NAMES`,n);if(!i.streams||i.streams.length!==1)throw new Error("no stream matches subject");return i.streams[0]}getConnection(){return this.nc}parseJsResponse(t){const n=this.jc.decode(t.data),r=n;if(r.error){const i=B_(r.error.code,r.error.description);if(i!==null)throw i.api_error=r.error,i}return n}}class b2{static encode(t){if(typeof t=="string")return btoa(t);const n=Array.from(t);return btoa(String.fromCharCode(...n))}static decode(t,n=!1){const r=atob(t);return n?Uint8Array.from(r,i=>i.charCodeAt(0)):r}}class Da{static encode(t){return Da.toB64URLEncoding(b2.encode(t))}static decode(t,n=!1){return Da.decode(Da.fromB64URLEncoding(t),n)}static toB64URLEncoding(t){return t.replace(/\+/g,"-").replace(/\//g,"_")}static fromB64URLEncoding(t){return t.replace(/_/g,"/").replace(/-/g,"+")}}var ap;(function(e){e.Limits="limits",e.Interest="interest",e.Workqueue="workqueue"})(ap||(ap={}));var dl;(function(e){e.Old="old",e.New="new"})(dl||(dl={}));var lp;(function(e){e.File="file",e.Memory="memory"})(lp||(lp={}));var $t;(function(e){e.All="all",e.Last="last",e.New="new",e.StartSequence="by_start_sequence",e.StartTime="by_start_time",e.LastPerSubject="last_per_subject"})($t||($t={}));var Vt;(function(e){e.None="none",e.All="all",e.Explicit="explicit",e.NotSet=""})(Vt||(Vt={}));var Os;(function(e){e.Instant="instant",e.Original="original"})(Os||(Os={}));var C0;(function(e){e.None="none",e.S2="s2"})(C0||(C0={}));var kc;(function(e){e.CreateOrUpdate="",e.Update="update",e.Create="create"})(kc||(kc={}));function S2(e,t={}){return Object.assign({name:e,deliver_policy:$t.All,ack_policy:Vt.Explicit,ack_wait:vt(30*1e3),replay_policy:Os.Instant},t)}var E0;(function(e){e.API="api_audit",e.StreamAction="stream_action",e.ConsumerAction="consumer_action",e.SnapshotCreate="snapshot_create",e.SnapshotComplete="snapshot_complete",e.RestoreCreate="restore_create",e.RestoreComplete="restore_complete",e.MaxDeliver="max_deliver",e.Terminated="terminated",e.Ack="consumer_ack",e.StreamLeaderElected="stream_leader_elected",e.StreamQuorumLost="stream_quorum_lost",e.ConsumerLeaderElected="consumer_leader_elected",e.ConsumerQuorumLost="consumer_quorum_lost"})(E0||(E0={}));var ln;(function(e){e.StreamSourceHdr="Nats-Stream-Source",e.LastConsumerSeqHdr="Nats-Last-Consumer",e.LastStreamSeqHdr="Nats-Last-Stream",e.ConsumerStalledHdr="Nats-Consumer-Stalled",e.MessageSizeHdr="Nats-Msg-Size",e.RollupHdr="Nats-Rollup",e.RollupValueSubject="sub",e.RollupValueAll="all",e.PendingMessagesHdr="Nats-Pending-Messages",e.PendingBytesHdr="Nats-Pending-Bytes"})(ln||(ln={}));var rr;(function(e){e.LastValue="",e.AllHistory="history",e.UpdatesOnly="updates"})(rr||(rr={}));var os;(function(e){e.Stream="Nats-Stream",e.Sequence="Nats-Sequence",e.TimeStamp="Nats-Time-Stamp",e.Subject="Nats-Subject"})(os||(os={}));var k0;(function(e){e.Stream="Nats-Stream",e.Subject="Nats-Subject",e.Sequence="Nats-Sequence",e.LastSequence="Nats-Last-Sequence",e.Size="Nats-Msg-Size"})(k0||(k0={}));const Vn="KV_";class C2{constructor(t){b(this,"config");b(this,"ordered");b(this,"mack");b(this,"stream");b(this,"callbackFn");b(this,"max");b(this,"qname");b(this,"isBind");b(this,"filters");this.stream="",this.mack=!1,this.ordered=!1,this.config=S2("",t||{})}getOpts(){var n;const t={};if(t.config=Object.assign({},this.config),t.config.filter_subject&&(this.filterSubject(t.config.filter_subject),t.config.filter_subject=void 0),t.config.filter_subjects&&((n=t.config.filter_subjects)==null||n.forEach(r=>{this.filterSubject(r)}),t.config.filter_subjects=void 0),t.mack=this.mack,t.stream=this.stream,t.callbackFn=this.callbackFn,t.max=this.max,t.queue=this.qname,t.ordered=this.ordered,t.config.ack_policy=t.ordered?Vt.None:t.config.ack_policy,t.isBind=t.isBind||!1,this.filters)switch(this.filters.length){case 0:break;case 1:t.config.filter_subject=this.filters[0];break;default:t.config.filter_subjects=this.filters}return t}description(t){return this.config.description=t,this}deliverTo(t){return this.config.deliver_subject=t,this}durable(t){return ps(t),this.config.durable_name=t,this}startSequence(t){if(t<=0)throw new Error("sequence must be greater than 0");return this.config.deliver_policy=$t.StartSequence,this.config.opt_start_seq=t,this}startTime(t){return this.config.deliver_policy=$t.StartTime,this.config.opt_start_time=t.toISOString(),this}deliverAll(){return this.config.deliver_policy=$t.All,this}deliverLastPerSubject(){return this.config.deliver_policy=$t.LastPerSubject,this}deliverLast(){return this.config.deliver_policy=$t.Last,this}deliverNew(){return this.config.deliver_policy=$t.New,this}startAtTimeDelta(t){return this.startTime(new Date(Date.now()-t)),this}headersOnly(){return this.config.headers_only=!0,this}ackNone(){return this.config.ack_policy=Vt.None,this}ackAll(){return this.config.ack_policy=Vt.All,this}ackExplicit(){return this.config.ack_policy=Vt.Explicit,this}ackWait(t){return this.config.ack_wait=vt(t),this}maxDeliver(t){return this.config.max_deliver=t,this}filterSubject(t){return this.filters=this.filters||[],this.filters.push(t),this}replayInstantly(){return this.config.replay_policy=Os.Instant,this}replayOriginal(){return this.config.replay_policy=Os.Original,this}sample(t){if(t=Math.trunc(t),t<0||t>100)throw new Error("value must be between 0-100");return this.config.sample_freq=`${t}%`,this}limit(t){return this.config.rate_limit_bps=t,this}maxWaiting(t){return this.config.max_waiting=t,this}maxAckPending(t){return this.config.max_ack_pending=t,this}idleHeartbeat(t){return this.config.idle_heartbeat=vt(t),this}flowControl(){return this.config.flow_control=!0,this}deliverGroup(t){return this.queue(t),this}manualAck(){return this.mack=!0,this}maxMessages(t){return this.max=t,this}callback(t){return this.callbackFn=t,this}queue(t){return this.qname=t,this.config.deliver_group=t,this}orderedConsumer(){return this.ordered=!0,this}bind(t,n){return this.stream=t,this.config.durable_name=n,this.isBind=!0,this}bindStream(t){return this.stream=t,this}inactiveEphemeralThreshold(t){return this.config.inactive_threshold=vt(t),this}maxPullBatch(t){return this.config.max_batch=t,this}maxPullRequestExpires(t){return this.config.max_expires=vt(t),this}memory(){return this.config.mem_storage=!0,this}numReplicas(t){return this.config.num_replicas=t,this}}function Ti(e){return new C2(e)}function R0(e){return typeof e.getOpts=="function"}function P0(e){const t=e.length;let n=e.indexOf("=");n===-1&&(n=t);const r=n===t?0:4-n%4;return[n,r]}function E2(e,t,n=!1){function r(s,a){return Math.floor((s+a)*3/4-a)}function i(s){return e[s>>18&63]+e[s>>12&63]+e[s>>6&63]+e[s&63]}function o(s,a,l){const u=new Array((l-a)/3);for(let c=a,d=0;c<l;c+=3)u[d++]=i((s[c]<<16)+(s[c+1]<<8)+s[c+2]);return u.join("")}return{byteLength(s){return r.apply(null,P0(s))},toUint8Array(s){const[a,l]=P0(s),u=new Uint8Array(r(a,l)),c=l?a-4:a;let d,f=0,h;for(h=0;h<c;h+=4)d=t[s.charCodeAt(h)]<<18|t[s.charCodeAt(h+1)]<<12|t[s.charCodeAt(h+2)]<<6|t[s.charCodeAt(h+3)],u[f++]=d>>16&255,u[f++]=d>>8&255,u[f++]=d&255;return l===2?(d=t[s.charCodeAt(h)]<<2|t[s.charCodeAt(h+1)]>>4,u[f++]=d&255):l===1&&(d=t[s.charCodeAt(h)]<<10|t[s.charCodeAt(h+1)]<<4|t[s.charCodeAt(h+2)]>>2,u[f++]=d>>8&255,u[f++]=d&255),u},fromUint8Array(s){const l=s.length,u=l%3,c=l-u,d=new Array(Math.ceil(c/16383)+(u?1:0));let f=0,h;for(let g=0;g<c;g+=16383)h=g+16383,d[f++]=o(s,g,h>c?c:h);let m;return u===1?(m=s[c],d[f]=e[m>>2]+e[m<<4&63],n||(d[f]+="==")):u===2&&(m=s[c]<<8|s[c+1]&255,d[f]=e[m>>10]+e[m>>4&63]+e[m<<2&63],n||(d[f]+="=")),d.join("")}}}const H_=[],q_=[],$f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let e=0,t=$f.length;e<t;++e)H_[e]=$f[e],q_[$f.charCodeAt(e)]=e;const{byteLength:z3,toUint8Array:k2,fromUint8Array:R2}=E2(H_,q_,!0),P2=new TextDecoder,$2=new TextEncoder;function A2(e){return e.reduce((t,n)=>`${t}${n<16?"0":""}${n.toString(16)}`,"")}function O2(e){const t=e.length;if(t%2||!/^[0-9a-fA-F]+$/.test(e))throw new TypeError("Invalid hex string.");e=e.toLowerCase();const n=new Uint8Array(Math.floor(t/2)),r=t/2;for(let i=0;i<r;++i)n[i]=parseInt(e.substr(i*2,2),16);return n}function M2(e,t="utf8"){if(/^utf-?8$/i.test(t))return P2.decode(e);if(/^base64$/i.test(t))return R2(e);if(/^hex(?:adecimal)?$/i.test(t))return A2(e);throw new TypeError("Unsupported string encoding.")}function I2(e,t="utf8"){if(/^utf-?8$/i.test(t))return $2.encode(e);if(/^base64$/i.test(t))return k2(e);if(/^hex(?:adecimal)?$/i.test(t))return O2(e);throw new TypeError("Unsupported string encoding.")}class $0{constructor(){b(this,"hashSize",32);b(this,"_buf");b(this,"_bufIdx");b(this,"_count");b(this,"_K");b(this,"_H");b(this,"_finalized");this._buf=new Uint8Array(64),this._K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),this.init()}init(){return this._H=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),this._bufIdx=0,this._count=new Uint32Array(2),this._buf.fill(0),this._finalized=!1,this}update(t,n){if(t===null)throw new TypeError("msg must be a string or Uint8Array.");typeof t=="string"&&(t=I2(t,n));for(let i=0,o=t.length;i<o;i++)this._buf[this._bufIdx++]=t[i],this._bufIdx===64&&(this._transform(),this._bufIdx=0);const r=this._count;return(r[0]+=t.length<<3)<t.length<<3&&r[1]++,r[1]+=t.length>>>29,this}digest(t){if(this._finalized)throw new Error("digest has already been called.");this._finalized=!0;const n=this._buf;let r=this._bufIdx;for(n[r++]=128;r!==56;)r===64&&(this._transform(),r=0),n[r++]=0;const i=this._count;n[56]=i[1]>>>24&255,n[57]=i[1]>>>16&255,n[58]=i[1]>>>8&255,n[59]=i[1]>>>0&255,n[60]=i[0]>>>24&255,n[61]=i[0]>>>16&255,n[62]=i[0]>>>8&255,n[63]=i[0]>>>0&255,this._transform();const o=new Uint8Array(32);for(let s=0;s<8;s++)o[(s<<2)+0]=this._H[s]>>>24&255,o[(s<<2)+1]=this._H[s]>>>16&255,o[(s<<2)+2]=this._H[s]>>>8&255,o[(s<<2)+3]=this._H[s]>>>0&255;return this.init(),t?M2(o,t):o}_transform(){const t=this._H;let n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=t[6],u=t[7];const c=new Uint32Array(16);let d;for(d=0;d<16;d++)c[d]=this._buf[(d<<2)+3]|this._buf[(d<<2)+2]<<8|this._buf[(d<<2)+1]<<16|this._buf[d<<2]<<24;for(d=0;d<64;d++){let f;if(d<16)f=c[d];else{let h=c[d+1&15],m=c[d+14&15];f=c[d&15]=(h>>>7^h>>>18^h>>>3^h<<25^h<<14)+(m>>>17^m>>>19^m>>>10^m<<15^m<<13)+c[d&15]+c[d+9&15]|0}f=f+u+(s>>>6^s>>>11^s>>>25^s<<26^s<<21^s<<7)+(l^s&(a^l))+this._K[d]|0,u=l,l=a,a=s,s=o+f,o=i,i=r,r=n,n=f+(r&i^o&(r^i))+(r>>>2^r>>>13^r>>>22^r<<30^r<<19^r<<10)|0}t[0]=t[0]+n|0,t[1]=t[1]+r|0,t[2]=t[2]+i|0,t[3]=t[3]+o|0,t[4]=t[4]+s|0,t[5]=t[5]+a|0,t[6]=t[6]+l|0,t[7]=t[7]+u|0}}class Ca{constructor(t,n,r,i){b(this,"err");b(this,"offset");b(this,"pageInfo");b(this,"subject");b(this,"jsm");b(this,"filter");b(this,"payload");if(!t)throw new Error("subject is required");this.subject=t,this.jsm=r,this.offset=0,this.pageInfo={},this.filter=n,this.payload=i||{}}async next(){if(this.err)return[];if(this.pageInfo&&this.offset>=this.pageInfo.total)return[];const t={offset:this.offset};this.payload&&Object.assign(t,this.payload);try{const n=await this.jsm._request(this.subject,t,{timeout:this.jsm.timeout});return this.pageInfo=n,this.offset+=this.countResponse(n),this.filter(n)}catch(n){throw this.err=n,n}}countResponse(t){var n;switch(t==null?void 0:t.type){case"io.nats.jetstream.api.v1.stream_names_response":case"io.nats.jetstream.api.v1.stream_list_response":return t.streams.length;case"io.nats.jetstream.api.v1.consumer_list_response":return t.consumers.length;default:return console.error(`jslister.ts: unknown API response for paged output: ${t==null?void 0:t.type}`),((n=t.streams)==null?void 0:n.length)||0}return 0}async*[Symbol.asyncIterator](){let t=await this.next();for(;t.length>0;){for(const n of t)yield n;t=await this.next()}}}class Ym extends Ol{constructor(t,n){super(t,n)}async add(t,n,r=kc.Create){if(pn(t),n.deliver_group&&n.flow_control)throw new Error("jetstream flow control is not supported with queue groups");if(n.deliver_group&&n.idle_heartbeat)throw new Error("jetstream idle heartbeat is not supported with queue groups");const i={};i.config=n,i.stream_name=t,i.action=r,i.config.durable_name&&ps(i.config.durable_name);const o=this.nc;let{min:s,ok:a}=o.features.get(Je.JS_NEW_CONSUMER_CREATE_API);const l=n.name===""?void 0:n.name;if(l&&!a)throw new Error(`consumer 'name' requires server ${s}`);if(l)try{Gm("name",l)}catch(f){const h=f.message,m=h.indexOf("cannot contain");throw m!==-1?new Error(`consumer 'name' ${h.substring(m)}`):f}let u,c="";if(Array.isArray(n.filter_subjects)){const{min:f,ok:h}=o.features.get(Je.JS_MULTIPLE_CONSUMER_FILTER);if(!h)throw new Error(`consumer 'filter_subjects' requires server ${f}`);a=!1}if(n.metadata){const{min:f,ok:h}=o.features.get(Je.JS_STREAM_CONSUMER_METADATA);if(!h)throw new Error(`consumer 'metadata' requires server ${f}`)}if(a&&(c=n.name??n.durable_name??""),c!==""){let f=n.filter_subject??void 0;f===">"&&(f=void 0),u=f!==void 0?`${this.prefix}.CONSUMER.CREATE.${t}.${c}.${f}`:`${this.prefix}.CONSUMER.CREATE.${t}.${c}`}else u=n.durable_name?`${this.prefix}.CONSUMER.DURABLE.CREATE.${t}.${n.durable_name}`:`${this.prefix}.CONSUMER.CREATE.${t}`;return await this._request(u,i)}async update(t,n,r){const i=await this.info(t,n),o=r;return this.add(t,Object.assign(i.config,o),kc.Update)}async info(t,n){return pn(t),ps(n),await this._request(`${this.prefix}.CONSUMER.INFO.${t}.${n}`)}async delete(t,n){return pn(t),ps(n),(await this._request(`${this.prefix}.CONSUMER.DELETE.${t}.${n}`)).success}list(t){pn(t);const n=i=>i.consumers,r=`${this.prefix}.CONSUMER.LIST.${t}`;return new Ca(r,n,this)}}const A0=Uint8Array.of(43,65,67,75),T2=Uint8Array.of(45,78,65,75),fa=Uint8Array.of(43,87,80,73),N2=Uint8Array.of(43,78,88,84),j2=Uint8Array.of(43,84,69,82,77),F2=Uint8Array.of(32);function fl(e){return new L2(e)}function D2(e){const t=e.split(".");if(t.length===9&&t.splice(2,0,"_",""),t.length<11||t[0]!=="$JS"||t[1]!=="ACK")throw new Error("not js message");const n={};return n.domain=t[2]==="_"?"":t[2],n.account_hash=t[3],n.stream=t[4],n.consumer=t[5],n.redeliveryCount=parseInt(t[6],10),n.redelivered=n.redeliveryCount>1,n.streamSequence=parseInt(t[7],10),n.deliverySequence=parseInt(t[8],10),n.timestampNanos=parseInt(t[9],10),n.pending=parseInt(t[10],10),n}class L2{constructor(t){b(this,"msg");b(this,"di");b(this,"didAck");this.msg=t,this.didAck=!1}get subject(){return this.msg.subject}get sid(){return this.msg.sid}get data(){return this.msg.data}get headers(){return this.msg.headers}get info(){return this.di||(this.di=D2(this.reply)),this.di}get redelivered(){return this.info.redeliveryCount>1}get reply(){return this.msg.reply||""}get seq(){return this.info.streamSequence}doAck(t){this.didAck||(this.didAck=!this.isWIP(t),this.msg.respond(t))}isWIP(t){return t.length===4&&t[0]===fa[0]&&t[1]===fa[1]&&t[2]===fa[2]&&t[3]===fa[3]}async ackAck(){if(!this.didAck&&(this.didAck=!0,this.msg.reply)){const n=this.msg.publisher,r=new z_(n.muxSubscriptions,this.msg.reply);n.request(r);try{n.publish(this.msg.reply,A0,{reply:`${n.muxSubscriptions.baseInbox}${r.token}`})}catch(i){r.cancel(i)}try{return await Promise.race([r.timer,r.deferred]),!0}catch(i){r.cancel(i)}}return!1}ack(){this.doAck(A0)}nak(t){let n=T2;t&&(n=YP().encode(`-NAK ${JSON.stringify({delay:vt(t)})}`)),this.doAck(n)}working(){this.doAck(fa)}next(t,n={batch:1}){const r={};r.batch=n.batch||1,r.no_wait=n.no_wait||!1,n.expires&&n.expires>0&&(r.expires=vt(n.expires));const i=dr().encode(r),o=As.concat(N2,F2,i),s=t?{reply:t}:void 0;this.msg.respond(o,s)}term(){this.doAck(j2)}json(){return this.msg.json()}string(){return this.msg.string()}}function Do(e,t,n=!1){if(n===!0&&!e)throw ye.errorForCode(te.ApiError,new Error(`${t} is not a function`));if(e&&typeof e!="function")throw ye.errorForCode(te.ApiError,new Error(`${t} is not a function`))}class U2 extends Qt{constructor(n,r,i){super();b(this,"sub");b(this,"adapter");b(this,"subIterDone");Do(i.adapter,"adapter",!0),this.adapter=i.adapter,i.callback&&Do(i.callback,"callback"),this.noIterator=typeof i.callback=="function",i.ingestionFilterFn&&(Do(i.ingestionFilterFn,"ingestionFilterFn"),this.ingestionFilterFn=i.ingestionFilterFn),i.protocolFilterFn&&(Do(i.protocolFilterFn,"protocolFilterFn"),this.protocolFilterFn=i.protocolFilterFn),i.dispatchedFn&&(Do(i.dispatchedFn,"dispatchedFn"),this.dispatchedFn=i.dispatchedFn),i.cleanupFn&&Do(i.cleanupFn,"cleanupFn");let o=(c,d)=>{this.callback(c,d)};if(i.callback){const c=i.callback;o=(d,f)=>{const[h,m]=this.adapter(d,f);if(h){c(h,null);return}const{ingest:g}=this.ingestionFilterFn?this.ingestionFilterFn(m,this):{ingest:!0};g&&(!this.protocolFilterFn||this.protocolFilterFn(m))&&(c(h,m),this.dispatchedFn&&m&&this.dispatchedFn(m))}}const{max:s,queue:a,timeout:l}=i,u={queue:a,timeout:l,callback:o};s&&s>0&&(u.max=s),this.sub=n.subscribe(r,u),i.cleanupFn&&(this.sub.cleanupFn=i.cleanupFn),this.noIterator||this.iterClosed.then(()=>{this.unsubscribe()}),this.subIterDone=yt(),Promise.all([this.sub.closed,this.iterClosed]).then(()=>{this.subIterDone.resolve()}).catch(()=>{this.subIterDone.resolve()}),(async c=>{await c.closed,this.stop()})(this.sub).then().catch()}unsubscribe(n){this.sub.unsubscribe(n)}drain(){return this.sub.drain()}isDraining(){return this.sub.isDraining()}isClosed(){return this.sub.isClosed()}callback(n,r){this.sub.cancelTimeout();const[i,o]=this.adapter(n,r);i&&this.stop(i),o&&this.push(o)}getSubject(){return this.sub.getSubject()}getReceived(){return this.sub.getReceived()}getProcessed(){return this.sub.getProcessed()}getPending(){return this.sub.getPending()}getID(){return this.sub.getID()}getMax(){return this.sub.getMax()}get closed(){return this.sub.closed}}class Zm{constructor(t,n,r={maxOut:2}){b(this,"interval");b(this,"maxOut");b(this,"cancelAfter");b(this,"timer");b(this,"autoCancelTimer");b(this,"last");b(this,"missed");b(this,"count");b(this,"callback");this.interval=t,this.maxOut=(r==null?void 0:r.maxOut)||2,this.cancelAfter=(r==null?void 0:r.cancelAfter)||0,this.last=Date.now(),this.missed=0,this.count=0,this.callback=n,this._schedule()}cancel(){this.autoCancelTimer&&clearTimeout(this.autoCancelTimer),this.timer&&clearInterval(this.timer),this.timer=0,this.autoCancelTimer=0}work(){this.last=Date.now(),this.missed=0}_change(t,n=0,r=2){this.interval=t,this.maxOut=r,this.cancelAfter=n,this.restart()}restart(){this.cancel(),this._schedule()}_schedule(){this.cancelAfter>0&&(this.autoCancelTimer=setTimeout(()=>{this.cancel()},this.cancelAfter)),this.timer=setInterval(()=>{if(this.count++,Date.now()-this.last>this.interval&&this.missed++,this.missed>=this.maxOut)try{this.callback(this.missed)===!0&&this.cancel()}catch(t){console.log(t)}},this.interval)}}var xr;(function(e){e[e.Unset=-1]="Unset",e[e.Consume=0]="Consume",e[e.Fetch=1]="Fetch"})(xr||(xr={}));var Rc;(function(e){e.HeartbeatsMissed="heartbeats_missed"})(Rc||(Rc={}));var La;(function(e){e.DebugEvent="debug",e.Discard="discard",e.Next="next"})(La||(La={}));class Af extends Qt{constructor(n,r,i=!1){super();b(this,"consumer");b(this,"opts");b(this,"sub");b(this,"monitor");b(this,"pending");b(this,"inbox");b(this,"refilling");b(this,"stack");b(this,"pong");b(this,"callback");b(this,"timeout");b(this,"cleanupHandler");b(this,"listeners");b(this,"statusIterator");this.consumer=n,this.opts=this.parseOptions(r,i),this.callback=r.callback||null,this.noIterator=typeof this.callback=="function",this.monitor=null,this.pong=null,this.pending={msgs:0,bytes:0,requests:0},this.refilling=i,this.stack=new Error().stack.split(`
`).slice(1).join(`
`),this.timeout=null,this.inbox=Yr(n.api.nc.options.inboxPrefix),this.listeners=[];const{max_messages:o,max_bytes:s,idle_heartbeat:a,threshold_bytes:l,threshold_messages:u}=this.opts;this.closed().then(()=>{if(this.cleanupHandler)try{this.cleanupHandler()}catch{}});const{sub:c}=this;c&&c.unsubscribe(),this.sub=n.api.nc.subscribe(this.inbox,{callback:(d,f)=>{var m,g,C,y;if(d){this.stop();return}if((m=this.monitor)==null||m.work(),f.subject===this.inbox){if(sp(f))return;const p=(g=f.headers)==null?void 0:g.code,w=((y=(C=f.headers)==null?void 0:C.description)==null?void 0:y.toLowerCase())||"unknown",{msgsLeft:_,bytesLeft:P}=this.parseDiscard(f.headers);if(_>0||P>0)this.pending.msgs-=_,this.pending.bytes-=P,this.pending.requests--,this.notify(La.Discard,{msgsLeft:_,bytesLeft:P});else{const I=()=>{const M=new ye(w,`${p}`);return M.stack+=`

${this.stack}`,M};if(p===400){const M=I();this._push(()=>{this.stop(M)})}else if(p===409&&w==="consumer deleted"){const M=I();this.stop(M)}else this.notify(La.DebugEvent,`${p} ${w}`)}}else this._push(fl(f)),this.received++,this.pending.msgs&&this.pending.msgs--,this.pending.bytes&&(this.pending.bytes-=f.size());if(this.pending.msgs===0&&this.pending.bytes===0&&(this.pending.requests=0),this.refilling){if(o&&this.pending.msgs<=u||s&&this.pending.bytes<=l){const p=this.pullOptions();this.pull(p)}}else this.pending.requests===0&&this._push(()=>{this.stop()})}}),this.sub.closed.then(()=>{this.sub.draining&&this._push(()=>{this.stop()})}),a&&(this.monitor=new Zm(a,d=>(this.notify(Rc.HeartbeatsMissed,d),this.resetPending().then(()=>{}).catch(()=>{}),!1),{maxOut:2})),(async()=>{var f;const d=n.api.nc.status();this.statusIterator=d;for await(const h of d)switch(h.type){case Br.Disconnect:(f=this.monitor)==null||f.cancel();break;case Br.Reconnect:this.resetPending().then(m=>{var g;m&&((g=this.monitor)==null||g.restart())}).catch(()=>{});break}})(),this.pull(this.pullOptions())}_push(n){if(!this.callback)super.push(n);else{const r=typeof n=="function"?n:null;try{r?r():this.callback(n)}catch(i){this.stop(i)}}}notify(n,r){this.listeners.length>0&&this.listeners.forEach(i=>{i.done||i.push({type:n,data:r})})}resetPending(){return this.consumer.info().then(n=>(this.pending.msgs=0,this.pending.bytes=0,this.pending.requests=0,this.pull(this.pullOptions()),!0)).catch(n=>(n.message==="consumer not found"&&this.stop(n),!1))}pull(n){this.pending.bytes+=n.max_bytes??0,this.pending.msgs+=n.batch??0,this.pending.requests++;const r=this.consumer.api.nc;this._push(()=>{r.publish(`${this.consumer.api.prefix}.CONSUMER.MSG.NEXT.${this.consumer.stream}.${this.consumer.name}`,this.consumer.api.jc.encode(n),{reply:this.inbox}),this.notify(La.Next,n)})}pullOptions(){const n=this.opts.max_messages-this.pending.msgs,r=this.opts.max_bytes-this.pending.bytes,i=vt(this.opts.idle_heartbeat),o=vt(this.opts.expires);return{batch:n,max_bytes:r,idle_heartbeat:i,expires:o}}parseDiscard(n){const r={msgsLeft:0,bytesLeft:0},i=n==null?void 0:n.get(ln.PendingMessagesHdr);i&&(r.msgsLeft=parseInt(i));const o=n==null?void 0:n.get(ln.PendingBytesHdr);return o&&(r.bytesLeft=parseInt(o)),r}trackTimeout(n){this.timeout=n}close(){return this.stop(),this.iterClosed}closed(){return this.iterClosed}clearTimers(){var n,r;(n=this.monitor)==null||n.cancel(),this.monitor=null,(r=this.timeout)==null||r.cancel(),this.timeout=null}setCleanupHandler(n){this.cleanupHandler=n}stop(n){var r,i;(r=this.sub)==null||r.unsubscribe(),this.clearTimers(),(i=this.statusIterator)==null||i.stop(),this._push(()=>{super.stop(n),this.listeners.forEach(o=>{o.stop()})})}parseOptions(n,r=!1){const i=n||{};if(i.max_messages=i.max_messages||0,i.max_bytes=i.max_bytes||0,i.max_messages!==0&&i.max_bytes!==0)throw new Error("only specify one of max_messages or max_bytes");if(i.max_messages===0&&(i.max_messages=100),i.expires=i.expires||3e4,i.expires<1e3)throw new Error("expires should be at least 1000ms");if(i.idle_heartbeat=i.idle_heartbeat||i.expires/2,i.idle_heartbeat=i.idle_heartbeat>3e4?3e4:i.idle_heartbeat,r){const o=Math.round(i.max_messages*.75)||1;i.threshold_messages=i.threshold_messages||o;const s=Math.round(i.max_bytes*.75)||1;i.threshold_bytes=i.threshold_bytes||s}return i}status(){const n=new Qt;return this.listeners.push(n),Promise.resolve(n)}}class O0 extends Qt{constructor(){super();b(this,"src")}setSource(n){this.src&&(this.src.setCleanupHandler(),this.src.stop()),this.src=n,this.src.setCleanupHandler(()=>{this.close().catch()})}stop(n){var r;(r=this.src)==null||r.stop(n),super.stop(n)}close(){return this.stop(),this.iterClosed}status(){return Promise.reject(new Error("ordered consumers don't report consumer status"))}}class W_{constructor(t,n){b(this,"api");b(this,"_info");b(this,"stream");b(this,"name");this.api=t,this._info=n,this.stream=n.stream_name,this.name=n.name}consume(t={max_messages:100,expires:3e4}){return Promise.resolve(new Af(this,t,!0))}fetch(t={max_messages:100,expires:3e4}){const n=new Af(this,t,!1),r=Math.round(n.opts.expires*1.05),i=$s(r);return n.closed().then(()=>{i.cancel()}),i.catch(()=>{n.close().catch()}),n.trackTimeout(i),Promise.resolve(n)}next(t={expires:3e4}){const n=yt(),r=t;r.max_messages=1;const i=new Af(this,r,!1),o=Math.round(i.opts.expires*1.05);o>=6e4&&(async()=>{for await(const a of await i.status())if(a.type===Rc.HeartbeatsMissed&&a.data>=2){n.reject(new Error("consumer missed heartbeats"));break}})().catch(),(async()=>{for await(const a of i){n.resolve(a);break}})().catch();const s=$s(o);return i.closed().then(()=>{n.resolve(null),s.cancel()}).catch(a=>{n.reject(a)}),s.catch(a=>{n.resolve(null),i.close().catch()}),i.trackTimeout(s),n}delete(){const{stream_name:t,name:n}=this._info;return this.api.delete(t,n)}info(t=!1){if(t)return Promise.resolve(this._info);const{stream_name:n,name:r}=this._info;return this.api.info(n,r).then(i=>(this._info=i,this._info))}}class V2{constructor(t,n,r={}){b(this,"api");b(this,"consumerOpts");b(this,"consumer");b(this,"opts");b(this,"cursor");b(this,"stream");b(this,"namePrefix");b(this,"serial");b(this,"currentConsumer");b(this,"userCallback");b(this,"iter");b(this,"type");b(this,"startSeq");this.api=t,this.stream=n,this.cursor={stream_seq:1,deliver_seq:0},this.namePrefix=Al.next(),this.serial=0,this.currentConsumer=null,this.userCallback=null,this.iter=null,this.type=xr.Unset,this.consumerOpts=r,this.startSeq=this.consumerOpts.opt_start_seq||0,this.cursor.stream_seq=this.startSeq>0?this.startSeq-1:0}getConsumerOpts(t){this.serial++;const n=`${this.namePrefix}_${this.serial}`;t=t===0?1:t;const r={name:n,deliver_policy:$t.StartSequence,opt_start_seq:t,ack_policy:Vt.None,inactive_threshold:vt(5*60*1e3),num_replicas:1};return this.consumerOpts.headers_only===!0&&(r.headers_only=!0),Array.isArray(this.consumerOpts.filterSubjects)&&(r.filter_subjects=this.consumerOpts.filterSubjects),typeof this.consumerOpts.filterSubjects=="string"&&(r.filter_subject=this.consumerOpts.filterSubjects),t===this.startSeq+1&&(r.deliver_policy=this.consumerOpts.deliver_policy||$t.StartSequence,(this.consumerOpts.deliver_policy===$t.LastPerSubject||this.consumerOpts.deliver_policy===$t.New||this.consumerOpts.deliver_policy===$t.Last)&&(delete r.opt_start_seq,r.deliver_policy=this.consumerOpts.deliver_policy),r.deliver_policy===$t.LastPerSubject&&typeof r.filter_subjects>"u"&&typeof r.filter_subject>"u"&&(r.filter_subject=">"),this.consumerOpts.opt_start_time&&(delete r.opt_start_seq,r.deliver_policy=$t.StartTime,r.opt_start_time=this.consumerOpts.opt_start_time),this.consumerOpts.inactive_threshold&&(r.inactive_threshold=vt(this.consumerOpts.inactive_threshold))),r}async resetConsumer(t=0){if(this.consumer)for(;;)try{await this.delete();break}catch(i){if(i.message!=="TIMEOUT")throw i}t=t===0?1:t,this.cursor.deliver_seq=0;const n=this.getConsumerOpts(t);n.max_deliver=1,n.mem_storage=!0;let r;for(;;)try{r=await this.api.add(this.stream,n);break}catch(i){if(i.message!=="TIMEOUT")throw i}return r}internalHandler(t){return n=>{var i;if(this.serial!==t)return;const r=n.info.deliverySequence;if(r!==this.cursor.deliver_seq+1){this.reset(this.opts);return}this.cursor.deliver_seq=r,this.cursor.stream_seq=n.info.streamSequence,this.userCallback?this.userCallback(n):(i=this.iter)==null||i.push(n)}}async reset(t={max_messages:100,expires:3e4},n=!1){this.currentConsumer=await this.resetConsumer(this.cursor.stream_seq+1),this.iter===null&&(this.iter=new O0),this.consumer=new W_(this.api,this.currentConsumer);const r=t;r.callback=this.internalHandler(this.serial);let i=null;if(this.type===xr.Fetch&&n)i=await this.consumer.fetch(t);else if(this.type===xr.Consume)i=await this.consumer.consume(t);else return Promise.reject("reset called with unset consumer type");return this.iter.setSource(i),this.iter}consume(t={max_messages:100,expires:3e4}){if(this.type===xr.Fetch)return Promise.reject(new Error("ordered consumer initialized as fetch"));if(this.type===xr.Consume)return Promise.reject(new Error("ordered consumer doesn't support concurrent consume"));const{callback:n}=t;return n&&(this.userCallback=n),this.type=xr.Consume,this.opts=t,this.reset(t)}fetch(t={max_messages:100,expires:3e4}){var r;if(this.type===xr.Consume)return Promise.reject(new Error("ordered consumer already initialized as consume"));if(((r=this.iter)==null?void 0:r.done)===!1)return Promise.reject(new Error("ordered consumer doesn't support concurrent fetch"));const{callback:n}=t;return n&&(this.userCallback=n),this.type=xr.Fetch,this.opts=t,this.iter=new O0,this.reset(t,!0)}async next(t={expires:3e4}){const n=yt(),r=t;return r.max_messages=1,r.callback=o=>{this.userCallback=null,n.resolve(o)},(await this.fetch(r)).iterClosed.then(()=>{n.resolve(null)}).catch(o=>{n.reject(o)}),n}delete(){return this.currentConsumer?this.api.delete(this.stream,this.currentConsumer.name).then(t=>Promise.resolve(t)).catch(t=>Promise.reject(t)).finally(()=>{this.currentConsumer=null}):Promise.resolve(!1)}async info(t){return this.currentConsumer==null?(this.currentConsumer=await this.resetConsumer(this.serial),Promise.resolve(this.currentConsumer)):t&&this.currentConsumer?Promise.resolve(this.currentConsumer):this.api.info(this.stream,this.currentConsumer.name)}}function du(e){if(e===void 0)return;const{domain:t}=e;if(t===void 0)return e;const n=Object.assign({},e);if(delete n.domain,t==="")return n;if(n.external)throw new Error("domain and external are both set");return n.external={api:`$JS.${t}.API`},n}var Hr;const Jm="OBJ_";class G_{constructor(t){b(this,"api");b(this,"notified");this.api=t,this.notified=!1}checkVersion(){const t=this.api.nc.features.get(Je.JS_SIMPLIFICATION);return t.ok?Promise.resolve():Promise.reject(new Error(`consumers framework is only supported on servers ${t.min} or better`))}async get(t,n={}){return typeof n=="object"?this.ordered(t,n):(await this.checkVersion(),this.api.info(t,n).then(r=>r.config.deliver_subject!==void 0?Promise.reject(new Error("push consumer not supported")):new W_(this.api,r)).catch(r=>Promise.reject(r)))}async ordered(t,n){await this.checkVersion();const r=this.api;return new Xm(r.nc,r.opts).info(t).then(o=>Promise.resolve(new V2(this.api,t,n))).catch(o=>Promise.reject(o))}}class bd{constructor(t,n){b(this,"api");b(this,"_info");this.api=t,this._info=n}get name(){return this._info.config.name}alternates(){return this.info().then(t=>t.alternates?t.alternates:[])}async best(){if(await this.info(),this._info.alternates){const t=await this.api.info(this._info.alternates[0].name);return new bd(this.api,t)}else return this}info(t=!1,n){return t?Promise.resolve(this._info):this.api.info(this.name,n).then(r=>(this._info=r,this._info))}getConsumer(t){return new G_(new Ym(this.api.nc,this.api.opts)).get(this.name,t)}getMessage(t){return this.api.getMessage(this.name,t)}deleteMessage(t,n){return this.api.deleteMessage(this.name,t,n)}}function K_(){return{key:{encode(e){return e},decode(e){return e}},value:{encode(e){return e},decode(e){return e}}}}function z2(){return{replicas:1,history:1,timeout:2e3,maxBucketSize:-1,maxValueSize:-1,codec:K_(),storage:lp.File}}const Pc="KV-Operation",M0="$KV",B2=/^[-/=.\w]+$/,H2=/^[-/=.>*\w]+$/,q2=/^[-\w]+$/;function W2(e){if(e.startsWith(".")||e.endsWith(".")||!B2.test(e))throw new Error(`invalid key: ${e}`)}function G2(e){if(e.startsWith(".")||e.endsWith(".")||!H2.test(e))throw new Error(`invalid key: ${e}`)}function K2(e){if(e.startsWith(".")||e.endsWith("."))throw new Error(`invalid key: ${e}`);const t=e.split(".");let n=!1;for(let r=0;r<t.length;r++)switch(t[r]){case"*":n=!0;break;case">":if(r!==t.length-1)throw new Error(`invalid key: ${e}`);n=!0;break}return n}function ju(e){if(!q2.test(e))throw new Error(`invalid bucket name: ${e}`)}(function(e){e.MsgIdHdr="Nats-Msg-Id",e.ExpectedStreamHdr="Nats-Expected-Stream",e.ExpectedLastSeqHdr="Nats-Expected-Last-Sequence",e.ExpectedLastMsgIdHdr="Nats-Expected-Last-Msg-Id",e.ExpectedLastSubjectSequenceHdr="Nats-Expected-Last-Subject-Sequence"})(Hr||(Hr={}));class hl{constructor(t,n,r){b(this,"js");b(this,"jsm");b(this,"stream");b(this,"bucket");b(this,"direct");b(this,"codec");b(this,"prefix");b(this,"editPrefix");b(this,"useJsPrefix");b(this,"_prefixLen");b(this,"validateKey",W2);b(this,"validateSearchKey",G2);b(this,"hasWildcards",K2);ju(t),this.js=n,this.jsm=r,this.bucket=t,this.prefix=M0,this.editPrefix="",this.useJsPrefix=!1,this._prefixLen=0}static async create(t,n,r={}){ju(n);const i=await t.jetstreamManager(),o=new hl(n,t,i);return await o.init(r),o}static async bind(t,n,r={}){const i=await t.jetstreamManager(),o=await i.streams.info(`${Vn}${n}`);ju(o.config.name);const s=new hl(n,t,i);return Object.assign(s,o),s.codec=r.codec||K_(),s.direct=o.config.allow_direct??!1,s.initializePrefixes(o),s}async init(t={}){const n=Object.assign(z2(),t);this.codec=n.codec;const r={};this.stream=r.name=t.streamName??this.bucketName(),r.retention=ap.Limits,r.max_msgs_per_subject=n.history,n.maxBucketSize&&(n.max_bytes=n.maxBucketSize),n.max_bytes&&(r.max_bytes=n.max_bytes),r.max_msg_size=n.maxValueSize,r.storage=n.storage;const i=t.placementCluster??"";if(i&&(t.placement={},t.placement.cluster=i,t.placement.tags=[]),t.placement&&(r.placement=t.placement),t.republish&&(r.republish=t.republish),t.description&&(r.description=t.description),t.mirror){const d=Object.assign({},t.mirror);d.name.startsWith(Vn)||(d.name=`${Vn}${d.name}`),r.mirror=d,r.mirror_direct=!0}else if(t.sources){const d=t.sources.map(f=>{const h=Object.assign({},f);h.name.startsWith(Vn)||(h.name=`${Vn}${h.name}`)});r.sources=d}else r.subjects=[this.subjectForBucket()];t.metadata&&(r.metadata=t.metadata);const o=this.js.nc,s=o.getServerVersion(),a=s?ip(s,fo("2.7.2"))>=0:!1;r.discard=a?dl.New:dl.Old;const{ok:l,min:u}=o.features.get(Je.JS_ALLOW_DIRECT);if(!l&&t.allow_direct===!0){const d=s?`${s.major}.${s.minor}.${s.micro}`:"unknown";return Promise.reject(new Error(`allow_direct is not available on server version ${d} - requires ${u}`))}t.allow_direct=typeof t.allow_direct=="boolean"?t.allow_direct:l,r.allow_direct=t.allow_direct,this.direct=r.allow_direct,r.num_replicas=n.replicas,n.ttl&&(r.max_age=vt(n.ttl)),r.allow_rollup_hdrs=!0;let c;try{c=await this.jsm.streams.info(r.name),!c.config.allow_direct&&this.direct===!0&&(this.direct=!1)}catch(d){if(d.message==="stream not found")c=await this.jsm.streams.add(r);else throw d}this.initializePrefixes(c)}initializePrefixes(t){this._prefixLen=0,this.prefix=`$KV.${this.bucket}`,this.useJsPrefix=this.js.apiPrefix!=="$JS.API";const{mirror:n}=t.config;if(n){let r=n.name;if(r.startsWith(Vn)&&(r=r.substring(Vn.length)),n.external&&n.external.api!==""){const i=n.name.substring(Vn.length);this.useJsPrefix=!1,this.prefix=`$KV.${i}`,this.editPrefix=`${n.external.api}.$KV.${r}`}else this.editPrefix=this.prefix}}bucketName(){return this.stream??`${Vn}${this.bucket}`}subjectForBucket(){return`${this.prefix}.${this.bucket}.>`}subjectForKey(t,n=!1){const r=[];return n?(this.useJsPrefix&&r.push(this.js.apiPrefix),this.editPrefix!==""?r.push(this.editPrefix):r.push(this.prefix)):this.prefix&&r.push(this.prefix),r.push(t),r.join(".")}fullKeyName(t){return this.prefix!==""?`${this.prefix}.${t}`:`${M0}.${this.bucket}.${t}`}get prefixLen(){return this._prefixLen===0&&(this._prefixLen=this.prefix.length+1),this._prefixLen}encodeKey(t){const n=[];for(const r of t.split("."))switch(r){case">":case"*":n.push(r);break;default:n.push(this.codec.key.encode(r));break}return n.join(".")}decodeKey(t){const n=[];for(const r of t.split("."))switch(r){case">":case"*":n.push(r);break;default:n.push(this.codec.key.decode(r));break}return n.join(".")}close(){return Promise.resolve()}dataLen(t,n){const r=n&&n.get(ln.MessageSizeHdr)||"";return r!==""?parseInt(r,10):t.length}smToEntry(t){return new X2(this.bucket,this.prefixLen,t)}jmToEntry(t){const n=this.decodeKey(t.subject.substring(this.prefixLen));return new Q2(this.bucket,n,t)}async create(t,n){var o;let r;try{const s=await this.put(t,n,{previousSeq:0});return Promise.resolve(s)}catch(s){if(r=s,((o=s==null?void 0:s.api_error)==null?void 0:o.err_code)!==10071)return Promise.reject(s)}let i=0;try{const s=await this.get(t);return(s==null?void 0:s.operation)==="DEL"||(s==null?void 0:s.operation)==="PURGE"?(i=s!==null?s.revision:0,this.update(t,n,i)):Promise.reject(r)}catch(s){return Promise.reject(s)}}update(t,n,r){if(r<=0)throw new Error("version must be greater than 0");return this.put(t,n,{previousSeq:r})}async put(t,n,r={}){var s,a;const i=this.encodeKey(t);this.validateKey(i);const o={};if(r.previousSeq!==void 0){const l=ei();o.headers=l,l.set(Hr.ExpectedLastSubjectSequenceHdr,`${r.previousSeq}`)}try{return(await this.js.publish(this.subjectForKey(i,!0),n,o)).seq}catch(l){const u=l;return u.isJetStreamError()?(u.message=(s=u.api_error)==null?void 0:s.description,u.code=`${(a=u.api_error)==null?void 0:a.code}`,Promise.reject(u)):Promise.reject(l)}}async get(t,n){const r=this.encodeKey(t);this.validateKey(r);let i={last_by_subj:this.subjectForKey(r)};n&&n.revision>0&&(i={seq:n.revision});let o;try{this.direct?o=await this.jsm.direct.getMessage(this.bucketName(),i):o=await this.jsm.streams.getMessage(this.bucketName(),i);const s=this.smToEntry(o);return s.key!==r?null:s}catch(s){if(s.code===te.JetStream404NoMessages)return null;throw s}}purge(t){return this._deleteOrPurge(t,"PURGE")}delete(t){return this._deleteOrPurge(t,"DEL")}async purgeDeletes(t=30*60*1e3){const n=yt(),r=[],i=await this.watch({key:">",initializedFn:()=>{n.resolve()}});(async()=>{for await(const l of i)(l.operation==="DEL"||l.operation==="PURGE")&&r.push(l)})().then(),await n,i.stop();const o=Date.now()-t,s=r.map(l=>{const u=this.subjectForKey(l.key);return l.created.getTime()>=o?this.jsm.streams.purge(this.stream,{filter:u,keep:1}):this.jsm.streams.purge(this.stream,{filter:u,keep:0})}),a=await Promise.all(s);return a.unshift({success:!0,purged:0}),a.reduce((l,u)=>(l.purged+=u.purged,l))}async _deleteOrPurge(t,n){if(!this.hasWildcards(t))return this._doDeleteOrPurge(t,n);const r=await this.keys(t),i=[];for await(const o of r)i.push(this._doDeleteOrPurge(o,n)),i.length===100&&(await Promise.all(i),i.length=0);i.length>0&&await Promise.all(i)}async _doDeleteOrPurge(t,n){const r=this.encodeKey(t);this.validateKey(r);const i=ei();i.set(Pc,n),n==="PURGE"&&i.set(ln.RollupHdr,ln.RollupValueSubject),await this.js.publish(this.subjectForKey(r,!0),Nn,{headers:i})}_buildCC(t,n,r={}){const i=this.encodeKey(t);this.validateSearchKey(t);let o=$t.LastPerSubject;return n===rr.AllHistory&&(o=$t.All),n===rr.UpdatesOnly&&(o=$t.New),Object.assign({deliver_policy:o,ack_policy:Vt.None,filter_subject:this.fullKeyName(i),flow_control:!0,idle_heartbeat:vt(5*1e3)},r)}remove(t){return this.purge(t)}async history(t={}){const n=t.key??">",r=new Qt,i={};i.headers_only=t.headers_only||!1;let o;o=()=>{r.stop()};let s=0;const a=this._buildCC(n,rr.AllHistory,i),l=a.filter_subject,u=Ti(a);u.bindStream(this.stream),u.orderedConsumer(),u.callback((d,f)=>{if(d){r.stop(d);return}if(f){const h=this.jmToEntry(f);r.push(h),r.received++,(o&&s>0&&r.received>=s||f.info.pending===0)&&(r.push(o),o=void 0)}});const c=await this.js.subscribe(l,u);if(o){const{info:{last:d}}=c,f=d.num_pending+d.delivered.consumer_seq;if(f===0||r.received>=f)try{o()}catch(h){r.stop(h)}finally{o=void 0}else s=f}return r._data=c,r.iterClosed.then(()=>{c.unsubscribe()}),c.closed.then(()=>{r.stop()}).catch(d=>{r.stop(d)}),r}async watch(t={}){const n=t.key??">",r=new Qt,i={};i.headers_only=t.headers_only||!1;let o=rr.LastValue;t.include===rr.AllHistory?o=rr.AllHistory:t.include===rr.UpdatesOnly&&(o=rr.UpdatesOnly);const s=t.ignoreDeletes===!0;let a=t.initializedFn,l=0;const u=this._buildCC(n,o,i),c=u.filter_subject,d=Ti(u);d.bindStream(this.stream),d.orderedConsumer(),d.callback((h,m)=>{if(h){r.stop(h);return}if(m){const g=this.jmToEntry(m);if(s&&g.operation==="DEL")return;r.push(g),r.received++,a&&(l>0&&r.received>=l||m.info.pending===0)&&(r.push(a),a=void 0)}});const f=await this.js.subscribe(c,d);if(a){const{info:{last:h}}=f,m=h.num_pending+h.delivered.consumer_seq;if(m===0||r.received>=m)try{a()}catch(g){r.stop(g)}finally{a=void 0}else l=m}return r._data=f,r.iterClosed.then(()=>{f.unsubscribe()}),f.closed.then(()=>{r.stop()}).catch(h=>{r.stop(h)}),r}async keys(t=">"){const n=new Qt,r=this._buildCC(t,rr.LastValue,{headers_only:!0}),i=r.filter_subject,o=Ti(r);o.bindStream(this.stream),o.orderedConsumer();const s=await this.js.subscribe(i,o);return(async()=>{var l;for await(const u of s){const c=(l=u.headers)==null?void 0:l.get(Pc);if(c!=="DEL"&&c!=="PURGE"){const d=this.decodeKey(u.subject.substring(this.prefixLen));n.push(d)}u.info.pending===0&&s.unsubscribe()}})().then(()=>{n.stop()}).catch(l=>{n.stop(l)}),s.info.last.num_pending===0&&s.unsubscribe(),n}purgeBucket(t){return this.jsm.streams.purge(this.bucketName(),t)}destroy(){return this.jsm.streams.delete(this.bucketName())}async status(){var o;const n=((o=this.js.nc.info)==null?void 0:o.cluster)??"",r=this.bucketName(),i=await this.jsm.streams.info(r);return new Y_(i,n)}}class Y_{constructor(t,n=""){b(this,"si");b(this,"cluster");this.si=t,this.cluster=n}get bucket(){return this.si.config.name.startsWith(Vn)?this.si.config.name.substring(Vn.length):this.si.config.name}get values(){return this.si.state.messages}get history(){return this.si.config.max_msgs_per_subject}get ttl(){return Km(this.si.config.max_age)}get bucket_location(){return this.cluster}get backingStore(){return this.si.config.storage}get storage(){return this.si.config.storage}get replicas(){return this.si.config.num_replicas}get description(){return this.si.config.description??""}get maxBucketSize(){return this.si.config.max_bytes}get maxValueSize(){return this.si.config.max_msg_size}get max_bytes(){return this.si.config.max_bytes}get placement(){return this.si.config.placement||{cluster:"",tags:[]}}get placementCluster(){var t;return((t=this.si.config.placement)==null?void 0:t.cluster)??""}get republish(){return this.si.config.republish??{src:"",dest:""}}get streamInfo(){return this.si}get size(){return this.si.state.bytes}get metadata(){return this.si.config.metadata??{}}}const I0="SHA-256=";function Y2(e){return ju(e),`${Jm}${e}`}function Z2(e){return e.startsWith(Jm)?e.substring(4):e}class up{constructor(t){b(this,"si");b(this,"backingStore");this.si=t,this.backingStore="JetStream"}get bucket(){return Z2(this.si.config.name)}get description(){return this.si.config.description??""}get ttl(){return this.si.config.max_age}get storage(){return this.si.config.storage}get replicas(){return this.si.config.num_replicas}get sealed(){return this.si.config.sealed}get size(){return this.si.state.bytes}get streamInfo(){return this.si}get metadata(){return this.si.config.metadata}}class Xm extends Ol{constructor(t,n){super(t,n)}checkStreamConfigVersions(t){const n=this.nc;if(t.metadata){const{min:i,ok:o}=n.features.get(Je.JS_STREAM_CONSUMER_METADATA);if(!o)throw new Error(`stream 'metadata' requires server ${i}`)}if(t.first_seq){const{min:i,ok:o}=n.features.get(Je.JS_STREAM_FIRST_SEQ);if(!o)throw new Error(`stream 'first_seq' requires server ${i}`)}if(t.subject_transform){const{min:i,ok:o}=n.features.get(Je.JS_STREAM_SUBJECT_TRANSFORM);if(!o)throw new Error(`stream 'subject_transform' requires server ${i}`)}if(t.compression){const{min:i,ok:o}=n.features.get(Je.JS_STREAM_COMPRESSION);if(!o)throw new Error(`stream 'compression' requires server ${i}`)}if(t.consumer_limits){const{min:i,ok:o}=n.features.get(Je.JS_DEFAULT_CONSUMER_LIMITS);if(!o)throw new Error(`stream 'consumer_limits' requires server ${i}`)}function r(i,o){var a;if((((a=o.subject_transforms)==null?void 0:a.length)||0)>0){const{min:l,ok:u}=n.features.get(Je.JS_STREAM_SOURCE_SUBJECT_TRANSFORM);if(!u)throw new Error(`${i} 'subject_transforms' requires server ${l}`)}}t.sources&&t.sources.forEach(i=>{r("stream sources",i)}),t.mirror&&r("stream mirror",t.mirror)}async add(t={}){var i;this.checkStreamConfigVersions(t),pn(t.name),t.mirror=du(t.mirror),t.sources=(i=t.sources)==null?void 0:i.map(du);const r=await this._request(`${this.prefix}.STREAM.CREATE.${t.name}`,t);return this._fixInfo(r),r}async delete(t){return pn(t),(await this._request(`${this.prefix}.STREAM.DELETE.${t}`)).success}async update(t,n={}){var a;if(typeof t=="object"){const l=t;t=l.name,n=l,console.trace("\x1B[33m >> streams.update(config: StreamConfig) api changed to streams.update(name: string, config: StreamUpdateConfig) - this shim will be removed - update your code.  \x1B[0m")}this.checkStreamConfigVersions(n),pn(t);const r=await this.info(t),i=Object.assign(r.config,n);i.mirror=du(i.mirror),i.sources=(a=i.sources)==null?void 0:a.map(du);const s=await this._request(`${this.prefix}.STREAM.UPDATE.${t}`,i);return this._fixInfo(s),s}async info(t,n){pn(t);const r=`${this.prefix}.STREAM.INFO.${t}`;let o=await this._request(r,n),{total:s,limit:a}=o,l=o.state.subjects?Object.getOwnPropertyNames(o.state.subjects).length:1;if(s&&s>l){const u=[o],c=n||{};let d=0;for(;s>l;){d++,c.offset=a*d;const h=await this._request(r,c);s=h.total,u.push(h);const m=Object.getOwnPropertyNames(h.state.subjects).length;if(l+=m,m<a)break}let f={};for(let h=0;h<u.length;h++)o=u[h],o.state.subjects&&(f=Object.assign(f,o.state.subjects));o.offset=0,o.total=0,o.limit=0,o.state.subjects=f}return this._fixInfo(o),o}list(t=""){const n=t!=null&&t.length?{subject:t}:{},r=o=>{const s=o;return s.streams.forEach(a=>{this._fixInfo(a)}),s.streams},i=`${this.prefix}.STREAM.LIST`;return new Ca(i,r,this,n)}_fixInfo(t){t.config.sealed=t.config.sealed||!1,t.config.deny_delete=t.config.deny_delete||!1,t.config.deny_purge=t.config.deny_purge||!1,t.config.allow_rollup_hdrs=t.config.allow_rollup_hdrs||!1}async purge(t,n){if(n){const{keep:i,seq:o}=n;if(typeof i=="number"&&typeof o=="number")throw new Error("can specify one of keep or seq")}return pn(t),await this._request(`${this.prefix}.STREAM.PURGE.${t}`,n)}async deleteMessage(t,n,r=!0){pn(t);const i={seq:n};return r||(i.no_erase=!0),(await this._request(`${this.prefix}.STREAM.MSG.DELETE.${t}`,i)).success}async getMessage(t,n){pn(t);const i=await this._request(`${this.prefix}.STREAM.MSG.GET.${t}`,n);return new Z_(i)}find(t){return this.findStream(t)}listKvs(){const t=r=>{var l;const o=r.streams.filter(u=>u.config.name.startsWith(Vn));o.forEach(u=>{this._fixInfo(u)});let s="";return o.length&&(s=((l=this.nc.info)==null?void 0:l.cluster)??""),o.map(u=>new Y_(u,s))},n=`${this.prefix}.STREAM.LIST`;return new Ca(n,t,this)}listObjectStores(){const t=r=>{const o=r.streams.filter(a=>a.config.name.startsWith(Jm));return o.forEach(a=>{this._fixInfo(a)}),o.map(a=>new up(a))},n=`${this.prefix}.STREAM.LIST`;return new Ca(n,t,this)}names(t=""){const n=t!=null&&t.length?{subject:t}:{},r=o=>o.streams,i=`${this.prefix}.STREAM.NAMES`;return new Ca(i,r,this,n)}async get(t){const n=await this.info(t);return Promise.resolve(new bd(this,n))}}class Z_{constructor(t){b(this,"_header");b(this,"smr");this.smr=t}get subject(){return this.smr.message.subject}get seq(){return this.smr.message.seq}get timestamp(){return this.smr.message.time}get time(){return new Date(Date.parse(this.timestamp))}get data(){return this.smr.message.data?this._parse(this.smr.message.data):Nn}get header(){if(!this._header)if(this.smr.message.hdrs){const t=this._parse(this.smr.message.hdrs);this._header=Ii.decode(t)}else this._header=ei();return this._header}_parse(t){const n=atob(t),r=n.length,i=new Uint8Array(r);for(let o=0;o<r;o++)i[o]=n.charCodeAt(o);return i}json(t){return dr(t).decode(this.data)}string(){return Pn.decode(this.data)}}b(Z_,"jc");class J2{constructor(t){b(this,"api");this.api=t}get(t){return this.api.info(t).then(n=>new bd(this.api,n))}}class X2{constructor(t,n,r){b(this,"bucket");b(this,"sm");b(this,"prefixLen");this.bucket=t,this.prefixLen=n,this.sm=r}get key(){return this.sm.subject.substring(this.prefixLen)}get value(){return this.sm.data}get delta(){return 0}get created(){return this.sm.time}get revision(){return this.sm.seq}get operation(){return this.sm.header.get(Pc)||"PUT"}get length(){const t=this.sm.header.get(ln.MessageSizeHdr)||"";return t!==""?parseInt(t,10):this.sm.data.length}json(){return this.sm.json()}string(){return this.sm.string()}}class Q2{constructor(t,n,r){b(this,"bucket");b(this,"key");b(this,"sm");this.bucket=t,this.key=n,this.sm=r}get value(){return this.sm.data}get created(){return new Date(Km(this.sm.info.timestampNanos))}get revision(){return this.sm.seq}get operation(){var t;return((t=this.sm.headers)==null?void 0:t.get(Pc))||"PUT"}get delta(){return this.sm.info.pending}get length(){var n;const t=((n=this.sm.headers)==null?void 0:n.get(ln.MessageSizeHdr))||"";return t!==""?parseInt(t,10):this.sm.data.length}json(){return this.sm.json()}string(){return this.sm.string()}}class Of{constructor(t){b(this,"info");b(this,"hdrs");this.info=t}get name(){return this.info.name}get description(){return this.info.description??""}get headers(){return this.hdrs||(this.hdrs=Ii.fromRecord(this.info.headers||{})),this.hdrs}get options(){return this.info.options}get bucket(){return this.info.bucket}get chunks(){return this.info.chunks}get deleted(){return this.info.deleted??!1}get digest(){return this.info.digest}get mtime(){return this.info.mtime}get nuid(){return this.info.nuid}get size(){return this.info.size}get revision(){return this.info.revision}get metadata(){return this.info.metadata||{}}isLink(){var t;return((t=this.info.options)==null?void 0:t.link)!==void 0}}function T0(e){const t={name:e.name,description:e.description??"",options:e.options,metadata:e.metadata};if(e.headers){const n=e.headers;t.headers=n.toRecord()}return t}function e$(){return new ReadableStream({pull(e){e.enqueue(new Uint8Array(0)),e.close()}})}class Ua{constructor(t,n,r){b(this,"jsm");b(this,"js");b(this,"stream");b(this,"name");this.name=t,this.jsm=n,this.js=r}_checkNotEmpty(t){return!t||t.length===0?{name:t,error:new Error("name cannot be empty")}:{name:t}}async info(t){const n=await this.rawInfo(t);return n?new Of(n):null}async list(){const t=[],n=await this.watch({ignoreDeletes:!0,includeHistory:!0});for await(const r of n){if(r===null)break;t.push(r)}return Promise.resolve(t)}async rawInfo(t){const{name:n,error:r}=this._checkNotEmpty(t);if(r)return Promise.reject(r);const i=this._metaSubject(n);try{const o=await this.jsm.streams.getMessage(this.stream,{last_by_subj:i}),a=dr().decode(o.data);return a.revision=o.seq,a}catch(o){return o.code==="404"?null:Promise.reject(o)}}async _si(t){try{return await this.jsm.streams.info(this.stream,t)}catch(n){return n.code==="404"?null:Promise.reject(n)}}async seal(){let t=await this._si();return t===null?Promise.reject(new Error("object store not found")):(t.config.sealed=!0,t=await this.jsm.streams.update(this.stream,t.config),Promise.resolve(new up(t)))}async status(t){const n=await this._si(t);return n===null?Promise.reject(new Error("object store not found")):Promise.resolve(new up(n))}destroy(){return this.jsm.streams.delete(this.stream)}async _put(t,n,r){var _;const i=this.js.getOptions();r=r||{timeout:i.timeout},r.timeout=r.timeout||i.timeout,r.previousRevision=r.previousRevision??void 0;const{timeout:o,previousRevision:s}=r,a=this.js.nc.info,l=(a==null?void 0:a.max_payload)||1024;t=t||{},t.options=t.options||{};let u=((_=t.options)==null?void 0:_.max_chunk_size)||128*1024;u=u>l?l:u,t.options.max_chunk_size=u;const c=await this.info(t.name),{name:d,error:f}=this._checkNotEmpty(t.name);if(f)return Promise.reject(f);const h=Al.next(),m=this._chunkSubject(h),g=this._metaSubject(d),C=Object.assign({bucket:this.name,nuid:h,size:0,chunks:0},T0(t)),y=yt(),p=[],w=new As;try{const P=n?n.getReader():null,I=new $0;for(;;){const{done:M,value:j}=P?await P.read():{done:!0,value:void 0};if(M){if(w.size()>0){const Q=w.drain();I.update(Q),C.chunks++,C.size+=Q.length,p.push(this.js.publish(m,Q,{timeout:o}))}await Promise.all(p),p.length=0,C.mtime=new Date().toISOString();const W=I.digest("base64"),K=W.length%3,ae=K>0?"=".repeat(K):"";C.digest=`${I0}${W}${ae}`,C.deleted=!1;const V=ei();typeof s=="number"&&V.set(Hr.ExpectedLastSubjectSequenceHdr,`${s}`),V.set(ln.RollupHdr,ln.RollupValueSubject);const X=await this.js.publish(g,dr().encode(C),{headers:V,timeout:o});if(C.revision=X.seq,c)try{await this.jsm.streams.purge(this.stream,{filter:`$O.${this.name}.C.${c.nuid}`})}catch{}y.resolve(new Of(C));break}if(j)for(w.fill(j);w.size()>u;){C.chunks++,C.size+=u;const W=w.drain(t.options.max_chunk_size);I.update(W),p.push(this.js.publish(m,W,{timeout:o}))}}}catch(P){await this.jsm.streams.purge(this.stream,{filter:m}),y.reject(P)}return y}putBlob(t,n,r){function i(o){return new ReadableStream({pull(s){s.enqueue(o),s.close()}})}return n===null&&(n=new Uint8Array(0)),this.put(t,i(n),r)}put(t,n,r){var i;return(i=t==null?void 0:t.options)!=null&&i.link?Promise.reject(new Error("link cannot be set when putting the object in bucket")):this._put(t,n,r)}async getBlob(t){async function n(o){const s=new As,a=o.getReader();for(;;){const{done:l,value:u}=await a.read();if(l)return s.drain();u&&u.length&&s.fill(u)}}const r=await this.get(t);if(r===null)return Promise.resolve(null);const i=await Promise.all([r.error,n(r.data)]);return i[0]?Promise.reject(i[0]):Promise.resolve(i[1])}async get(t){const n=await this.rawInfo(t);if(n===null||n.deleted)return Promise.resolve(null);if(n.options&&n.options.link){const c=n.options.link.name||"";if(c==="")throw new Error("link is a bucket");return(n.options.link.bucket!==this.name?await Ua.create(this.js,n.options.link.bucket):this).get(c)}const r=yt(),i={info:new Of(n),error:r};if(n.size===0)return i.data=e$(),r.resolve(null),Promise.resolve(i);let o;const s=Ti();s.orderedConsumer();const a=new $0,l=`$O.${this.name}.C.${n.nuid}`,u=await this.js.subscribe(l,s);return(async()=>{for await(const c of u)if(c.data.length>0&&(a.update(c.data),o.enqueue(c.data)),c.info.pending===0){const d=a.digest("base64"),f=d.length%3,h=f>0?"=".repeat(f):"",m=`${I0}${d}${h}`;m!==n.digest?o.error(new Error(`received a corrupt object, digests do not match received: ${n.digest} calculated ${m}`)):o.close(),u.unsubscribe()}})().then(()=>{r.resolve()}).catch(c=>{o.error(c),r.reject(c)}),i.data=new ReadableStream({start(c){o=c},cancel(){u.unsubscribe()}}),i}linkStore(t,n){if(!(n instanceof Ua))return Promise.reject("bucket required");const r=n,{name:i,error:o}=this._checkNotEmpty(t);if(o)return Promise.reject(o);const s={name:i,options:{link:{bucket:r.name}}};return this._put(s,null)}async link(t,n){const{name:r,error:i}=this._checkNotEmpty(t);if(i)return Promise.reject(i);if(n.deleted)return Promise.reject(new Error("src object is deleted"));if(n.isLink())return Promise.reject(new Error("src object is a link"));const o=await this.rawInfo(t);if(o!==null&&!o.deleted)return Promise.reject(new Error("an object already exists with that name"));const s={bucket:n.bucket,name:n.name},a={name:r,options:{link:s}};await this.js.publish(this._metaSubject(t),JSON.stringify(a));const l=await this.info(t);return Promise.resolve(l)}async delete(t){const n=await this.rawInfo(t);if(n===null)return Promise.resolve({purged:0,success:!1});n.deleted=!0,n.size=0,n.chunks=0,n.digest="";const r=dr(),i=ei();return i.set(ln.RollupHdr,ln.RollupValueSubject),await this.js.publish(this._metaSubject(n.name),r.encode(n),{headers:i}),this.jsm.streams.purge(this.stream,{filter:this._chunkSubject(n.nuid)})}async update(t,n={}){const r=await this.rawInfo(t);if(r===null)return Promise.reject(new Error("object not found"));if(r.deleted)return Promise.reject(new Error("cannot update meta for a deleted object"));n.name=n.name??r.name;const{name:i,error:o}=this._checkNotEmpty(n.name);if(o)return Promise.reject(o);if(t!==n.name){const l=await this.info(n.name);if(l&&!l.deleted)return Promise.reject(new Error("an object already exists with that name"))}n.name=i;const s=Object.assign({},r,T0(n)),a=await this.js.publish(this._metaSubject(s.name),JSON.stringify(s));return t!==n.name&&await this.jsm.streams.purge(this.stream,{filter:this._metaSubject(t)}),Promise.resolve(a)}async watch(t={}){t.includeHistory=t.includeHistory??!1,t.ignoreDeletes=t.ignoreDeletes??!1;let n=!1;const r=new Qt,i=this._metaSubjectAll();try{await this.jsm.streams.getMessage(this.stream,{last_by_subj:i})}catch(l){l.code==="404"?(r.push(null),n=!0):r.stop(l)}const o=dr(),s=Ti();s.orderedConsumer(),t.includeHistory?s.deliverLastPerSubject():(n=!0,s.deliverNew()),s.callback((l,u)=>{var c;if(l){r.stop(l);return}if(u!==null){const d=o.decode(u.data);d.deleted&&t.ignoreDeletes===!0||r.push(d),((c=u.info)==null?void 0:c.pending)===0&&!n&&(n=!0,r.push(null))}});const a=await this.js.subscribe(i,s);return r._data=a,r.iterClosed.then(()=>{a.unsubscribe()}),a.closed.then(()=>{r.stop()}).catch(l=>{r.stop(l)}),r}_chunkSubject(t){return`$O.${this.name}.C.${t}`}_metaSubject(t){return`$O.${this.name}.M.${Da.encode(t)}`}_metaSubjectAll(){return`$O.${this.name}.M.>`}async init(t={}){try{this.stream=Y2(this.name)}catch(i){return Promise.reject(i)}const n=(t==null?void 0:t.ttl)||0;delete t.ttl;const r=Object.assign({max_age:n},t);r.name=this.stream,r.allow_direct=!0,r.allow_rollup_hdrs=!0,r.discard=dl.New,r.subjects=[`$O.${this.name}.C.>`,`$O.${this.name}.M.>`],t.placement&&(r.placement=t.placement),t.metadata&&(r.metadata=t.metadata);try{await this.jsm.streams.info(r.name)}catch(i){i.message==="stream not found"&&await this.jsm.streams.add(r)}}static async create(t,n,r={}){const i=await t.jetstreamManager(),o=new Ua(n,i,t);return await o.init(r),Promise.resolve(o)}}class t${constructor(t){b(this,"js");b(this,"jsm");this.js=t}kv(t,n={}){const r=this.js,{ok:i,min:o}=r.nc.features.get(Je.JS_KV);return i?n.bindOnly?hl.bind(this.js,t):hl.create(this.js,t,n):Promise.reject(new Error(`kv is only supported on servers ${o} or better`))}os(t,n={}){var s;if(typeof((s=crypto==null?void 0:crypto.subtle)==null?void 0:s.digest)!="function")return Promise.reject(new Error("objectstore: unable to calculate hashes - crypto.subtle.digest with sha256 support is required"));const r=this.js,{ok:i,min:o}=r.nc.features.get(Je.JS_OBJECTSTORE);return i?Ua.create(this.js,t,n):Promise.reject(new Error(`objectstore is only supported on servers ${o} or better`))}}class Qm extends Ol{constructor(n,r){super(n,r);b(this,"consumers");b(this,"streams");b(this,"consumerAPI");b(this,"streamAPI");this.consumerAPI=new Ym(n,r),this.streamAPI=new Xm(n,r),this.consumers=new G_(this.consumerAPI),this.streams=new J2(this.streamAPI)}jetstreamManager(){return this.nc.jetstreamManager(this.opts)}get apiPrefix(){return this.prefix}get views(){return new t$(this)}async publish(n,r=Nn,i){i=i||{},i.expect=i.expect||{};const o=(i==null?void 0:i.headers)||ei();i&&(i.msgID&&o.set(Hr.MsgIdHdr,i.msgID),i.expect.lastMsgID&&o.set(Hr.ExpectedLastMsgIdHdr,i.expect.lastMsgID),i.expect.streamName&&o.set(Hr.ExpectedStreamHdr,i.expect.streamName),typeof i.expect.lastSequence=="number"&&o.set(Hr.ExpectedLastSeqHdr,`${i.expect.lastSequence}`),typeof i.expect.lastSubjectSequence=="number"&&o.set(Hr.ExpectedLastSubjectSequenceHdr,`${i.expect.lastSubjectSequence}`));const s=i.timeout||this.timeout,a={};s&&(a.timeout=s),i&&(a.headers=o);let{retries:l,retry_delay:u}=i;l=l||1,u=u||250;let c;for(let f=0;f<l;f++)try{c=await this.nc.request(n,r,a);break}catch(h){if(h.code==="503"&&f+1<l)await qm(u);else throw h}const d=this.parseJsResponse(c);if(d.stream==="")throw ye.errorForCode(te.JetStreamInvalidAck);return d.duplicate=d.duplicate?d.duplicate:!1,d}async pull(n,r,i=0){pn(n),ps(r);let o=this.timeout;i>o&&(o=i),i=i<0?0:vt(i);const s={batch:1,no_wait:i===0,expires:i},a=await this.nc.request(`${this.prefix}.CONSUMER.MSG.NEXT.${n}.${r}`,this.jc.encode(s),{noMux:!0,timeout:o}),l=ms(a);if(l)throw l;return fl(a)}fetch(n,r,i={}){pn(n),ps(r);let o=null;const s=(i.max_bytes??0)>0;let a=0;const l=s?i.max_bytes:0;let u=null;const c={};if(c.batch=i.batch||1,l){const p=this.nc.features.get(Je.JS_PULL_MAX_BYTES);if(!p.ok)throw new Error(`max_bytes is only supported on servers ${p.min} or better`);c.max_bytes=l}c.no_wait=i.no_wait||!1,c.no_wait&&c.expires&&(c.expires=0);const d=i.expires||0;if(d&&(c.expires=vt(d)),d===0&&c.no_wait===!1)throw new Error("expires or no_wait is required");const f=i.idle_heartbeat||0;f&&(c.idle_heartbeat=vt(f),i.delay_heartbeat===!0&&(c.idle_heartbeat=vt(f*4)));const h=new Qt,m=c.batch;let g=0;h.protocolFilterFn=(p,w=!1)=>sp(p.msg)?(u==null||u.work(),!1):!0,h.dispatchedFn=p=>{if(p){if(s&&(a+=p.data.length),g++,o&&p.info.pending===0)return;(h.getPending()===1&&p.info.pending===0||m===g||l>0&&a>=l)&&h.stop()}};const C=Yr(this.nc.options.inboxPrefix),y=this.nc.subscribe(C,{max:i.batch,callback:(p,w)=>{p===null&&(p=ms(w)),p!==null?(o&&(o.cancel(),o=null),$P(p)?h.stop(X_(p)===null?void 0:p):h.stop(p)):(u==null||u.work(),h.received++,h.push(fl(w)))}});return d&&(o=$s(d),o.catch(()=>{y.isClosed()||(y.drain().catch(()=>{}),o=null),u&&u.cancel()})),(async()=>{try{f&&(u=new Zm(f,p=>(h.push(()=>{h.err=new ye(`${Hn.IdleHeartbeatMissed}: ${p}`,te.JetStreamIdleHeartBeat)}),!0)))}catch{}await y.closed,o!==null&&(o.cancel(),o=null),u&&u.cancel(),h.stop()})().catch(),this.nc.publish(`${this.prefix}.CONSUMER.MSG.NEXT.${n}.${r}`,this.jc.encode(c),{reply:C}),h}async pullSubscribe(n,r=Ti()){const i=await this._processOptions(n,r);if(i.ordered)throw new Error("pull subscribers cannot be be ordered");if(i.config.deliver_subject)throw new Error("consumer info specifies deliver_subject - pull consumers cannot have deliver_subject set");const o=i.config.ack_policy;if(o===Vt.None||o===Vt.All)throw new Error("ack policy for pull consumers must be explicit");const s=this._buildTypedSubscriptionOpts(i),a=new n$(this,i.deliver,s);a.info=i;try{await this._maybeCreateConsumer(i)}catch(l){throw a.unsubscribe(),l}return a}async subscribe(n,r=Ti()){const i=await this._processOptions(n,r);if(!i.isBind&&!i.config.deliver_subject)throw new Error("push consumer requires deliver_subject");const o=this._buildTypedSubscriptionOpts(i),s=new J_(this,i.deliver,o);s.info=i;try{await this._maybeCreateConsumer(i)}catch(a){throw s.unsubscribe(),a}return s._maybeSetupHbMonitoring(),s}async _processOptions(n,r=Ti()){const i=R0(r)?r.getOpts():r;if(i.isBind=R0(r)?r.isBind:!1,i.flow_control={heartbeat_count:0,fc_count:0,consumer_restarts:0},i.ordered){if(i.ordered_consumer_sequence={stream_seq:0,delivery_seq:0},i.config.ack_policy!==Vt.NotSet&&i.config.ack_policy!==Vt.None)throw new ye("ordered consumer: ack_policy can only be set to 'none'",te.ApiError);if(i.config.durable_name&&i.config.durable_name.length>0)throw new ye("ordered consumer: durable_name cannot be set",te.ApiError);if(i.config.deliver_subject&&i.config.deliver_subject.length>0)throw new ye("ordered consumer: deliver_subject cannot be set",te.ApiError);if(i.config.max_deliver!==void 0&&i.config.max_deliver>1)throw new ye("ordered consumer: max_deliver cannot be set",te.ApiError);if(i.config.deliver_group&&i.config.deliver_group.length>0)throw new ye("ordered consumer: deliver_group cannot be set",te.ApiError);i.config.deliver_subject=Yr(this.nc.options.inboxPrefix),i.config.ack_policy=Vt.None,i.config.max_deliver=1,i.config.flow_control=!0,i.config.idle_heartbeat=i.config.idle_heartbeat||vt(5e3),i.config.ack_wait=vt(22*60*60*1e3),i.config.mem_storage=!0,i.config.num_replicas=1}if(i.config.ack_policy===Vt.NotSet&&(i.config.ack_policy=Vt.All),i.api=this,i.config=i.config||{},i.stream=i.stream?i.stream:await this.findStream(n),i.attached=!1,i.config.durable_name)try{const o=await this.consumerAPI.info(i.stream,i.config.durable_name);if(o){if(o.config.filter_subject&&o.config.filter_subject!==n)throw new Error("subject does not match consumer");const s=i.config.deliver_group??"";if(s===""&&o.push_bound===!0)throw new Error("duplicate subscription");const a=o.config.deliver_group??"";if(s!==a)throw a===""?new Error("durable requires no queue group"):new Error(`durable requires queue group '${a}'`);i.last=o,i.config=o.config,i.attached=!0,i.config.durable_name||(i.name=o.name)}}catch(o){if(o.code!=="404")throw o}return!i.attached&&i.config.filter_subject===void 0&&i.config.filter_subjects===void 0&&(i.config.filter_subject=n),i.deliver=i.config.deliver_subject||Yr(this.nc.options.inboxPrefix),i}_buildTypedSubscriptionOpts(n){const r={};return r.adapter=r$(n.callbackFn===void 0),r.ingestionFilterFn=Qm.ingestionFn(n.ordered),r.protocolFilterFn=(i,o=!1)=>{const s=i;return op(s.msg)?(o||s.msg.respond(),!1):!0},!n.mack&&n.config.ack_policy!==Vt.None&&(r.dispatchedFn=s$),n.callbackFn&&(r.callback=n.callbackFn),r.max=n.max||0,r.queue=n.queue,r}async _maybeCreateConsumer(n){if(n.attached)return;if(n.isBind)throw new Error(`unable to bind - durable consumer ${n.config.durable_name} doesn't exist in ${n.stream}`);n.config=Object.assign({deliver_policy:$t.All,ack_policy:Vt.Explicit,ack_wait:vt(30*1e3),replay_policy:Os.Instant},n.config);const r=await this.consumerAPI.add(n.stream,n.config);if(Array.isArray(n.config.filter_subjects&&!Array.isArray(r.config.filter_subjects)))throw new Error("jetstream server doesn't support consumers with multiple filter subjects");n.name=r.name,n.config=r.config,n.last=r}static ingestionFn(n){return(r,i)=>{var l;const o=i;if(!r)return{ingest:!1,protocol:!1};const s=r;if(ms(s.msg)||(l=o.monitor)==null||l.work(),sp(s.msg)){const u=n?o._checkHbOrderConsumer(s.msg):!0;return n||o.info.flow_control.heartbeat_count++,{ingest:u,protocol:!0}}else if(op(s.msg))return o.info.flow_control.fc_count++,{ingest:!0,protocol:!0};return{ingest:n?o._checkOrderedConsumer(r):!0,protocol:!1}}}}class J_ extends U2{constructor(n,r,i){super(n.nc,r,i);b(this,"js");b(this,"monitor");this.js=n,this.monitor=null,this.sub.closed.then(()=>{this.monitor&&this.monitor.cancel()})}set info(n){this.sub.info=n}get info(){return this.sub.info}_resetOrderedConsumer(n){if(this.info===null||this.sub.isClosed())return;const r=Yr(this.js.nc.options.inboxPrefix);this.js.nc._resub(this.sub,r);const o=this.info;o.ordered_consumer_sequence.delivery_seq=0,o.flow_control.heartbeat_count=0,o.flow_control.fc_count=0,o.flow_control.consumer_restarts++,o.deliver=r,o.config.deliver_subject=r,o.config.deliver_policy=$t.StartSequence,o.config.opt_start_seq=n;const s={};s.stream_name=this.info.stream,s.config=o.config;const a=`${o.api.prefix}.CONSUMER.CREATE.${o.stream}`;this.js._request(a,s).then(l=>{const u=l;this.info.config=u.config,this.info.name=u.name}).catch(l=>{const u=new ye(`unable to recreate ordered consumer ${o.stream} at seq ${n}`,te.RequestError,l);this.sub.callback(u,{})})}_maybeSetupHbMonitoring(){var r,i;const n=((i=(r=this.info)==null?void 0:r.config)==null?void 0:i.idle_heartbeat)||0;n&&this._setupHbMonitoring(Km(n))}_setupHbMonitoring(n,r=0){const i={cancelAfter:0,maxOut:2};r&&(i.cancelAfter=r);const o=this.sub,s=a=>{var c,d,f;const l=y2(409,`${Hn.IdleHeartbeatMissed}: ${a}`,this.sub.subject);if(!((c=this.info)==null?void 0:c.ordered))this.sub.callback(null,l);else{if(!this.js.nc.protocol.connected)return!1;const h=((f=(d=this.info)==null?void 0:d.ordered_consumer_sequence)==null?void 0:f.stream_seq)||0;return this._resetOrderedConsumer(h+1),!1}return!o.noIterator};this.monitor=new Zm(n,s,i)}_checkHbOrderConsumer(n){const r=n.headers.get(ln.ConsumerStalledHdr);r!==""&&this.js.nc.publish(r);const i=parseInt(n.headers.get(ln.LastConsumerSeqHdr),10),o=this.info.ordered_consumer_sequence;return this.info.flow_control.heartbeat_count++,i!==o.delivery_seq&&this._resetOrderedConsumer(o.stream_seq+1),!1}_checkOrderedConsumer(n){const r=this.info.ordered_consumer_sequence,i=n.info.streamSequence,o=n.info.deliverySequence;return o!=r.delivery_seq+1?(this._resetOrderedConsumer(r.stream_seq+1),!1):(r.delivery_seq=o,r.stream_seq=i,!0)}async destroy(){this.isClosed()||await this.drain();const n=this.sub.info,r=n.config.durable_name||n.name,i=`${n.api.prefix}.CONSUMER.DELETE.${n.stream}.${r}`;await n.api._request(i)}async consumerInfo(){const n=this.sub.info,r=n.config.durable_name||n.name,i=`${n.api.prefix}.CONSUMER.INFO.${n.stream}.${r}`,o=await n.api._request(i);return n.last=o,o}}class n$ extends J_{constructor(t,n,r){super(t,n,r)}pull(t={batch:1}){const{stream:n,config:r,name:i}=this.sub.info,o=r.durable_name??i,s={};if(s.batch=t.batch||1,s.no_wait=t.no_wait||!1,(t.max_bytes??0)>0){const u=this.js.nc.features.get(Je.JS_PULL_MAX_BYTES);if(!u.ok)throw new Error(`max_bytes is only supported on servers ${u.min} or better`);s.max_bytes=t.max_bytes}let a=0;t.expires&&t.expires>0&&(a=t.expires,s.expires=vt(a));let l=0;if(t.idle_heartbeat&&t.idle_heartbeat>0&&(l=t.idle_heartbeat,s.idle_heartbeat=vt(l)),l&&a===0)throw new Error("idle_heartbeat requires expires");if(l>a)throw new Error("expires must be greater than idle_heartbeat");if(this.info){this.monitor&&this.monitor.cancel(),a&&l&&(this.monitor?this.monitor._change(l,a):this._setupHbMonitoring(l,a));const u=this.info.api,c=`${u.prefix}.CONSUMER.MSG.NEXT.${n}.${o}`,d=this.sub.subject;u.nc.publish(c,u.jc.encode(s),{reply:d})}}}function r$(e){return e?o$:i$}function i$(e,t){return e?[e,null]:(e=ms(t),e?[e,null]:[null,fl(t)])}function o$(e,t){if(e)return[e,null];const n=ms(t);return n!==null?[X_(n),null]:[null,fl(t)]}function X_(e){if(e!==null)switch(e.code){case te.JetStream404NoMessages:case te.JetStream408RequestTimeout:return null;case te.JetStream409:return w2(e)?e:null;default:return e}return null}function s$(e){e&&e.ack()}class a$ extends Ol{constructor(t,n){super(t,n)}async getMessage(t,n){pn(t);let r=n;const{last_by_subj:i}=r;i&&(r=null);const o=r?this.jc.encode(r):Nn,s=this.opts.apiPrefix||"$JS.API",a=i?`${s}.DIRECT.GET.${t}.${i}`:`${s}.DIRECT.GET.${t}`,l=await this.nc.request(a,o),u=ms(l);if(u)return Promise.reject(u);const c=new Q_(l);return Promise.resolve(c)}}class Q_{constructor(t){b(this,"data");b(this,"header");if(!t.headers)throw new Error("headers expected");this.data=t.data,this.header=t.headers}get subject(){return this.header.get(os.Subject)}get seq(){const t=this.header.get(os.Sequence);return typeof t=="string"?parseInt(t):0}get time(){return new Date(Date.parse(this.timestamp))}get timestamp(){return this.header.get(os.TimeStamp)}get stream(){return this.header.get(os.Stream)}json(t){return dr(t).decode(this.data)}string(){return Pn.decode(this.data)}}b(Q_,"jc");class l$ extends Ol{constructor(n,r){super(n,r);b(this,"streams");b(this,"consumers");b(this,"direct");this.streams=new Xm(n,r),this.consumers=new Ym(n,r),this.direct=new a$(n,r)}async getAccountInfo(){return await this._request(`${this.prefix}.INFO`)}jetstream(){return this.nc.jetstream(this.getOptions())}advisories(){const n=new Qt;return this.nc.subscribe("$JS.EVENT.ADVISORY.>",{callback:(r,i)=>{if(r)throw r;try{const o=this.parseJsResponse(i),s=o.type.split("."),a=s[s.length-1];n.push({kind:a,data:o})}catch(o){n.stop(o)}}}),n}}const u$="$SRV";class N0{constructor(t){b(this,"msg");this.msg=t}get data(){return this.msg.data}get sid(){return this.msg.sid}get subject(){return this.msg.subject}get reply(){return this.msg.reply||""}get headers(){return this.msg.headers}respond(t,n){return this.msg.respond(t,n)}respondError(t,n,r,i){var o,s;return i=i||{},i.headers=i.headers||ei(),(o=i.headers)==null||o.set(bc,`${t}`),(s=i.headers)==null||s.set(_c,n),this.msg.respond(r,i)}json(t){return this.msg.json(t)}string(){return this.msg.string()}}class pl{constructor(t,n="",r=""){b(this,"subject");b(this,"queue");b(this,"srv");n!==""&&d$("service group",n);let i="";if(t instanceof Ml)this.srv=t,i="";else if(t instanceof pl){const o=t;this.srv=o.srv,r===""&&o.queue!==""&&(r=o.queue),i=o.subject}else throw new Error("unknown ServiceGroup type");this.subject=this.calcSubject(i,n),this.queue=r}calcSubject(t,n=""){return n===""?t:t!==""?`${t}.${n}`:n}addEndpoint(t="",n){n=n||{subject:t};const r=typeof n=="function"?{handler:n,subject:t}:n;Sa("endpoint",t);let{subject:i,handler:o,metadata:s,queue:a}=r;i=i||t,a=a||this.queue,c$("endpoint subject",i),i=this.calcSubject(this.subject,i);const l={name:t,subject:i,queue:a,handler:o,metadata:s};return this.srv._addEndpoint(l)}addGroup(t="",n=""){return new pl(this,t,n)}}function c$(e,t){if(t==="")throw new Error(`${e} cannot be empty`);if(t.indexOf(" ")!==-1)throw new Error(`${e} cannot contain spaces: '${t}'`);const n=t.split(".");n.forEach((r,i)=>{if(r===">"&&i!==n.length-1)throw new Error(`${e} cannot have internal '>': '${t}'`)})}function d$(e,t){if(t.indexOf(" ")!==-1)throw new Error(`${e} cannot contain spaces: '${t}'`);t.split(".").forEach(r=>{if(r===">")throw new Error(`${e} name cannot contain internal '>': '${t}'`)})}class Ml{constructor(t,n={name:"",version:""}){b(this,"nc");b(this,"_id");b(this,"config");b(this,"handlers");b(this,"internal");b(this,"_stopped");b(this,"_done");b(this,"started");this.nc=t,this.config=Object.assign({},n),this.config.queue||(this.config.queue="q"),Sa("name",this.config.name),Sa("queue",this.config.queue),fo(this.config.version),this._id=Al.next(),this.internal=[],this._done=yt(),this._stopped=!1,this.handlers=[],this.started=new Date().toISOString(),this.reset(),this.nc.closed().then(()=>{this.close().catch()}).catch(r=>{this.close(r).catch()})}static controlSubject(t,n="",r="",i){const o=i??u$;return n===""&&r===""?`${o}.${t}`:(Sa("control subject name",n),r!==""?(Sa("control subject id",r),`${o}.${t}.${n}.${r}`):`${o}.${t}.${n}`)}get subjects(){return this.handlers.filter(t=>t.internal===!1).map(t=>t.subject)}get id(){return this._id}get name(){return this.config.name}get description(){return this.config.description??""}get version(){return this.config.version}get metadata(){return this.config.metadata}errorToHeader(t){const n=ei();if(t instanceof Sc){const r=t;n.set(_c,r.message),n.set(bc,`${r.code}`)}else n.set(_c,t.message),n.set(bc,"500");return n}setupHandler(t,n=!1){const r=n?"":t.queue?t.queue:this.config.queue,{name:i,subject:o,handler:s}=t,a=t;a.internal=n,n&&this.internal.push(a),a.stats=new f$(i,o,r),a.queue=r;const l=s?(u,c)=>{if(u){this.close(u);return}const d=Date.now();try{s(u,new N0(c))}catch(f){a.stats.countError(f),c==null||c.respond(Nn,{headers:this.errorToHeader(f)})}finally{a.stats.countLatency(d)}}:void 0;return a.sub=this.nc.subscribe(o,{callback:l,queue:r}),a.sub.closed.then(()=>{this._stopped||this.close(new Error(`required subscription ${t.subject} stopped`)).catch()}).catch(u=>{if(!this._stopped){const c=new Error(`required subscription ${t.subject} errored: ${u.message}`);c.stack=u.stack,this.close(c).catch()}}),a}info(){return{type:ja.INFO,name:this.name,id:this.id,version:this.version,description:this.description,metadata:this.metadata,endpoints:this.endpoints()}}endpoints(){return this.handlers.map(t=>{const{subject:n,metadata:r,name:i,queue:o}=t;return{subject:n,metadata:r,name:i,queue_group:o}})}async stats(){const t=[];for(const n of this.handlers){if(typeof this.config.statsHandler=="function")try{n.stats.data=await this.config.statsHandler(n)}catch(r){n.stats.countError(r)}t.push(n.stats.stats(n.qi))}return{type:ja.STATS,name:this.name,id:this.id,version:this.version,started:this.started,metadata:this.metadata,endpoints:t}}addInternalHandler(t,n){const r=`${t}`.toUpperCase();this._doAddInternalHandler(`${r}-all`,t,n),this._doAddInternalHandler(`${r}-kind`,t,n,this.name),this._doAddInternalHandler(`${r}`,t,n,this.name,this.id)}_doAddInternalHandler(t,n,r,i="",o=""){const s={};s.name=t,s.subject=Ml.controlSubject(n,i,o),s.handler=r,this.setupHandler(s,!0)}start(){const t=dr(),n=(s,a)=>s?(this.close(s),Promise.reject(s)):this.stats().then(l=>(a==null||a.respond(t.encode(l)),Promise.resolve())),r=(s,a)=>s?(this.close(s),Promise.reject(s)):(a==null||a.respond(t.encode(this.info())),Promise.resolve()),i=t.encode(this.ping()),o=(s,a)=>s?(this.close(s).then().catch(),Promise.reject(s)):(a.respond(i),Promise.resolve());return this.addInternalHandler(Mi.PING,o),this.addInternalHandler(Mi.STATS,n),this.addInternalHandler(Mi.INFO,r),this.handlers.forEach(s=>{const{subject:a}=s;typeof a=="string"&&s.handler!==null&&this.setupHandler(s)}),Promise.resolve(this)}close(t){if(this._stopped)return this._done;this._stopped=!0;let n=[];return this.nc.isClosed()||(n=this.handlers.concat(this.internal).map(r=>r.sub.drain())),Promise.allSettled(n).then(()=>{this._done.resolve(t||null)}),this._done}get stopped(){return this._done}get isStopped(){return this._stopped}stop(t){return this.close(t)}ping(){return{type:ja.PING,name:this.name,id:this.id,version:this.version,metadata:this.metadata}}reset(){if(this.started=new Date().toISOString(),this.handlers)for(const t of this.handlers)t.stats.reset(t.qi)}addGroup(t,n){return new pl(this,t,n)}addEndpoint(t,n){return new pl(this).addEndpoint(t,n)}_addEndpoint(t){const n=new Qt;n.noIterator=typeof t.handler=="function",n.noIterator||(t.handler=(i,o)=>{i?this.stop(i).catch():n.push(new N0(o))},n.iterClosed.then(()=>{this.close().catch()}));const r=this.setupHandler(t,!1);return r.qi=n,this.handlers.push(r),n}}class f${constructor(t,n,r=""){b(this,"name");b(this,"subject");b(this,"average_processing_time");b(this,"num_requests");b(this,"processing_time");b(this,"num_errors");b(this,"last_error");b(this,"data");b(this,"metadata");b(this,"queue");this.name=t,this.subject=n,this.average_processing_time=0,this.num_errors=0,this.num_requests=0,this.processing_time=0,this.queue=r}reset(t){this.num_requests=0,this.processing_time=0,this.average_processing_time=0,this.num_errors=0,this.last_error=void 0,this.data=void 0;const n=t;n&&(n.time=0,n.processed=0)}countLatency(t){this.num_requests++,this.processing_time+=vt(Date.now()-t),this.average_processing_time=Math.round(this.processing_time/this.num_requests)}countError(t){this.num_errors++,this.last_error=t.message}_stats(){const{name:t,subject:n,average_processing_time:r,num_errors:i,num_requests:o,processing_time:s,last_error:a,data:l,queue:u}=this;return{name:t,subject:n,average_processing_time:r,num_errors:i,num_requests:o,processing_time:s,last_error:a,data:l,queue_group:u}}stats(t){const n=t;return(n==null?void 0:n.noIterator)===!1&&(this.processing_time=n.time,this.num_requests=n.processed,this.average_processing_time=this.processing_time>0&&this.num_requests>0?this.processing_time/this.num_requests:0),this._stats()}}class h${constructor(t,n={strategy:Cr.JitterTimer,maxWait:2e3},r){b(this,"nc");b(this,"prefix");b(this,"opts");this.nc=t,this.prefix=r,this.opts=n}ping(t="",n=""){return this.q(Mi.PING,t,n)}stats(t="",n=""){return this.q(Mi.STATS,t,n)}info(t="",n=""){return this.q(Mi.INFO,t,n)}async q(t,n="",r=""){const i=new Qt,o=dr(),s=Ml.controlSubject(t,n,r,this.prefix),a=await this.nc.requestMany(s,Nn,this.opts);return(async()=>{for await(const l of a)try{const u=o.decode(l.data);i.push(u)}catch(u){i.push(()=>{i.stop(u)})}i.push(()=>{i.stop()})})().catch(l=>{i.stop(l)}),i}}class eg{constructor(t){b(this,"options");b(this,"protocol");b(this,"draining");b(this,"listeners");b(this,"_services");this.draining=!1,this.options=u2(t),this.listeners=[]}static connect(t={}){return new Promise((n,r)=>{const i=new eg(t);Ec.connect(i.options,i).then(o=>{i.protocol=o,async function(){for await(const s of o.status())i.listeners.forEach(a=>{a.push(s)})}(),n(i)}).catch(o=>{r(o)})})}closed(){return this.protocol.closed}async close(){await this.protocol.close()}_check(t,n,r){if(this.isClosed())throw ye.errorForCode(te.ConnectionClosed);if(n&&this.isDraining()||r&&this.protocol.noMorePublishing)throw ye.errorForCode(te.ConnectionDraining);if(t=t||"",t.length===0)throw ye.errorForCode(te.BadSubject)}publish(t,n,r){this._check(t,!1,!0),this.protocol.publish(t,n,r)}subscribe(t,n={}){this._check(t,!0,!1);const r=new U_(this.protocol,t,n);return this.protocol.subscribe(r),r}_resub(t,n,r){this._check(n,!0,!1);const i=t;i.max=r,r&&(i.max=r+i.received),this.protocol.resub(i,n)}requestMany(t,n=Nn,r={maxWait:1e3,maxMessages:-1}){try{this._check(t,!0,!0)}catch(a){return Promise.reject(a)}if(r.strategy=r.strategy||Cr.Timer,r.maxWait=r.maxWait||1e3,r.maxWait<1)return Promise.reject(new ye("timeout",te.InvalidOption));const i=new Qt;function o(a){i.push(()=>{i.stop(a)})}function s(a,l){a||l===null?o(a===null?void 0:a):i.push(l)}if(r.noMux){const a=new Error().stack;let l=typeof r.maxMessages=="number"&&r.maxMessages>0?r.maxMessages:-1;const u=this.subscribe(Yr(this.options.inboxPrefix),{callback:(h,m)=>{var g,C;if(((g=m==null?void 0:m.data)==null?void 0:g.length)===0&&((C=m==null?void 0:m.headers)==null?void 0:C.status)===te.NoResponders&&(h=ye.errorForCode(te.NoResponders)),h){h.stack+=`

${a}`,c(h);return}s(null,m),r.strategy===Cr.Count&&(l--,l===0&&c()),r.strategy===Cr.JitterTimer&&(f(),d=setTimeout(()=>{c()},300)),r.strategy===Cr.SentinelMsg&&m&&m.data.length===0&&c()}});u.closed.then(()=>{o()}).catch(h=>{i.stop(h)});const c=h=>{h&&i.push(()=>{throw h}),f(),u.drain().then(()=>{o()}).catch(m=>{o()})};i.iterClosed.then(()=>{f(),u==null||u.unsubscribe()}).catch(h=>{f(),u==null||u.unsubscribe()});try{this.publish(t,n,{reply:u.getSubject()})}catch(h){c(h)}let d=setTimeout(()=>{c()},r.maxWait);const f=()=>{d&&clearTimeout(d)}}else{const a=r;a.callback=s,i.iterClosed.then(()=>{l.cancel()}).catch(u=>{l.cancel(u)});const l=new g2(this.protocol.muxSubscriptions,t,a);this.protocol.request(l);try{this.publish(t,n,{reply:`${this.protocol.muxSubscriptions.baseInbox}${l.token}`,headers:r.headers})}catch(u){l.cancel(u)}}return Promise.resolve(i)}request(t,n,r={timeout:1e3,noMux:!1}){try{this._check(t,!0,!0)}catch(i){return Promise.reject(i)}if(r.timeout=r.timeout||1e3,r.timeout<1)return Promise.reject(new ye("timeout",te.InvalidOption));if(!r.noMux&&r.reply)return Promise.reject(new ye("reply can only be used with noMux",te.InvalidOption));if(r.noMux){const i=r.reply?r.reply:Yr(this.options.inboxPrefix),o=yt(),s=new Error,a=this.subscribe(i,{max:1,timeout:r.timeout,callback:(l,u)=>{l?(l.code!==te.Timeout&&(l.stack+=`

${s.stack}`),o.reject(l)):(l=F_(u),l?(l.stack+=`

${s.stack}`,o.reject(l)):o.resolve(u))}});return a.requestSubject=t,this.protocol.publish(t,n,{reply:i,headers:r.headers}),o}else{const i=new z_(this.protocol.muxSubscriptions,t,r);this.protocol.request(i);try{this.publish(t,n,{reply:`${this.protocol.muxSubscriptions.baseInbox}${i.token}`,headers:r.headers})}catch(s){i.cancel(s)}const o=Promise.race([i.timer,i.deferred]);return o.catch(()=>{i.cancel()}),o}}flush(){return this.isClosed()?Promise.reject(ye.errorForCode(te.ConnectionClosed)):this.protocol.flush()}drain(){return this.isClosed()?Promise.reject(ye.errorForCode(te.ConnectionClosed)):this.isDraining()?Promise.reject(ye.errorForCode(te.ConnectionDraining)):(this.draining=!0,this.protocol.drain())}isClosed(){return this.protocol.isClosed()}isDraining(){return this.draining}getServer(){const t=this.protocol.getServer();return t?t.listen:""}status(){const t=new Qt;return t.iterClosed.then(()=>{const n=this.listeners.indexOf(t);this.listeners.splice(n,1)}),this.listeners.push(t),t}get info(){return this.protocol.isClosed()?void 0:this.protocol.info}stats(){return{inBytes:this.protocol.inBytes,outBytes:this.protocol.outBytes,inMsgs:this.protocol.inMsgs,outMsgs:this.protocol.outMsgs}}async jetstreamManager(t={}){const n=new l$(this,t);try{await n.getAccountInfo()}catch(r){const i=r;throw i.code===te.NoResponders&&(i.code=te.JetStreamNotEnabled),i}return n}jetstream(t={}){return new Qm(this,t)}getServerVersion(){const t=this.info;return t?fo(t.version):void 0}async rtt(){if(!this.protocol._closed&&!this.protocol.connected)throw ye.errorForCode(te.Disconnect);const t=Date.now();return await this.flush(),Date.now()-t}get features(){return this.protocol.features}get services(){return this._services||(this._services=new p$(this)),this._services}}class p${constructor(t){b(this,"nc");this.nc=t}add(t){try{return new Ml(this.nc,t).start()}catch(n){return Promise.reject(n)}}client(t,n){return new h$(this.nc,t,n)}}const m$="1.18.0",g$="nats.ws";class v${constructor(){b(this,"version");b(this,"lang");b(this,"closeError");b(this,"connected");b(this,"done");b(this,"socket");b(this,"options");b(this,"socketClosed");b(this,"encrypted");b(this,"peeked");b(this,"yields");b(this,"signal");b(this,"closedNotification");this.version=m$,this.lang=g$,this.connected=!1,this.done=!1,this.socketClosed=!1,this.encrypted=!1,this.peeked=!1,this.yields=[],this.signal=yt(),this.closedNotification=yt()}async connect(t,n){const r=yt();if(n.tls)return r.reject(new ye("tls",te.InvalidOption)),r;this.options=n;const i=t.src;if(n.wsFactory){const{socket:o,encrypted:s}=await n.wsFactory(t.src,n);this.socket=o,this.encrypted=s}else this.encrypted=i.indexOf("wss://")===0,this.socket=new WebSocket(i);return this.socket.binaryType="arraybuffer",this.socket.onopen=()=>{this.isDiscarded()},this.socket.onmessage=o=>{if(this.isDiscarded())return;if(this.yields.push(new Uint8Array(o.data)),this.peeked){this.signal.resolve();return}const s=As.concat(...this.yields),a=jP(s);if(a!==""){const l=f2.exec(a);if(!l){n.debug&&console.error("!!!",lu(s)),r.reject(new Error("unexpected response from server"));return}try{const u=JSON.parse(l[1]);c2(u,this.options),this.peeked=!0,this.connected=!0,this.signal.resolve(),r.resolve()}catch(u){r.reject(u);return}}},this.socket.onclose=o=>{if(this.isDiscarded())return;this.socketClosed=!0;let s;this.done||(o.wasClean||(s=new Error(o.reason)),this._closed(s))},this.socket.onerror=o=>{if(this.isDiscarded())return;const s=o,a=new ye(s.message,te.Unknown,new Error(s.error));r.reject(a)},r}disconnect(){this._closed(void 0,!0)}async _closed(t,n=!0){if(!this.isDiscarded()&&this.connected&&!this.done){if(this.closeError=t,!t)for(;!this.socketClosed&&this.socket.bufferedAmount>0;)await qm(100);this.done=!0;try{this.socket.close(t?1002:1e3,t?t.message:void 0)}catch{}n&&this.closedNotification.resolve(t)}}get isClosed(){return this.done}[Symbol.asyncIterator](){return this.iterate()}async*iterate(){for(;;){if(this.isDiscarded())return;this.yields.length===0&&await this.signal;const t=this.yields;this.yields=[];for(let n=0;n<t.length;n++)this.options.debug&&console.info(`> ${lu(t[n])}`),yield t[n];if(this.done)break;this.yields.length===0&&(t.length=0,this.yields=t,this.signal=yt())}}isEncrypted(){return this.connected&&this.encrypted}send(t){if(!this.isDiscarded())try{this.socket.send(t.buffer),this.options.debug&&console.info(`< ${lu(t)}`);return}catch(n){this.options.debug&&console.error(`!!! ${lu(t)}: ${n}`)}}close(t){return this._closed(t,!1)}closed(){return this.closedNotification}isDiscarded(){return this.done?(this.discard(),!0):!1}discard(){var t;this.done=!0;try{(t=this.socket)==null||t.close()}catch{}}}function y$(e){/^(.*:\/\/)(.*)/.test(e)||(e=`https://${e}`);let n=new URL(e);const r=n.protocol.toLowerCase();r!=="https:"&&r!=="http"&&(e=e.replace(/^(.*:\/\/)(.*)/gm,"$2"),n=new URL(`http://${e}`));let i,o;const s=n.hostname,a=n.pathname,l=n.search||"";switch(r){case"http:":case"ws:":case"nats:":o=n.port||"80",i="ws:";break;default:o=n.port||"443",i="wss:";break}return`${i}//${s}:${o}${a}${l}`}function j0(e={}){return OP({defaultPort:443,urlParseFn:y$,factory:()=>new v$}),eg.connect(e)}var cp=function(e,t){return cp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},cp(e,t)};function Hs(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");cp(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Sr=function(){return Sr=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Sr.apply(this,arguments)};function eb(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function w$(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function tb(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Ms(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function $c(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function ml(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function gs(e){return this instanceof gs?(this.v=e,this):new gs(e)}function x$(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(m,g){o.push([f,h,m,g])>1||a(f,h)})})}function a(f,h){try{l(r[f](h))}catch(m){d(o[0][3],m)}}function l(f){f.value instanceof gs?Promise.resolve(f.value.v).then(u,c):d(o[0][2],f)}function u(f){a("next",f)}function c(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _$(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ms=="function"?Ms(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}function Tt(e){return typeof e=="function"}function nb(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Mf=nb(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function dp(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Sd=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=Ms(s),l=a.next();!l.done;l=a.next()){var u=l.value;u.remove(this)}}catch(g){t={error:g}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else s.remove(this);var c=this.initialTeardown;if(Tt(c))try{c()}catch(g){o=g instanceof Mf?g.errors:[g]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var f=Ms(d),h=f.next();!h.done;h=f.next()){var m=h.value;try{F0(m)}catch(g){o=o??[],g instanceof Mf?o=ml(ml([],$c(o)),$c(g.errors)):o.push(g)}}}catch(g){r={error:g}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}}if(o)throw new Mf(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)F0(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&dp(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&dp(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),rb=Sd.EMPTY;function ib(e){return e instanceof Sd||e&&"closed"in e&&Tt(e.remove)&&Tt(e.add)&&Tt(e.unsubscribe)}function F0(e){Tt(e)?e():e.unsubscribe()}var ob={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},fp={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=fp.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,ml([e,t],$c(n))):setTimeout.apply(void 0,ml([e,t],$c(n)))},clearTimeout:function(e){var t=fp.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function sb(e){fp.setTimeout(function(){throw e})}function D0(){}function Fu(e){e()}var tg=function(e){Hs(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,ib(n)&&n.add(r)):r.destination=E$,r}return t.create=function(n,r,i){return new hp(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Sd),b$=Function.prototype.bind;function If(e,t){return b$.call(e,t)}var S$=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){fu(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){fu(r)}else fu(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){fu(n)}},e}(),hp=function(e){Hs(t,e);function t(n,r,i){var o=e.call(this)||this,s;if(Tt(n)||!n)s={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;o&&ob.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return o.unsubscribe()},s={next:n.next&&If(n.next,a),error:n.error&&If(n.error,a),complete:n.complete&&If(n.complete,a)}):s=n}return o.destination=new S$(s),o}return t}(tg);function fu(e){sb(e)}function C$(e){throw e}var E$={closed:!0,next:D0,error:C$,complete:D0},ng=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function rg(e){return e}function k$(e){return e.length===0?rg:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var Jn=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,o=P$(t)?t:new hp(t,n,r);return Fu(function(){var s=i,a=s.operator,l=s.source;o.add(a?a.call(o,l):l?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=L0(n),new n(function(i,o){var s=new hp({next:function(a){try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});r.subscribe(s)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[ng]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return k$(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=L0(t),new t(function(r,i){var o;n.subscribe(function(s){return o=s},function(s){return i(s)},function(){return r(o)})})},e.create=function(t){return new e(t)},e}();function L0(e){var t;return(t=e??ob.Promise)!==null&&t!==void 0?t:Promise}function R$(e){return e&&Tt(e.next)&&Tt(e.error)&&Tt(e.complete)}function P$(e){return e&&e instanceof tg||R$(e)&&ib(e)}function $$(e){return Tt(e==null?void 0:e.lift)}function Il(e){return function(t){if($$(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function gl(e,t,n,r,i){return new A$(e,t,n,r,i)}var A$=function(e){Hs(t,e);function t(n,r,i,o,s,a){var l=e.call(this,n)||this;return l.onFinalize=s,l.shouldUnsubscribe=a,l._next=r?function(u){try{r(u)}catch(c){n.error(c)}}:e.prototype._next,l._error=o?function(u){try{o(u)}catch(c){n.error(c)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=i?function(){try{i()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,l}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(tg),O$=nb(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Ac=function(e){Hs(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new U0(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new O$},t.prototype.next=function(n){var r=this;Fu(function(){var i,o;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=Ms(r.currentObservers),a=s.next();!a.done;a=s.next()){var l=a.value;l.next(n)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}})},t.prototype.error=function(n){var r=this;Fu(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},t.prototype.complete=function(){var n=this;Fu(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,i=this,o=i.hasError,s=i.isStopped,a=i.observers;return o||s?rb:(this.currentObservers=null,a.push(n),new Sd(function(){r.currentObservers=null,dp(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,o=r.thrownError,s=r.isStopped;i?n.error(o):s&&n.complete()},t.prototype.asObservable=function(){var n=new Jn;return n.source=this,n},t.create=function(n,r){return new U0(n,r)},t}(Jn),U0=function(e){Hs(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},t.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:rb},t}(Ac),M$=function(e){Hs(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,o=n._value;if(r)throw i;return this._throwIfClosed(),o},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(Ac),I$=new Jn(function(e){return e.complete()});function T$(e){return e&&Tt(e.schedule)}function ab(e){return e[e.length-1]}function N$(e){return T$(ab(e))?e.pop():void 0}function j$(e,t){return typeof ab(e)=="number"?e.pop():t}var lb=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function ub(e){return Tt(e==null?void 0:e.then)}function cb(e){return Tt(e[ng])}function db(e){return Symbol.asyncIterator&&Tt(e==null?void 0:e[Symbol.asyncIterator])}function fb(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function F$(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var hb=F$();function pb(e){return Tt(e==null?void 0:e[hb])}function mb(e){return x$(this,arguments,function(){var n,r,i,o;return tb(this,function(s){switch(s.label){case 0:n=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,gs(n.read())];case 3:return r=s.sent(),i=r.value,o=r.done,o?[4,gs(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,gs(i)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function gb(e){return Tt(e==null?void 0:e.getReader)}function qs(e){if(e instanceof Jn)return e;if(e!=null){if(cb(e))return D$(e);if(lb(e))return L$(e);if(ub(e))return U$(e);if(db(e))return vb(e);if(pb(e))return V$(e);if(gb(e))return z$(e)}throw fb(e)}function D$(e){return new Jn(function(t){var n=e[ng]();if(Tt(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function L$(e){return new Jn(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function U$(e){return new Jn(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,sb)})}function V$(e){return new Jn(function(t){var n,r;try{for(var i=Ms(e),o=i.next();!o.done;o=i.next()){var s=o.value;if(t.next(s),t.closed)return}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function vb(e){return new Jn(function(t){B$(e,t).catch(function(n){return t.error(n)})})}function z$(e){return vb(mb(e))}function B$(e,t){var n,r,i,o;return w$(this,void 0,void 0,function(){var s,a;return tb(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=_$(e),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),i={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Ni(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function yb(e,t){return t===void 0&&(t=0),Il(function(n,r){n.subscribe(gl(r,function(i){return Ni(r,e,function(){return r.next(i)},t)},function(){return Ni(r,e,function(){return r.complete()},t)},function(i){return Ni(r,e,function(){return r.error(i)},t)}))})}function wb(e,t){return t===void 0&&(t=0),Il(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function H$(e,t){return qs(e).pipe(wb(t),yb(t))}function q$(e,t){return qs(e).pipe(wb(t),yb(t))}function W$(e,t){return new Jn(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function G$(e,t){return new Jn(function(n){var r;return Ni(n,t,function(){r=e[hb](),Ni(n,t,function(){var i,o,s;try{i=r.next(),o=i.value,s=i.done}catch(a){n.error(a);return}s?n.complete():n.next(o)},0,!0)}),function(){return Tt(r==null?void 0:r.return)&&r.return()}})}function xb(e,t){if(!e)throw new Error("Iterable cannot be null");return new Jn(function(n){Ni(n,t,function(){var r=e[Symbol.asyncIterator]();Ni(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function K$(e,t){return xb(mb(e),t)}function Y$(e,t){if(e!=null){if(cb(e))return H$(e,t);if(lb(e))return W$(e,t);if(ub(e))return q$(e,t);if(db(e))return xb(e,t);if(pb(e))return G$(e,t);if(gb(e))return K$(e,t)}throw fb(e)}function Z$(e,t){return t?Y$(e,t):qs(e)}function _b(e,t){return Il(function(n,r){var i=0;n.subscribe(gl(r,function(o){r.next(e.call(t,o,i++))}))})}function J$(e,t,n,r,i,o,s,a){var l=[],u=0,c=0,d=!1,f=function(){d&&!l.length&&!u&&t.complete()},h=function(g){return u<r?m(g):l.push(g)},m=function(g){o&&t.next(g),u++;var C=!1;qs(n(g,c++)).subscribe(gl(t,function(y){i==null||i(y),o?h(y):t.next(y)},function(){C=!0},void 0,function(){if(C)try{u--;for(var y=function(){var p=l.shift();s?Ni(t,s,function(){return m(p)}):m(p)};l.length&&u<r;)y();f()}catch(p){t.error(p)}}))};return e.subscribe(gl(t,h,function(){d=!0,f()})),function(){a==null||a()}}function bb(e,t,n){return n===void 0&&(n=1/0),Tt(t)?bb(function(r,i){return _b(function(o,s){return t(r,o,i,s)})(qs(e(r,i)))},n):(typeof t=="number"&&(n=t),Il(function(r,i){return J$(r,i,e,n)}))}function X$(e){return e===void 0&&(e=1/0),bb(rg,e)}function Q$(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=N$(e),r=j$(e,1/0),i=e;return i.length?i.length===1?qs(i[0]):X$(r)(Z$(i,n)):I$}function eA(e,t,n){var r=Tt(e)||t||n?{next:e,error:t,complete:n}:e;return r?Il(function(i,o){var s;(s=r.subscribe)===null||s===void 0||s.call(r);var a=!0;i.subscribe(gl(o,function(l){var u;(u=r.next)===null||u===void 0||u.call(r,l),o.next(l)},function(){var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},function(l){var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),o.error(l)},function(){var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):rg}const Vr=class Vr{constructor(){b(this,"connection");b(this,"config",{latticeUrl:{}.VITE_NATS_WEBSOCKET_URL||"ws://localhost:4001"});this.configureConnection()}set latticeUrl(t){this.config.latticeUrl=t,this.configureConnection()}get latticeUrl(){return this.config.latticeUrl}static getInstance(){return Vr.instance||(Vr.instance=new Vr),Vr.instance}getLatticeCache$(){const t=new M$({hosts:{},actors:{},providers:{},links:[]});return Q$(this.wadmState$(),this.linkState$()).pipe(_b(n=>bP(t.getValue(),r=>({...r,...n}))),eA(n=>t.next(n))).subscribe(),t}linkState$(){const t=new Ac;return(async()=>{const n=await this.waitForConnection(),r=await n.request("wasmbus.ctl.default.get.links");t.next(r.json());const i=await n.subscribe("wasmbus.evt.default");for await(const o of i)switch(o.json().type){case"com.wasmcloud.lattice.linkdef_set":case"com.wasmcloud.lattice.linkdef_deleted":{const a=await n.request("wasmbus.ctl.default.get.links");t.next(a.json())}}t.complete()})(),t}wadmState$(){const t=new Ac;return(async()=>{const i=await(await(await this.waitForConnection()).jetstream().views.kv("wadm_state")).watch();for await(const o of i)switch(o.key){case"host_default":{t.next({hosts:o.json()});break}case"actor_default":{t.next({actors:o.json()});break}case"provider_default":{t.next({providers:o.json()});break}}t.complete()})(),t}async configureConnection(){var t;await((t=this.connection)==null?void 0:t.drain().catch(()=>null)),this.connection=await j0({servers:this.latticeUrl}),this.connection.closed().then(n=>{n&&console.error(`closed with an error: ${n.message}`)})}async testConnection(t){try{return await(await j0({servers:t})).close(),!0}catch{return!1}}waitForConnection(t=0){return new Promise((n,r)=>{if(t>=Vr.RETRY_COUNT){r(new Error("Could not connect to lattice"));return}try{this.connection?n(this.connection):setTimeout(()=>{n(this.waitForConnection(t+1))},100)}catch(i){r(i)}})}};b(Vr,"instance"),b(Vr,"RETRY_COUNT",10);let vl=Vr;function Tl(){const e=v.useMemo(()=>vl.getInstance(),[]),[t,n]=v.useState({hosts:{},actors:{},providers:{},links:[]});return v.useDebugValue(t),v.useEffect(()=>{const r=e.getLatticeCache$().subscribe(n);return()=>{r.unsubscribe()}},[e]),t}function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pe.apply(this,arguments)}function Ot(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Ws(e,t=[]){let n=[];function r(o,s){const a=v.createContext(s),l=n.length;n=[...n,s];function u(d){const{scope:f,children:h,...m}=d,g=(f==null?void 0:f[e][l])||a,C=v.useMemo(()=>m,Object.values(m));return v.createElement(g.Provider,{value:C},h)}function c(d,f){const h=(f==null?void 0:f[e][l])||a,m=v.useContext(h);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,c]}const i=()=>{const o=n.map(s=>v.createContext(s));return function(a){const l=(a==null?void 0:a[e])||o;return v.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return i.scopeName=e,[r,tA(i,...t)]}function tA(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:u})=>{const d=l(o)[`__scope${u}`];return{...a,...d}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function ti(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function Is({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=nA({defaultProp:t,onChange:n}),o=e!==void 0,s=o?e:r,a=ti(n),l=v.useCallback(u=>{if(o){const d=typeof u=="function"?u(e):u;d!==e&&a(d)}else i(u)},[o,e,i,a]);return[s,l]}function nA({defaultProp:e,onChange:t}){const n=v.useState(e),[r]=n,i=v.useRef(r),o=ti(t);return v.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}const Xn=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{};function rA(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Sb(...e){return t=>e.forEach(n=>rA(n,t))}function Lt(...e){return v.useCallback(Sb(...e),e)}const ni=v.forwardRef((e,t)=>{const{children:n,...r}=e,i=v.Children.toArray(n),o=i.find(oA);if(o){const s=o.props.children,a=i.map(l=>l===o?v.Children.count(s)>1?v.Children.only(null):v.isValidElement(s)?s.props.children:null:l);return v.createElement(pp,Pe({},r,{ref:t}),v.isValidElement(s)?v.cloneElement(s,void 0,a):null)}return v.createElement(pp,Pe({},r,{ref:t}),n)});ni.displayName="Slot";const pp=v.forwardRef((e,t)=>{const{children:n,...r}=e;return v.isValidElement(n)?v.cloneElement(n,{...sA(r,n.props),ref:t?Sb(t,n.ref):n.ref}):v.Children.count(n)>1?v.Children.only(null):null});pp.displayName="SlotClone";const iA=({children:e})=>v.createElement(v.Fragment,null,e);function oA(e){return v.isValidElement(e)&&e.type===iA}function sA(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}const aA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],_t=aA.reduce((e,t)=>{const n=v.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?ni:t;return v.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),v.createElement(a,Pe({},s,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function lA(e,t){e&&Ro.flushSync(()=>e.dispatchEvent(t))}function uA(e,t){return v.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const Cd=e=>{const{present:t,children:n}=e,r=cA(t),i=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),o=Lt(r.ref,i.ref);return typeof n=="function"||r.isPresent?v.cloneElement(i,{ref:o}):null};Cd.displayName="Presence";function cA(e){const[t,n]=v.useState(),r=v.useRef({}),i=v.useRef(e),o=v.useRef("none"),s=e?"mounted":"unmounted",[a,l]=uA(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=hu(r.current);o.current=a==="mounted"?u:"none"},[a]),Xn(()=>{const u=r.current,c=i.current;if(c!==e){const f=o.current,h=hu(u);e?l("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&f!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Xn(()=>{if(t){const u=d=>{const h=hu(r.current).includes(d.animationName);d.target===t&&h&&Ro.flushSync(()=>l("ANIMATION_END"))},c=d=>{d.target===t&&(o.current=hu(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function hu(e){return(e==null?void 0:e.animationName)||"none"}const dA=Yy["useId".toString()]||(()=>{});let fA=0;function Nl(e){const[t,n]=v.useState(dA());return Xn(()=>{e||n(r=>r??String(fA++))},[e]),e||(t?`radix-${t}`:"")}const Cb="Collapsible",[hA,Eb]=Ws(Cb),[pA,ig]=hA(Cb),mA=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:o,onOpenChange:s,...a}=e,[l=!1,u]=Is({prop:r,defaultProp:i,onChange:s});return v.createElement(pA,{scope:n,disabled:o,contentId:Nl(),open:l,onOpenToggle:v.useCallback(()=>u(c=>!c),[u])},v.createElement(_t.div,Pe({"data-state":og(l),"data-disabled":o?"":void 0},a,{ref:t})))}),gA="CollapsibleTrigger",vA=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=ig(gA,n);return v.createElement(_t.button,Pe({type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":og(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled},r,{ref:t,onClick:Ot(e.onClick,i.onOpenToggle)}))}),kb="CollapsibleContent",Rb=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ig(kb,e.__scopeCollapsible);return v.createElement(Cd,{present:n||i.open},({present:o})=>v.createElement(yA,Pe({},r,{ref:t,present:o})))}),yA=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...o}=e,s=ig(kb,n),[a,l]=v.useState(r),u=v.useRef(null),c=Lt(t,u),d=v.useRef(0),f=d.current,h=v.useRef(0),m=h.current,g=s.open||a,C=v.useRef(g),y=v.useRef();return v.useEffect(()=>{const p=requestAnimationFrame(()=>C.current=!1);return()=>cancelAnimationFrame(p)},[]),Xn(()=>{const p=u.current;if(p){y.current=y.current||{transitionDuration:p.style.transitionDuration,animationName:p.style.animationName},p.style.transitionDuration="0s",p.style.animationName="none";const w=p.getBoundingClientRect();d.current=w.height,h.current=w.width,C.current||(p.style.transitionDuration=y.current.transitionDuration,p.style.animationName=y.current.animationName),l(r)}},[s.open,r]),v.createElement(_t.div,Pe({"data-state":og(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!g},o,{ref:c,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":m?`${m}px`:void 0,...e.style}}),g&&i)});function og(e){return e?"open":"closed"}const Pb=mA,$b=vA,wA=Rb,Ab=v.createContext({open:!1,setOpen:()=>null}),sg=v.forwardRef((e,t)=>{const[n,r]=v.useState(!1);return R.jsx(Ab.Provider,{value:{open:n,setOpen:r},children:R.jsx(Pb,{open:n,onOpenChange:r,ref:t,...e})})});sg.displayName="Collapsible";const ag=v.forwardRef(({children:e,...t},n)=>{const{open:r,setOpen:i}=v.useContext(Ab);return R.jsx($b,{onClick:()=>i(o=>!o),onKeyDown:o=>i(o.key==="Enter"||o.key===" "),ref:n,tabIndex:0,role:"button",...t,children:typeof e=="function"?e(r):e})});ag.displayName="CollapsibleTrigger";const Ob=Rb;function Mb(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Mb(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Ib(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Mb(e))&&(r&&(r+=" "),r+=t);return r}function xA(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=Tb(t))&&(r&&(r+=" "),r+=n);return r}function Tb(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=Tb(e[r]))&&(n&&(n+=" "),n+=t);return n}var lg="-";function _A(e){var t=SA(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,i=r===void 0?{}:r;function o(a){var l=a.split(lg);return l[0]===""&&l.length!==1&&l.shift(),Nb(l,t)||bA(a)}function s(a,l){var u=n[a]||[];return l&&i[a]?[].concat(u,i[a]):u}return{getClassGroupId:o,getConflictingClassGroupIds:s}}function Nb(e,t){var s;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),i=r?Nb(e.slice(1),r):void 0;if(i)return i;if(t.validators.length!==0){var o=e.join(lg);return(s=t.validators.find(function(a){var l=a.validator;return l(o)}))==null?void 0:s.classGroupId}}var V0=/^\[(.+)\]$/;function bA(e){if(V0.test(e)){var t=V0.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function SA(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},i=EA(Object.entries(e.classGroups),n);return i.forEach(function(o){var s=o[0],a=o[1];mp(a,r,s,t)}),r}function mp(e,t,n,r){e.forEach(function(i){if(typeof i=="string"){var o=i===""?t:z0(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(CA(i)){mp(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(s){var a=s[0],l=s[1];mp(l,z0(t,a),n,r)})})}function z0(e,t){var n=e;return t.split(lg).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function CA(e){return e.isThemeGetter}function EA(e,t){return t?e.map(function(n){var r=n[0],i=n[1],o=i.map(function(s){return typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(function(a){var l=a[0],u=a[1];return[t+l,u]})):s});return[r,o]}):e}function kA(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function i(o,s){n.set(o,s),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(s){var a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set:function(s,a){n.has(s)?n.set(s,a):i(s,a)}}}var jb="!";function RA(e){var t=e.separator||":",n=t.length===1,r=t[0],i=t.length;return function(s){for(var a=[],l=0,u=0,c,d=0;d<s.length;d++){var f=s[d];if(l===0){if(f===r&&(n||s.slice(d,d+i)===t)){a.push(s.slice(u,d)),u=d+i;continue}if(f==="/"){c=d;continue}}f==="["?l++:f==="]"&&l--}var h=a.length===0?s:s.substring(u),m=h.startsWith(jb),g=m?h.substring(1):h,C=c&&c>u?c-u:void 0;return{modifiers:a,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:C}}}function PA(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var i=r[0]==="[";i?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function $A(e){return{cache:kA(e.cacheSize),splitModifiers:RA(e),..._A(e)}}var AA=/\s+/;function OA(e,t){var n=t.splitModifiers,r=t.getClassGroupId,i=t.getConflictingClassGroupIds,o=new Set;return e.trim().split(AA).map(function(s){var a=n(s),l=a.modifiers,u=a.hasImportantModifier,c=a.baseClassName,d=a.maybePostfixModifierPosition,f=r(d?c.substring(0,d):c),h=!!d;if(!f){if(!d)return{isTailwindClass:!1,originalClassName:s};if(f=r(c),!f)return{isTailwindClass:!1,originalClassName:s};h=!1}var m=PA(l).join(":"),g=u?m+jb:m;return{isTailwindClass:!0,modifierId:g,classGroupId:f,originalClassName:s,hasPostfixModifier:h}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var a=s.modifierId,l=s.classGroupId,u=s.hasPostfixModifier,c=a+l;return o.has(c)?!1:(o.add(c),i(l,u).forEach(function(d){return o.add(a+d)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function MA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i,o,s=a;function a(u){var c=t[0],d=t.slice(1),f=d.reduce(function(h,m){return m(h)},c());return r=$A(f),i=r.cache.get,o=r.cache.set,s=l,l(u)}function l(u){var c=i(u);if(c)return c;var d=OA(u,r);return o(u,d),d}return function(){return s(xA.apply(null,arguments))}}function at(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var Fb=/^\[(?:([a-z-]+):)?(.+)\]$/i,IA=/^\d+\/\d+$/,TA=new Set(["px","full","screen"]),NA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FA=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function nr(e){return so(e)||TA.has(e)||IA.test(e)||gp(e)}function gp(e){return $o(e,"length",BA)}function DA(e){return $o(e,"size",Db)}function LA(e){return $o(e,"position",Db)}function UA(e){return $o(e,"url",HA)}function pu(e){return $o(e,"number",so)}function so(e){return!Number.isNaN(Number(e))}function VA(e){return e.endsWith("%")&&so(e.slice(0,-1))}function ha(e){return B0(e)||$o(e,"number",B0)}function Ve(e){return Fb.test(e)}function pa(){return!0}function fi(e){return NA.test(e)}function zA(e){return $o(e,"",qA)}function $o(e,t,n){var r=Fb.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function BA(e){return jA.test(e)}function Db(){return!1}function HA(e){return e.startsWith("url(")}function B0(e){return Number.isInteger(Number(e))}function qA(e){return FA.test(e)}function WA(){var e=at("colors"),t=at("spacing"),n=at("blur"),r=at("brightness"),i=at("borderColor"),o=at("borderRadius"),s=at("borderSpacing"),a=at("borderWidth"),l=at("contrast"),u=at("grayscale"),c=at("hueRotate"),d=at("invert"),f=at("gap"),h=at("gradientColorStops"),m=at("gradientColorStopPositions"),g=at("inset"),C=at("margin"),y=at("opacity"),p=at("padding"),w=at("saturate"),_=at("scale"),P=at("sepia"),I=at("skew"),M=at("space"),j=at("translate"),W=function(){return["auto","contain","none"]},K=function(){return["auto","hidden","clip","visible","scroll"]},ae=function(){return["auto",Ve,t]},V=function(){return[Ve,t]},X=function(){return["",nr]},Q=function(){return["auto",so,Ve]},we=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},ie=function(){return["solid","dashed","dotted","double","none"]},$e=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},B=function(){return["start","end","center","between","around","evenly","stretch"]},ee=function(){return["","0",Ve]},ce=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},Ee=function(){return[so,pu]},Ne=function(){return[so,Ve]};return{cacheSize:500,theme:{colors:[pa],spacing:[nr],blur:["none","",fi,Ve],brightness:Ee(),borderColor:[e],borderRadius:["none","","full",fi,Ve],borderSpacing:V(),borderWidth:X(),contrast:Ee(),grayscale:ee(),hueRotate:Ne(),invert:ee(),gap:V(),gradientColorStops:[e],gradientColorStopPositions:[VA,gp],inset:ae(),margin:ae(),opacity:Ee(),padding:V(),saturate:Ee(),scale:Ee(),sepia:ee(),skew:Ne(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",Ve]}],container:["container"],columns:[{columns:[fi]}],"break-after":[{"break-after":ce()}],"break-before":[{"break-before":ce()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(we(),[Ve])}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:W()}],"overscroll-x":[{"overscroll-x":W()}],"overscroll-y":[{"overscroll-y":W()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ha]}],basis:[{basis:ae()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ve]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",ha]}],"grid-cols":[{"grid-cols":[pa]}],"col-start-end":[{col:["auto",{span:["full",ha]},Ve]}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":[pa]}],"row-start-end":[{row:["auto",{span:[ha]},Ve]}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ve]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal"].concat(B())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(B(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(B(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ve,t]}],"min-w":[{"min-w":["min","max","fit",Ve,nr]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[fi]},fi,Ve]}],h:[{h:[Ve,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Ve,nr]}],"max-h":[{"max-h":[Ve,t,"min","max","fit"]}],"font-size":[{text:["base",fi,gp]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",pu]}],"font-family":[{font:[pa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ve]}],"line-clamp":[{"line-clamp":["none",so,pu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ve,nr]}],"list-image":[{"list-image":["none",Ve]}],"list-style-type":[{list:["none","disc","decimal",Ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(ie(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",nr]}],"underline-offset":[{"underline-offset":["auto",Ve,nr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(we(),[LA])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",DA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},UA]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[].concat(ie(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:ie()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(ie())}],"outline-offset":[{"outline-offset":[Ve,nr]}],"outline-w":[{outline:[nr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[nr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",fi,zA]}],"shadow-color":[{shadow:[pa]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":$e()}],"bg-blend":[{"bg-blend":$e()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",fi,Ve]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ve]}],duration:[{duration:Ne()}],ease:[{ease:["linear","in","out","in-out",Ve]}],delay:[{delay:Ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[ha,Ve]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[I]}],"skew-y":[{"skew-y":[I]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ve]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[nr,pu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var GA=MA(WA);function ze(...e){return GA(Ib(e))}const H0=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,q0=Ib,jl=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return q0(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=t,s=Object.keys(i).map(u=>{const c=n==null?void 0:n[u],d=o==null?void 0:o[u];if(c===null)return null;const f=H0(c)||H0(d);return i[u][f]}),a=n&&Object.entries(n).reduce((u,c)=>{let[d,f]=c;return f===void 0||(u[d]=f),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,c)=>{let{class:d,className:f,...h}=c;return Object.entries(h).every(m=>{let[g,C]=m;return Array.isArray(C)?C.includes({...o,...a}[g]):{...o,...a}[g]===C})?[...u,d,f]:u},[]);return q0(e,s,l,n==null?void 0:n.class,n==null?void 0:n.className)},KA=jl("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ed=v.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},o)=>{const s=r?ni:"button";return R.jsx(s,{className:ze(KA({variant:t,size:n,className:e})),ref:o,...i})});Ed.displayName="Button";const Lb=v.forwardRef(({asChild:e,onClick:t,children:n,className:r,...i},o)=>{const s=e?ni:Ed,[a,l]=v.useState(!1);v.useEffect(()=>{if(a){const d=setTimeout(()=>l(!1),2e3);return()=>clearTimeout(d)}},[a]);const u=d=>{navigator.clipboard.writeText(i.text),l(!0),t==null||t(d)};if(n)return R.jsx(s,{ref:o,onClick:u,...i,children:typeof n=="function"?n(a):n});const c=ze("w-3 h-3");return R.jsx(s,{ref:o,onClick:u,...i,className:ze("h-6 w-6",r),children:a?R.jsx(bR,{className:c}):R.jsx(SR,{className:c})})});Lb.displayName="CopyButton";const bo=({text:e,className:t})=>R.jsxs("div",{className:"flex items-center",children:[R.jsx("div",{className:ze("relative me-2 w-20 overflow-hidden font-mono [mask-image:linear-gradient(to_right,white_calc(100%-3rem),transparent_100%)]",t),children:e}),R.jsx(Lb,{text:e,variant:"outline",size:"icon"})]}),Fl=v.forwardRef(({className:e,...t},n)=>R.jsx("div",{className:"w-full overflow-auto",children:R.jsx("table",{ref:n,className:ze("w-full caption-bottom text-sm",e),...t})}));Fl.displayName="Table";const kd=v.forwardRef(({className:e,...t},n)=>R.jsx("thead",{ref:n,className:ze("[&_tr]:border-b",e),...t}));kd.displayName="TableHeader";const Dl=v.forwardRef(({className:e,...t},n)=>R.jsx("tbody",{ref:n,className:ze("[&_tr:last-child]:border-0",e),...t}));Dl.displayName="TableBody";const YA=v.forwardRef(({className:e,...t},n)=>R.jsx("tfoot",{ref:n,className:ze("bg-primary font-medium text-primary-foreground",e),...t}));YA.displayName="TableFooter";const Bt=v.forwardRef(({className:e,...t},n)=>R.jsx("tr",{ref:n,className:ze("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Bt.displayName="TableRow";const _r=v.forwardRef(({className:e,...t},n)=>R.jsx("th",{ref:n,className:ze("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));_r.displayName="TableHead";const an=v.forwardRef(({className:e,...t},n)=>R.jsx("td",{ref:n,className:ze("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));an.displayName="TableCell";const ZA=v.forwardRef(({className:e,...t},n)=>R.jsx("caption",{ref:n,className:ze("mt-4 text-sm text-muted-foreground",e),...t}));ZA.displayName="TableCaption";function W0(e){return Object.values(e).reduce((t,n)=>t+n.length,0)}const Ji=Fm(),G0=[Ji.display({id:"expand",cell:()=>R.jsx(ag,{className:"flex place-items-center",asChild:!0,children:e=>e?R.jsx(p_,{className:"h-4 w-4"}):R.jsx(m_,{className:"h-4 w-4"})}),meta:{baseRow:"visible",expandedRow:"empty"}}),Ji.accessor("name",{header:"Name",meta:{baseRow:"visible",expandedRow:"empty"}}),Ji.accessor("instances",{header:"Hosts",id:"hosts",cell:e=>Object.keys(e.getValue()).length.toString(),meta:{baseRow:"visible",expandedRow:"hidden"}}),Ji.accessor("instances",{header:"Hosts",id:"hosts-expanded",cell:e=>Object.keys(e.getValue()).length.toString(),meta:{baseRow:"hidden",expandedRow:"visible",expandedCell:e=>()=>R.jsx(bo,{text:e})}}),Ji.accessor("instances",{header:"Count",id:"count",cell:e=>W0(e.getValue()),meta:{baseRow:"visible",expandedRow:"hidden"}}),Ji.accessor("instances",{header:"Count",id:"count-expanded",cell:e=>W0(e.getValue()),meta:{baseRow:"hidden",expandedRow:"visible",expandedCell:(e,t)=>()=>t.length}}),Ji.accessor("id",{header:"ID",cell:e=>R.jsx(bo,{text:e.getValue()}),meta:{baseRow:"visible",expandedRow:"empty"}})];function JA(){var o;const{actors:e}=Tl(),t=Object.values(e),[n,r]=v.useState([]),i=zm({data:t,columns:G0,onSortingChange:r,getCoreRowModel:Dm(),getPaginationRowModel:Vm(),getSortedRowModel:Um(),getFilteredRowModel:Lm(),state:{sorting:n}});return R.jsx("div",{children:R.jsx("div",{className:"w-full",children:R.jsx("div",{className:"rounded-md border bg-primary-foreground",children:R.jsxs(Fl,{children:[R.jsx(kd,{children:i.getHeaderGroups().map(s=>R.jsx(Bt,{children:s.headers.map(a=>{var l;return((l=a.column.columnDef.meta)==null?void 0:l.baseRow)==="hidden"?null:R.jsx(_r,{className:"bg-seafoam-700 text-seafoam-100 first:rounded-tl-sm last:rounded-tr-sm",children:a.isPlaceholder?null:Oi(a.column.columnDef.header,a.getContext())},a.id)})},s.id))}),R.jsx(Dl,{children:(o=i.getRowModel().rows)!=null&&o.length?i.getRowModel().rows.map(s=>R.jsx(sg,{asChild:!0,children:R.jsxs(v.Fragment,{children:[R.jsx(Bt,{children:s.getVisibleCells().map(a=>{var l,u;return((l=a.column.columnDef.meta)==null?void 0:l.baseRow)==="hidden"?null:R.jsx(an,{children:((u=a.column.columnDef.meta)==null?void 0:u.baseRow)==="empty"?null:Oi(a.column.columnDef.cell,a.getContext())},a.id)})}),R.jsx(Ob,{asChild:!0,children:R.jsx(v.Fragment,{children:Object.keys(s.getValue("hosts-expanded")).length>0&&Object.entries(s.getValue("hosts-expanded")).sort((a,l)=>a[0]>l[0]?1:-1).map(([a,l])=>R.jsx(Bt,{"data-expanded":"true",children:s.getVisibleCells().map(u=>{var c,d,f,h;return((c=u.column.columnDef.meta)==null?void 0:c.expandedRow)==="hidden"?null:R.jsx(an,{children:((d=u.column.columnDef.meta)==null?void 0:d.expandedRow)==="empty"?null:Oi(((h=(f=u.column.columnDef.meta)==null?void 0:f.expandedCell)==null?void 0:h.call(f,a,l))??u.column.columnDef.cell,u.getContext())},u.id)})},s.id+"-"+a))})})]})},s.id)):R.jsx(Bt,{children:R.jsx(an,{colSpan:G0.length,className:"h-24 text-center",children:"No results."})})})]})})})})}function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function Lr(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Ct(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function nt(e){Ct(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Oc(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function XA(e,t){Ct(2,arguments);var n=nt(e),r=Lr(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function QA(e,t){Ct(2,arguments);var n=nt(e),r=Lr(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var s=o.getDate();return i>=s?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}function ma(e,t){if(Ct(2,arguments),!t||Oc(t)!=="object")return new Date(NaN);var n=t.years?Lr(t.years):0,r=t.months?Lr(t.months):0,i=t.weeks?Lr(t.weeks):0,o=t.days?Lr(t.days):0,s=t.hours?Lr(t.hours):0,a=t.minutes?Lr(t.minutes):0,l=t.seconds?Lr(t.seconds):0,u=nt(e),c=r||n?QA(u,r+n*12):u,d=o||i?XA(c,o+i*7):c,f=a+s*60,h=l+f*60,m=h*1e3,g=new Date(d.getTime()+m);return g}var eO={};function Ub(){return eO}function Mc(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function K0(e){Ct(1,arguments);var t=nt(e);return t.setHours(0,0,0,0),t}var tO=864e5;function nO(e,t){Ct(2,arguments);var n=K0(e),r=K0(t),i=n.getTime()-Mc(n),o=r.getTime()-Mc(r);return Math.round((i-o)/tO)}function ho(e,t){Ct(2,arguments);var n=nt(e),r=nt(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}var rO=6e4,iO=36e5;function oO(e,t){Ct(2,arguments);var n=nt(e),r=nt(t),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}function sO(e,t){Ct(2,arguments);var n=nt(e),r=nt(t);return n.getFullYear()-r.getFullYear()}function Y0(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function aO(e,t){Ct(2,arguments);var n=nt(e),r=nt(t),i=Y0(n,r),o=Math.abs(nO(n,r));n.setDate(n.getDate()-i*o);var s=+(Y0(n,r)===-i),a=i*(o-s);return a===0?0:a}function ug(e,t){return Ct(2,arguments),nt(e).getTime()-nt(t).getTime()}var Z0={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},lO="trunc";function cg(e){return e?Z0[e]:Z0[lO]}function uO(e,t,n){Ct(2,arguments);var r=ug(e,t)/iO;return cg(n==null?void 0:n.roundingMethod)(r)}function cO(e,t,n){Ct(2,arguments);var r=ug(e,t)/rO;return cg(n==null?void 0:n.roundingMethod)(r)}function dO(e){Ct(1,arguments);var t=nt(e);return t.setHours(23,59,59,999),t}function fO(e){Ct(1,arguments);var t=nt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function hO(e){Ct(1,arguments);var t=nt(e);return dO(t).getTime()===fO(t).getTime()}function Vb(e,t){Ct(2,arguments);var n=nt(e),r=nt(t),i=ho(n,r),o=Math.abs(oO(n,r)),s;if(o<1)s=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*o);var a=ho(n,r)===-i;hO(nt(e))&&o===1&&ho(e,r)===1&&(a=!1),s=i*(o-Number(a))}return s===0?0:s}function zb(e,t,n){Ct(2,arguments);var r=ug(e,t)/1e3;return cg(n==null?void 0:n.roundingMethod)(r)}function pO(e,t){Ct(2,arguments);var n=nt(e),r=nt(t),i=ho(n,r),o=Math.abs(sO(n,r));n.setFullYear(1584),r.setFullYear(1584);var s=ho(n,r)===-i,a=i*(o-Number(s));return a===0?0:a}var mO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},gO=function(t,n,r){var i,o=mO[t];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const vO=gO;function Tf(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var yO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},wO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_O={date:Tf({formats:yO,defaultWidth:"full"}),time:Tf({formats:wO,defaultWidth:"full"}),dateTime:Tf({formats:xO,defaultWidth:"full"})};const bO=_O;var SO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},CO=function(t,n,r,i){return SO[t]};const EO=CO;function ga(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):o;i=e.formattingValues[s]||e.formattingValues[o]}else{var a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[a]}var u=e.argumentCallback?e.argumentCallback(t):t;return i[u]}}var kO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},RO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},PO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$O={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},AO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},OO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},MO=function(t,n){var r=Number(t),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},IO={ordinalNumber:MO,era:ga({values:kO,defaultWidth:"wide"}),quarter:ga({values:RO,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:ga({values:PO,defaultWidth:"wide"}),day:ga({values:$O,defaultWidth:"wide"}),dayPeriod:ga({values:AO,defaultWidth:"wide",formattingValues:OO,defaultFormattingWidth:"wide"})};const TO=IO;function va(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var s=o[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?jO(a,function(d){return d.test(s)}):NO(a,function(d){return d.test(s)}),u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=t.slice(s.length);return{value:u,rest:c}}}function NO(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function jO(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function FO(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],o=t.match(e.parsePattern);if(!o)return null;var s=e.valueCallback?e.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;var a=t.slice(i.length);return{value:s,rest:a}}}var DO=/^(\d+)(th|st|nd|rd)?/i,LO=/\d+/i,UO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},VO={any:[/^b/i,/^(a|c)/i]},zO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},BO={any:[/1/i,/2/i,/3/i,/4/i]},HO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},WO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},GO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},KO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},YO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ZO={ordinalNumber:FO({matchPattern:DO,parsePattern:LO,valueCallback:function(t){return parseInt(t,10)}}),era:va({matchPatterns:UO,defaultMatchWidth:"wide",parsePatterns:VO,defaultParseWidth:"any"}),quarter:va({matchPatterns:zO,defaultMatchWidth:"wide",parsePatterns:BO,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:va({matchPatterns:HO,defaultMatchWidth:"wide",parsePatterns:qO,defaultParseWidth:"any"}),day:va({matchPatterns:WO,defaultMatchWidth:"wide",parsePatterns:GO,defaultParseWidth:"any"}),dayPeriod:va({matchPatterns:KO,defaultMatchWidth:"any",parsePatterns:YO,defaultParseWidth:"any"})};const JO=ZO;var XO={code:"en-US",formatDistance:vO,formatLong:bO,formatRelative:EO,localize:TO,match:JO,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Bb=XO;function Hb(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function QO(e){return Hb({},e)}var J0=1440,eM=2520,Nf=43200,tM=86400;function nM(e,t,n){var r,i;Ct(2,arguments);var o=Ub(),s=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:o.locale)!==null&&r!==void 0?r:Bb;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var a=ho(e,t);if(isNaN(a))throw new RangeError("Invalid time value");var l=Hb(QO(n),{addSuffix:!!(n!=null&&n.addSuffix),comparison:a}),u,c;a>0?(u=nt(t),c=nt(e)):(u=nt(e),c=nt(t));var d=zb(c,u),f=(Mc(c)-Mc(u))/1e3,h=Math.round((d-f)/60),m;if(h<2)return n!=null&&n.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<J0){var g=Math.round(h/60);return s.formatDistance("aboutXHours",g,l)}else{if(h<eM)return s.formatDistance("xDays",1,l);if(h<Nf){var C=Math.round(h/J0);return s.formatDistance("xDays",C,l)}else if(h<tM)return m=Math.round(h/Nf),s.formatDistance("aboutXMonths",m,l)}if(m=Vb(c,u),m<12){var y=Math.round(h/Nf);return s.formatDistance("xMonths",y,l)}else{var p=m%12,w=Math.floor(m/12);return p<3?s.formatDistance("aboutXYears",w,l):p<9?s.formatDistance("overXYears",w,l):s.formatDistance("almostXYears",w+1,l)}}function rM(e,t){return Ct(1,arguments),nM(e,Date.now(),t)}var iM=["years","months","weeks","days","hours","minutes","seconds"];function oM(e,t){var n,r,i,o,s;if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var a=Ub(),l=(n=(r=t==null?void 0:t.locale)!==null&&r!==void 0?r:a.locale)!==null&&n!==void 0?n:Bb,u=(i=t==null?void 0:t.format)!==null&&i!==void 0?i:iM,c=(o=t==null?void 0:t.zero)!==null&&o!==void 0?o:!1,d=(s=t==null?void 0:t.delimiter)!==null&&s!==void 0?s:" ";if(!l.formatDistance)return"";var f=u.reduce(function(h,m){var g="x".concat(m.replace(/(^.)/,function(y){return y.toUpperCase()})),C=e[m];return typeof C=="number"&&(c||e[m])?h.concat(l.formatDistance(g,C)):h},[]).join(d);return f}function sM(e){Ct(1,arguments);var t=nt(e.start),n=nt(e.end);if(isNaN(t.getTime()))throw new RangeError("Start Date is invalid");if(isNaN(n.getTime()))throw new RangeError("End Date is invalid");var r={};r.years=Math.abs(pO(n,t));var i=ho(n,t),o=ma(t,{years:i*r.years});r.months=Math.abs(Vb(n,o));var s=ma(o,{months:i*r.months});r.days=Math.abs(aO(n,s));var a=ma(s,{days:i*r.days});r.hours=Math.abs(uO(n,a));var l=ma(a,{hours:i*r.hours});r.minutes=Math.abs(cO(n,l));var u=ma(l,{minutes:i*r.minutes});return r.seconds=Math.abs(zb(n,u)),r}function qb(e){const t=e+"CollectionProvider",[n,r]=Ws(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=h=>{const{scope:m,children:g}=h,C=pe.useRef(null),y=pe.useRef(new Map).current;return pe.createElement(i,{scope:m,itemMap:y,collectionRef:C},g)},a=e+"CollectionSlot",l=pe.forwardRef((h,m)=>{const{scope:g,children:C}=h,y=o(a,g),p=Lt(m,y.collectionRef);return pe.createElement(ni,{ref:p},C)}),u=e+"CollectionItemSlot",c="data-radix-collection-item",d=pe.forwardRef((h,m)=>{const{scope:g,children:C,...y}=h,p=pe.useRef(null),w=Lt(m,p),_=o(u,g);return pe.useEffect(()=>(_.itemMap.set(p,{ref:p,...y}),()=>void _.itemMap.delete(p))),pe.createElement(ni,{[c]:"",ref:w},C)});function f(h){const m=o(e+"CollectionConsumer",h);return pe.useCallback(()=>{const C=m.collectionRef.current;if(!C)return[];const y=Array.from(C.querySelectorAll(`[${c}]`));return Array.from(m.itemMap.values()).sort((_,P)=>y.indexOf(_.ref.current)-y.indexOf(P.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:s,Slot:l,ItemSlot:d},f,r]}const aM=v.createContext(void 0);function Wb(e){const t=v.useContext(aM);return e||t||"ltr"}const Gi="Accordion",lM=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[dg,uM,cM]=qb(Gi),[Rd,B3]=Ws(Gi,[cM,Eb]),fg=Eb(),Gb=pe.forwardRef((e,t)=>{const{type:n,...r}=e,i=r,o=r;return pe.createElement(dg.Provider,{scope:e.__scopeAccordion},n==="multiple"?pe.createElement(pM,Pe({},o,{ref:t})):pe.createElement(hM,Pe({},i,{ref:t})))});Gb.propTypes={type(e){const t=e.value||e.defaultValue;return e.type&&!["single","multiple"].includes(e.type)?new Error("Invalid prop `type` supplied to `Accordion`. Expected one of `single | multiple`."):e.type==="multiple"&&typeof t=="string"?new Error("Invalid prop `type` supplied to `Accordion`. Expected `single` when `defaultValue` or `value` is type `string`."):e.type==="single"&&Array.isArray(t)?new Error("Invalid prop `type` supplied to `Accordion`. Expected `multiple` when `defaultValue` or `value` is type `string[]`."):null}};const[Kb,dM]=Rd(Gi),[Yb,fM]=Rd(Gi,{collapsible:!1}),hM=pe.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:o=!1,...s}=e,[a,l]=Is({prop:n,defaultProp:r,onChange:i});return pe.createElement(Kb,{scope:e.__scopeAccordion,value:a?[a]:[],onItemOpen:l,onItemClose:pe.useCallback(()=>o&&l(""),[o,l])},pe.createElement(Yb,{scope:e.__scopeAccordion,collapsible:o},pe.createElement(Zb,Pe({},s,{ref:t}))))}),pM=pe.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...o}=e,[s=[],a]=Is({prop:n,defaultProp:r,onChange:i}),l=pe.useCallback(c=>a((d=[])=>[...d,c]),[a]),u=pe.useCallback(c=>a((d=[])=>d.filter(f=>f!==c)),[a]);return pe.createElement(Kb,{scope:e.__scopeAccordion,value:s,onItemOpen:l,onItemClose:u},pe.createElement(Yb,{scope:e.__scopeAccordion,collapsible:!0},pe.createElement(Zb,Pe({},o,{ref:t}))))}),[mM,Pd]=Rd(Gi),Zb=pe.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:o="vertical",...s}=e,a=pe.useRef(null),l=Lt(a,t),u=uM(n),d=Wb(i)==="ltr",f=Ot(e.onKeyDown,h=>{var m;if(!lM.includes(h.key))return;const g=h.target,C=u().filter(W=>{var K;return!((K=W.ref.current)!==null&&K!==void 0&&K.disabled)}),y=C.findIndex(W=>W.ref.current===g),p=C.length;if(y===-1)return;h.preventDefault();let w=y;const _=0,P=p-1,I=()=>{w=y+1,w>P&&(w=_)},M=()=>{w=y-1,w<_&&(w=P)};switch(h.key){case"Home":w=_;break;case"End":w=P;break;case"ArrowRight":o==="horizontal"&&(d?I():M());break;case"ArrowDown":o==="vertical"&&I();break;case"ArrowLeft":o==="horizontal"&&(d?M():I());break;case"ArrowUp":o==="vertical"&&M();break}const j=w%p;(m=C[j].ref.current)===null||m===void 0||m.focus()});return pe.createElement(mM,{scope:n,disabled:r,direction:i,orientation:o},pe.createElement(dg.Slot,{scope:n},pe.createElement(_t.div,Pe({},s,{"data-orientation":o,ref:l,onKeyDown:r?void 0:f}))))}),vp="AccordionItem",[gM,hg]=Rd(vp),vM=pe.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...i}=e,o=Pd(vp,n),s=dM(vp,n),a=fg(n),l=Nl(),u=r&&s.value.includes(r)||!1,c=o.disabled||e.disabled;return pe.createElement(gM,{scope:n,open:u,disabled:c,triggerId:l},pe.createElement(Pb,Pe({"data-orientation":o.orientation,"data-state":Jb(u)},a,i,{ref:t,disabled:c,open:u,onOpenChange:d=>{d?s.onItemOpen(r):s.onItemClose(r)}})))}),yM="AccordionHeader",wM=pe.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,i=Pd(Gi,n),o=hg(yM,n);return pe.createElement(_t.h3,Pe({"data-orientation":i.orientation,"data-state":Jb(o.open),"data-disabled":o.disabled?"":void 0},r,{ref:t}))}),X0="AccordionTrigger",xM=pe.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,i=Pd(Gi,n),o=hg(X0,n),s=fM(X0,n),a=fg(n);return pe.createElement(dg.ItemSlot,{scope:n},pe.createElement($b,Pe({"aria-disabled":o.open&&!s.collapsible||void 0,"data-orientation":i.orientation,id:o.triggerId},a,r,{ref:t})))}),_M="AccordionContent",bM=pe.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,i=Pd(Gi,n),o=hg(_M,n),s=fg(n);return pe.createElement(wA,Pe({role:"region","aria-labelledby":o.triggerId,"data-orientation":i.orientation},s,r,{ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}}))});function Jb(e){return e?"open":"closed"}const SM=Gb,CM=vM,EM=wM,Xb=xM,Qb=bM;function pg(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var kM=["color"],RM=v.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=pg(e,kM);return v.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),v.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),PM=["color"],$M=v.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=pg(e,PM);return v.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),v.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),AM=["color"],OM=v.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=pg(e,AM);return v.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),v.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});const MM=SM,e1=v.forwardRef(({className:e,...t},n)=>R.jsx(CM,{ref:n,className:ze("border-b",e),...t}));e1.displayName="AccordionItem";const t1=v.forwardRef(({className:e,children:t,...n},r)=>R.jsx(EM,{className:"flex",children:R.jsxs(Xb,{ref:r,className:ze("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,R.jsx(OM,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})}));t1.displayName=Xb.displayName;const n1=v.forwardRef(({className:e,children:t,...n},r)=>R.jsx(Qb,{ref:r,className:ze("overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",e),...n,children:R.jsx("div",{className:"pb-4 pt-0",children:t})}));n1.displayName=Qb.displayName;const IM=jl("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Q0({className:e,variant:t,...n}){return R.jsx("div",{className:ze(IM({variant:t}),e),...n})}function TM(){const{hosts:e}=Tl(),t=Object.values(e).sort((n,r)=>n.id>r.id?1:-1);return R.jsxs("div",{children:[R.jsx("h2",{className:"my-4 text-lg",children:"Hosts"}),R.jsx("div",{className:"grid grid-cols-1 grid-rows-1 gap-2",children:R.jsx(MM,{type:"single",collapsible:!0,className:"w-full",children:t.map(n=>R.jsxs(e1,{value:n.id,children:[R.jsx(t1,{children:R.jsxs("div",{className:"me-2 flex w-full gap-2",children:[R.jsx(Q0,{children:n.version}),R.jsx("span",{className:"truncate",children:n.friendly_name})]})}),R.jsx(n1,{children:R.jsx(Fl,{children:R.jsxs(Dl,{children:[R.jsxs(Bt,{children:[R.jsx(_r,{className:"p-2 align-baseline",children:"Uptime"}),R.jsx(an,{children:oM(sM({start:0,end:n.uptime_seconds*1e3}))})]}),R.jsxs(Bt,{children:[R.jsx(_r,{className:"p-2 align-baseline",children:"Last Seen"}),R.jsx(an,{children:rM(new Date(n.last_seen),{addSuffix:!0})})]}),R.jsxs(Bt,{children:[R.jsx(_r,{className:"p-2 align-baseline",children:"Host ID"}),R.jsx(an,{children:R.jsx(bo,{text:n.id,className:"w-40 md:w-64 lg:w-auto lg:[mask-image:none]"})})]}),R.jsxs(Bt,{children:[R.jsx(_r,{className:"p-2 align-baseline",children:"Components"}),R.jsx(an,{children:Object.values(n.actors).length.toString()})]}),R.jsxs(Bt,{children:[R.jsx(_r,{className:"p-2 align-baseline",children:"Providers"}),R.jsx(an,{children:Object.values(n.providers).length.toString()})]}),R.jsxs(Bt,{children:[R.jsx(_r,{className:"p-2 align-baseline",children:"Labels"}),R.jsx(an,{children:Object.entries(n.labels).map(([r,i])=>R.jsxs(Q0,{variant:"outline",className:"me-0.5",children:[r,"=",i]},r))})]})]})})})]},n.id))})})]})}function NM({data:e,columns:t}){var o;const[n,r]=v.useState([]),i=zm({data:e,columns:t,onSortingChange:r,getCoreRowModel:Dm(),getPaginationRowModel:Vm(),getSortedRowModel:Um(),getFilteredRowModel:Lm(),state:{sorting:n}});return R.jsx("div",{className:"w-full",children:R.jsx("div",{className:"rounded-md border bg-primary-foreground",children:R.jsxs(Fl,{children:[R.jsx(kd,{children:i.getHeaderGroups().map(s=>R.jsx(Bt,{children:s.headers.map(a=>R.jsx(_r,{className:"bg-seafoam-700 text-seafoam-100 first:rounded-tl-sm last:rounded-tr-sm",children:a.isPlaceholder?null:Oi(a.column.columnDef.header,a.getContext())},a.id))},s.id))}),R.jsx(Dl,{children:(o=i.getRowModel().rows)!=null&&o.length?i.getRowModel().rows.map(s=>R.jsx(Bt,{children:s.getVisibleCells().map(a=>R.jsx(an,{children:Oi(a.column.columnDef.cell,a.getContext())},a.id))},s.id)):R.jsx(Bt,{children:R.jsx(an,{colSpan:t.length,className:"h-24 text-center",children:"No results."})})})]})})})}const mu=Fm(),jM=[mu.accessor("contract_id",{header:"Contract ID"}),mu.accessor("link_name",{header:"Link Name"}),mu.accessor("provider_id",{header:"Provider ID",cell:e=>R.jsx(bo,{text:e.getValue()})}),mu.accessor("actor_id",{header:"Component ID",cell:e=>R.jsx(bo,{text:e.getValue()})})];function FM(){const{links:e}=Tl();return R.jsx("div",{children:R.jsx(NM,{data:e,columns:jM})})}const DM=jl("inline-block h-2 w-2 rounded-full bg-current",{variants:{status:{Running:"text-green-500",Pending:"text-yellow-500",Failed:"text-red-500"}}}),r1=v.forwardRef(({className:e,status:t,...n},r)=>R.jsx("div",{ref:r,className:ze(DM({status:t}),e),...n,role:"presentation"}));r1.displayName="StatusIndicator";const jr=Fm(),ey=[jr.display({id:"expand",cell:()=>R.jsx(ag,{className:"flex place-items-center",asChild:!0,children:e=>e?R.jsx(p_,{className:"h-4 w-4"}):R.jsx(m_,{className:"h-4 w-4"})}),meta:{baseRow:"visible",expandedRow:"empty"}}),jr.accessor("name",{header:"Name",meta:{baseRow:"visible",expandedRow:"empty"}}),jr.accessor("contract_id",{header:"Contract ID",meta:{baseRow:"visible",expandedRow:"empty"}}),jr.accessor("link_name",{header:"Link Name",meta:{baseRow:"visible",expandedRow:"empty"}}),jr.accessor("hosts",{id:"hosts",header:"Hosts",cell:e=>Object.keys(e.getValue()).length,meta:{baseRow:"visible",expandedRow:"hidden"}}),jr.accessor("hosts",{header:"Hosts",id:"hosts-expanded",cell:e=>Object.keys(e.getValue()).length.toString(),meta:{baseRow:"hidden",expandedRow:"visible",expandedCell:e=>()=>R.jsx(bo,{text:e})}}),jr.accessor("hosts",{id:"health",header:"Health",cell:e=>{const t=Object.values(e.getValue()).reduce((n,r)=>n==="Failed"?n:n==="Pending"?r==="Failed"?"Failed":"Pending":r==="Running"?r:"Pending","Running");return R.jsxs("div",{className:"flex place-items-center",children:[R.jsx(r1,{status:t,className:"me-2"})," ",t]})},meta:{baseRow:"visible",expandedRow:"hidden"}}),jr.accessor("hosts",{id:"health-detail",header:"Health",cell:()=>"",meta:{baseRow:"hidden",expandedRow:"visible",expandedCell:(e,t)=>()=>t}}),jr.accessor("id",{header:"ID",cell:e=>R.jsx(bo,{text:e.getValue()}),meta:{baseRow:"visible",expandedRow:"empty"}})];function LM(){var o;const{providers:e}=Tl(),t=Object.values(e).sort((s,a)=>s.id>a.id||s.link_name>a.link_name?1:-1),[n,r]=v.useState([]),i=zm({data:t,columns:ey,onSortingChange:r,getCoreRowModel:Dm(),getPaginationRowModel:Vm(),getSortedRowModel:Um(),getFilteredRowModel:Lm(),state:{sorting:n}});return R.jsx("div",{children:R.jsx("div",{className:"w-full",children:R.jsx("div",{className:"rounded-md border bg-primary-foreground",children:R.jsxs(Fl,{children:[R.jsx(kd,{children:i.getHeaderGroups().map(s=>R.jsx(Bt,{children:s.headers.map(a=>{var l;return((l=a.column.columnDef.meta)==null?void 0:l.baseRow)==="hidden"?null:R.jsx(_r,{className:"bg-seafoam-700 text-seafoam-100 first:rounded-tl-sm last:rounded-tr-sm",children:a.isPlaceholder?null:Oi(a.column.columnDef.header,a.getContext())},a.id)})},s.id))}),R.jsx(Dl,{children:(o=i.getRowModel().rows)!=null&&o.length?i.getRowModel().rows.map(s=>R.jsx(sg,{asChild:!0,children:R.jsxs(v.Fragment,{children:[R.jsx(Bt,{children:s.getVisibleCells().map(a=>{var l,u;return((l=a.column.columnDef.meta)==null?void 0:l.baseRow)==="hidden"?null:R.jsx(an,{children:((u=a.column.columnDef.meta)==null?void 0:u.baseRow)==="empty"?null:Oi(a.column.columnDef.cell,a.getContext())},a.id)})}),R.jsx(Ob,{asChild:!0,children:R.jsx(v.Fragment,{children:Object.keys(s.getValue("hosts")).length>0&&Object.entries(s.getValue("hosts")).sort((a,l)=>a>l?1:-1).map(([a,l])=>R.jsx(Bt,{"data-expanded":"true",children:s.getVisibleCells().map(u=>{var c,d,f,h;return((c=u.column.columnDef.meta)==null?void 0:c.expandedRow)==="hidden"?null:R.jsx(an,{children:((d=u.column.columnDef.meta)==null?void 0:d.expandedRow)==="empty"?null:Oi(((h=(f=u.column.columnDef.meta)==null?void 0:f.expandedCell)==null?void 0:h.call(f,a,l))??u.column.columnDef.cell,u.getContext())},u.id)})},s.id+"-"+a))})})]})},s.id)):R.jsx(Bt,{children:R.jsx(an,{colSpan:ey.length,className:"h-24 text-center",children:"No results."})})})]})})})})}const UM=jl("rounded-xl border bg-card text-card-foreground",{variants:{variant:{default:"border border-muted-foreground",accent:"border-accent bg-accent text-accent-foreground"}}}),Va=v.forwardRef(({variant:e="default",className:t,...n},r)=>R.jsx("div",{ref:r,className:ze(UM({variant:e,className:t}),t),...n}));Va.displayName="Card";const Du=v.forwardRef(({className:e,...t},n)=>R.jsx("div",{ref:n,className:ze("flex flex-col space-y-1.5 p-4",e),...t}));Du.displayName="CardHeader";const VM=v.forwardRef(({className:e,...t},n)=>R.jsx("h3",{ref:n,className:ze("font-semibold leading-none tracking-tight",e),...t}));VM.displayName="CardTitle";const zM=v.forwardRef(({className:e,...t},n)=>R.jsx("p",{ref:n,className:ze("text-sm text-muted-foreground",e),...t}));zM.displayName="CardDescription";const Lu=v.forwardRef(({className:e,...t},n)=>R.jsx("div",{ref:n,className:ze("p-4 pt-0",e),...t}));Lu.displayName="CardContent";const BM=v.forwardRef(({className:e,...t},n)=>R.jsx("div",{ref:n,className:ze(" flex items-center p-6 pt-0",e),...t}));BM.displayName="CardFooter";function gu({title:e,value:t}){return R.jsxs(Va,{variant:"accent",className:"flex items-center justify-between p-2",children:[R.jsx("div",{className:"me-2 h-2 w-2 rounded-full border border-current",role:"presentation"}),R.jsx("span",{className:"me-auto",children:e}),R.jsx("span",{className:"ms-2 rounded-full bg-white/50 px-3 py-1 text-sm font-semibold",children:t})]})}function HM(){const{hosts:e,actors:t,providers:n,links:r}=Tl(),i=Object.keys(e).length.toString(),o=Object.keys(t).length.toString(),s=Object.keys(n).length.toString(),a=r.length.toString();return R.jsxs("div",{className:"flex flex-col gap-2 md:gap-4",children:[R.jsxs("div",{className:"grid grid-cols-1 grid-rows-1 gap-2 sm:grid-cols-12",children:[R.jsx("div",{className:"col-span-6 sm:col-span-5 md:col-span-4 lg:col-span-3 xl:col-span-4",children:R.jsxs("div",{className:" rounded-xl bg-seafoam-700 p-4 text-seafoam-100 dark:bg-seafoam-100 dark:text-seafoam-700 ",children:[R.jsx("h2",{className:"mb-4 text-lg",children:"Overview"}),R.jsxs("div",{className:"grid grid-cols-1 grid-rows-1 gap-2 xl:grid-cols-2",children:[R.jsx(gu,{title:"Hosts",value:i}),R.jsx(gu,{title:"Components",value:o}),R.jsx(gu,{title:"Providers",value:s}),R.jsx(gu,{title:"Links",value:a})]})]})}),R.jsx("div",{className:"col-span-6 p-4 sm:col-span-7 md:col-span-8 lg:col-span-9 xl:col-span-8",children:R.jsx(TM,{})})]}),R.jsxs(Va,{variant:"accent",className:"w-full rounded-xl",children:[R.jsx(Du,{children:"Components"}),R.jsx(Lu,{children:R.jsx(JA,{})})]}),R.jsxs(Va,{variant:"accent",className:"w-full rounded-xl",children:[R.jsx(Du,{children:"Providers"}),R.jsx(Lu,{children:R.jsx(LM,{})})]}),R.jsxs(Va,{variant:"accent",className:"w-full rounded-xl",children:[R.jsx(Du,{children:"Links"}),R.jsx(Lu,{children:R.jsx(FM,{})})]})]})}const qM="/assets/logo-wide-0e72ceaf.svg";var Ll=e=>e.type==="checkbox",ss=e=>e instanceof Date,on=e=>e==null;const i1=e=>typeof e=="object";var Ut=e=>!on(e)&&!Array.isArray(e)&&i1(e)&&!ss(e),o1=e=>Ut(e)&&e.target?Ll(e.target)?e.target.checked:e.target.value:e,WM=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,s1=(e,t)=>e.has(WM(t)),GM=e=>{const t=e.constructor&&e.constructor.prototype;return Ut(t)&&t.hasOwnProperty("isPrototypeOf")},mg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function or(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(mg&&(e instanceof Blob||e instanceof FileList))&&(n||Ut(e)))if(t=n?[]:{},!n&&!GM(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=or(e[r]));else return e;return t}var Ul=e=>Array.isArray(e)?e.filter(Boolean):[],Pt=e=>e===void 0,oe=(e,t,n)=>{if(!t||!Ut(e))return n;const r=Ul(t.split(/[,[\].]+?/)).reduce((i,o)=>on(i)?i:i[o],e);return Pt(r)||r===e?Pt(e[t])?n:e[t]:r},_i=e=>typeof e=="boolean";const Ic={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},cr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Fr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},a1=pe.createContext(null),$d=()=>pe.useContext(a1),KM=e=>{const{children:t,...n}=e;return pe.createElement(a1.Provider,{value:n},t)};var l1=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const s=o;return t._proxyFormState[s]!==cr.all&&(t._proxyFormState[s]=!r||cr.all),n&&(n[s]=!0),e[s]}});return i},Bn=e=>Ut(e)&&!Object.keys(e).length,u1=(e,t,n,r)=>{n(e);const{name:i,...o}=e;return Bn(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(s=>t[s]===(!r||cr.all))},Uu=e=>Array.isArray(e)?e:[e],c1=(e,t,n)=>n&&t?e===t||Array.isArray(e)&&e.some(r=>r&&n&&r===t):!e||!t||e===t||Uu(e).some(r=>r&&(r.startsWith(t)||t.startsWith(r)));function gg(e){const t=pe.useRef(e);t.current=e,pe.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}function YM(e){const t=$d(),{control:n=t.control,disabled:r,name:i,exact:o}=e||{},[s,a]=pe.useState(n._formState),l=pe.useRef(!0),u=pe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=pe.useRef(i);return c.current=i,gg({disabled:r,next:d=>l.current&&c1(c.current,d.name,o)&&u1(d,u.current,n._updateFormState)&&a({...n._formState,...d}),subject:n._subjects.state}),pe.useEffect(()=>(l.current=!0,u.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),l1(s,n,u.current,!1)}var Er=e=>typeof e=="string",d1=(e,t,n,r,i)=>Er(e)?(r&&t.watch.add(e),oe(n,e,i)):Array.isArray(e)?e.map(o=>(r&&t.watch.add(o),oe(n,o))):(r&&(t.watchAll=!0),n);function ZM(e){const t=$d(),{control:n=t.control,name:r,defaultValue:i,disabled:o,exact:s}=e||{},a=pe.useRef(r);a.current=r,gg({disabled:o,subject:n._subjects.values,next:c=>{c1(a.current,c.name,s)&&u(or(d1(a.current,n._names,c.values||n._formValues,!1,i)))}});const[l,u]=pe.useState(n._getWatch(r,i));return pe.useEffect(()=>n._removeUnmounted()),l}var vg=e=>/^\w*$/.test(e),f1=e=>Ul(e.replace(/["|']|\]/g,"").split(/\.|\[/));function et(e,t,n){let r=-1;const i=vg(t)?[t]:f1(t),o=i.length,s=o-1;for(;++r<o;){const a=i[r];let l=n;if(r!==s){const u=e[a];l=Ut(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}e[a]=l,e=e[a]}return e}function JM(e){const t=$d(),{name:n,disabled:r,control:i=t.control,shouldUnregister:o}=e,s=s1(i._names.array,n),a=ZM({control:i,name:n,defaultValue:oe(i._formValues,n,oe(i._defaultValues,n,e.defaultValue)),exact:!0}),l=YM({control:i,name:n}),u=pe.useRef(i.register(n,{...e.rules,value:a}));return u.current=i.register(n,e.rules),pe.useEffect(()=>{const c=i._options.shouldUnregister||o,d=(f,h)=>{const m=oe(i._fields,f);m&&(m._f.mount=h)};if(d(n,!0),c){const f=or(oe(i._options.defaultValues,n));et(i._defaultValues,n,f),Pt(oe(i._formValues,n))&&et(i._formValues,n,f)}return()=>{(s?c&&!i._state.action:c)?i.unregister(n):d(n,!1)}},[n,i,s,o]),pe.useEffect(()=>{i._updateDisabledField({disabled:r,fields:i._fields,name:n})},[r,n,i]),{field:{name:n,value:a,..._i(r)?{disabled:r}:{},onChange:pe.useCallback(c=>u.current.onChange({target:{value:o1(c),name:n},type:Ic.CHANGE}),[n]),onBlur:pe.useCallback(()=>u.current.onBlur({target:{value:oe(i._formValues,n),name:n},type:Ic.BLUR}),[n,i]),ref:c=>{const d=oe(i._fields,n);d&&c&&(d._f.ref={focus:()=>c.focus(),select:()=>c.select(),setCustomValidity:f=>c.setCustomValidity(f),reportValidity:()=>c.reportValidity()})}},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!oe(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!oe(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!oe(l.touchedFields,n)},error:{enumerable:!0,get:()=>oe(l.errors,n)}})}}const XM=e=>e.render(JM(e));var h1=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{};const yp=(e,t,n)=>{for(const r of n||Object.keys(e)){const i=oe(e,r);if(i){const{_f:o,...s}=i;if(o&&t(o.name)){if(o.ref.focus){o.ref.focus();break}else if(o.refs&&o.refs[0].focus){o.refs[0].focus();break}}else Ut(s)&&yp(s,t)}}};var ty=e=>({isOnSubmit:!e||e===cr.onSubmit,isOnBlur:e===cr.onBlur,isOnChange:e===cr.onChange,isOnAll:e===cr.all,isOnTouch:e===cr.onTouched}),ny=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length)))),QM=(e,t,n)=>{const r=Ul(oe(e,n));return et(r,"root",t[n]),et(e,n,r),e},yg=e=>e.type==="file",bi=e=>typeof e=="function",Tc=e=>{if(!mg)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Vu=e=>Er(e),wg=e=>e.type==="radio",Nc=e=>e instanceof RegExp;const ry={value:!1,isValid:!1},iy={value:!0,isValid:!0};var p1=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Pt(e[0].attributes.value)?Pt(e[0].value)||e[0].value===""?iy:{value:e[0].value,isValid:!0}:iy:ry}return ry};const oy={isValid:!1,value:null};var m1=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,oy):oy;function sy(e,t,n="validate"){if(Vu(e)||Array.isArray(e)&&e.every(Vu)||_i(e)&&!e)return{type:n,message:Vu(e)?e:"",ref:t}}var Lo=e=>Ut(e)&&!Nc(e)?e:{value:e,message:""},ay=async(e,t,n,r,i)=>{const{ref:o,refs:s,required:a,maxLength:l,minLength:u,min:c,max:d,pattern:f,validate:h,name:m,valueAsNumber:g,mount:C,disabled:y}=e._f,p=oe(t,m);if(!C||y)return{};const w=s?s[0]:o,_=V=>{r&&w.reportValidity&&(w.setCustomValidity(_i(V)?"":V||""),w.reportValidity())},P={},I=wg(o),M=Ll(o),j=I||M,W=(g||yg(o))&&Pt(o.value)&&Pt(p)||Tc(o)&&o.value===""||p===""||Array.isArray(p)&&!p.length,K=h1.bind(null,m,n,P),ae=(V,X,Q,we=Fr.maxLength,ie=Fr.minLength)=>{const $e=V?X:Q;P[m]={type:V?we:ie,message:$e,ref:o,...K(V?we:ie,$e)}};if(i?!Array.isArray(p)||!p.length:a&&(!j&&(W||on(p))||_i(p)&&!p||M&&!p1(s).isValid||I&&!m1(s).isValid)){const{value:V,message:X}=Vu(a)?{value:!!a,message:a}:Lo(a);if(V&&(P[m]={type:Fr.required,message:X,ref:w,...K(Fr.required,X)},!n))return _(X),P}if(!W&&(!on(c)||!on(d))){let V,X;const Q=Lo(d),we=Lo(c);if(!on(p)&&!isNaN(p)){const ie=o.valueAsNumber||p&&+p;on(Q.value)||(V=ie>Q.value),on(we.value)||(X=ie<we.value)}else{const ie=o.valueAsDate||new Date(p),$e=ce=>new Date(new Date().toDateString()+" "+ce),B=o.type=="time",ee=o.type=="week";Er(Q.value)&&p&&(V=B?$e(p)>$e(Q.value):ee?p>Q.value:ie>new Date(Q.value)),Er(we.value)&&p&&(X=B?$e(p)<$e(we.value):ee?p<we.value:ie<new Date(we.value))}if((V||X)&&(ae(!!V,Q.message,we.message,Fr.max,Fr.min),!n))return _(P[m].message),P}if((l||u)&&!W&&(Er(p)||i&&Array.isArray(p))){const V=Lo(l),X=Lo(u),Q=!on(V.value)&&p.length>+V.value,we=!on(X.value)&&p.length<+X.value;if((Q||we)&&(ae(Q,V.message,X.message),!n))return _(P[m].message),P}if(f&&!W&&Er(p)){const{value:V,message:X}=Lo(f);if(Nc(V)&&!p.match(V)&&(P[m]={type:Fr.pattern,message:X,ref:o,...K(Fr.pattern,X)},!n))return _(X),P}if(h){if(bi(h)){const V=await h(p,t),X=sy(V,w);if(X&&(P[m]={...X,...K(Fr.validate,X.message)},!n))return _(X.message),P}else if(Ut(h)){let V={};for(const X in h){if(!Bn(V)&&!n)break;const Q=sy(await h[X](p,t),w,X);Q&&(V={...Q,...K(X,Q.message)},_(Q.message),n&&(P[m]=V))}if(!Bn(V)&&(P[m]={ref:w,...V},!n))return P}}return _(!0),P};function eI(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Pt(e)?r++:e[t[r++]];return e}function tI(e){for(const t in e)if(e.hasOwnProperty(t)&&!Pt(e[t]))return!1;return!0}function qt(e,t){const n=Array.isArray(t)?t:vg(t)?[t]:f1(t),r=n.length===1?e:eI(e,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(Ut(r)&&Bn(r)||Array.isArray(r)&&tI(r))&&qt(e,n.slice(0,-1)),e}function jf(){let e=[];return{get observers(){return e},next:i=>{for(const o of e)o.next&&o.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(o=>o!==i)}}),unsubscribe:()=>{e=[]}}}var jc=e=>on(e)||!i1(e);function ao(e,t){if(jc(e)||jc(t))return e===t;if(ss(e)&&ss(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const o=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const s=t[i];if(ss(o)&&ss(s)||Ut(o)&&Ut(s)||Array.isArray(o)&&Array.isArray(s)?!ao(o,s):o!==s)return!1}}return!0}var g1=e=>e.type==="select-multiple",nI=e=>wg(e)||Ll(e),Ff=e=>Tc(e)&&e.isConnected,v1=e=>{for(const t in e)if(bi(e[t]))return!0;return!1};function Fc(e,t={}){const n=Array.isArray(e);if(Ut(e)||n)for(const r in e)Array.isArray(e[r])||Ut(e[r])&&!v1(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Fc(e[r],t[r])):on(e[r])||(t[r]=!0);return t}function y1(e,t,n){const r=Array.isArray(e);if(Ut(e)||r)for(const i in e)Array.isArray(e[i])||Ut(e[i])&&!v1(e[i])?Pt(t)||jc(n[i])?n[i]=Array.isArray(e[i])?Fc(e[i],[]):{...Fc(e[i])}:y1(e[i],on(t)?{}:t[i],n[i]):n[i]=!ao(e[i],t[i]);return n}var Df=(e,t)=>y1(e,t,Fc(t)),w1=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Pt(e)?e:t?e===""?NaN:e&&+e:n&&Er(e)?new Date(e):r?r(e):e;function Lf(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return yg(t)?t.files:wg(t)?m1(e.refs).value:g1(t)?[...t.selectedOptions].map(({value:n})=>n):Ll(t)?p1(e.refs).value:w1(Pt(t.value)?e.ref.value:t.value,e)}var rI=(e,t,n,r)=>{const i={};for(const o of e){const s=oe(t,o);s&&et(i,o,s._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},ya=e=>Pt(e)?e:Nc(e)?e.source:Ut(e)?Nc(e.value)?e.value.source:e.value:e,iI=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ly(e,t,n){const r=oe(e,n);if(r||vg(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),s=oe(t,o),a=oe(e,o);if(s&&!Array.isArray(s)&&n!==o)return{name:n};if(a&&a.type)return{name:o,error:a};i.pop()}return{name:n}}var oI=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,sI=(e,t)=>!Ul(oe(e,t)).length&&qt(e,t);const aI={mode:cr.onSubmit,reValidateMode:cr.onChange,shouldFocusError:!0};function lI(e={},t){let n={...aI,...e},r={submitCount:0,isDirty:!1,isLoading:bi(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},o=Ut(n.defaultValues)||Ut(n.values)?or(n.defaultValues||n.values)||{}:{},s=n.shouldUnregister?{}:or(o),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:jf(),array:jf(),state:jf()},h=e.resetOptions&&e.resetOptions.keepDirtyValues,m=ty(n.mode),g=ty(n.reValidateMode),C=n.criteriaMode===cr.all,y=$=>F=>{clearTimeout(c),c=setTimeout($,F)},p=async $=>{if(d.isValid||$){const F=n.resolver?Bn((await W()).errors):await ae(i,!0);F!==r.isValid&&f.state.next({isValid:F})}},w=$=>d.isValidating&&f.state.next({isValidating:$}),_=($,F=[],L,se,Z=!0,Y=!0)=>{if(se&&L){if(a.action=!0,Y&&Array.isArray(oe(i,$))){const ge=L(oe(i,$),se.argA,se.argB);Z&&et(i,$,ge)}if(Y&&Array.isArray(oe(r.errors,$))){const ge=L(oe(r.errors,$),se.argA,se.argB);Z&&et(r.errors,$,ge),sI(r.errors,$)}if(d.touchedFields&&Y&&Array.isArray(oe(r.touchedFields,$))){const ge=L(oe(r.touchedFields,$),se.argA,se.argB);Z&&et(r.touchedFields,$,ge)}d.dirtyFields&&(r.dirtyFields=Df(o,s)),f.state.next({name:$,isDirty:X($,F),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else et(s,$,F)},P=($,F)=>{et(r.errors,$,F),f.state.next({errors:r.errors})},I=($,F,L,se)=>{const Z=oe(i,$);if(Z){const Y=oe(s,$,Pt(L)?oe(o,$):L);Pt(Y)||se&&se.defaultChecked||F?et(s,$,F?Y:Lf(Z._f)):ie($,Y),a.mount&&p()}},M=($,F,L,se,Z)=>{let Y=!1,ge=!1;const He={name:$};if(!L||se){d.isDirty&&(ge=r.isDirty,r.isDirty=He.isDirty=X(),Y=ge!==He.isDirty);const it=ao(oe(o,$),F);ge=oe(r.dirtyFields,$),it?qt(r.dirtyFields,$):et(r.dirtyFields,$,!0),He.dirtyFields=r.dirtyFields,Y=Y||d.dirtyFields&&ge!==!it}if(L){const it=oe(r.touchedFields,$);it||(et(r.touchedFields,$,L),He.touchedFields=r.touchedFields,Y=Y||d.touchedFields&&it!==L)}return Y&&Z&&f.state.next(He),Y?He:{}},j=($,F,L,se)=>{const Z=oe(r.errors,$),Y=d.isValid&&_i(F)&&r.isValid!==F;if(e.delayError&&L?(u=y(()=>P($,L)),u(e.delayError)):(clearTimeout(c),u=null,L?et(r.errors,$,L):qt(r.errors,$)),(L?!ao(Z,L):Z)||!Bn(se)||Y){const ge={...se,...Y&&_i(F)?{isValid:F}:{},errors:r.errors,name:$};r={...r,...ge},f.state.next(ge)}w(!1)},W=async $=>n.resolver(s,n.context,rI($||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),K=async $=>{const{errors:F}=await W($);if($)for(const L of $){const se=oe(F,L);se?et(r.errors,L,se):qt(r.errors,L)}else r.errors=F;return F},ae=async($,F,L={valid:!0})=>{for(const se in $){const Z=$[se];if(Z){const{_f:Y,...ge}=Z;if(Y){const He=l.array.has(Y.name),it=await ay(Z,s,C,n.shouldUseNativeValidation&&!F,He);if(it[Y.name]&&(L.valid=!1,F))break;!F&&(oe(it,Y.name)?He?QM(r.errors,it,Y.name):et(r.errors,Y.name,it[Y.name]):qt(r.errors,Y.name))}ge&&await ae(ge,F,L)}}return L.valid},V=()=>{for(const $ of l.unMount){const F=oe(i,$);F&&(F._f.refs?F._f.refs.every(L=>!Ff(L)):!Ff(F._f.ref))&&Ye($)}l.unMount=new Set},X=($,F)=>($&&F&&et(s,$,F),!ao(Ee(),o)),Q=($,F,L)=>d1($,l,{...a.mount?s:Pt(F)?o:Er($)?{[$]:F}:F},L,F),we=$=>Ul(oe(a.mount?s:o,$,e.shouldUnregister?oe(o,$,[]):[])),ie=($,F,L={})=>{const se=oe(i,$);let Z=F;if(se){const Y=se._f;Y&&(!Y.disabled&&et(s,$,w1(F,Y)),Z=Tc(Y.ref)&&on(F)?"":F,g1(Y.ref)?[...Y.ref.options].forEach(ge=>ge.selected=Z.includes(ge.value)):Y.refs?Ll(Y.ref)?Y.refs.length>1?Y.refs.forEach(ge=>(!ge.defaultChecked||!ge.disabled)&&(ge.checked=Array.isArray(Z)?!!Z.find(He=>He===ge.value):Z===ge.value)):Y.refs[0]&&(Y.refs[0].checked=!!Z):Y.refs.forEach(ge=>ge.checked=ge.value===Z):yg(Y.ref)?Y.ref.value="":(Y.ref.value=Z,Y.ref.type||f.values.next({name:$,values:{...s}})))}(L.shouldDirty||L.shouldTouch)&&M($,Z,L.shouldTouch,L.shouldDirty,!0),L.shouldValidate&&ce($)},$e=($,F,L)=>{for(const se in F){const Z=F[se],Y=`${$}.${se}`,ge=oe(i,Y);(l.array.has($)||!jc(Z)||ge&&!ge._f)&&!ss(Z)?$e(Y,Z,L):ie(Y,Z,L)}},B=($,F,L={})=>{const se=oe(i,$),Z=l.array.has($),Y=or(F);et(s,$,Y),Z?(f.array.next({name:$,values:{...s}}),(d.isDirty||d.dirtyFields)&&L.shouldDirty&&f.state.next({name:$,dirtyFields:Df(o,s),isDirty:X($,Y)})):se&&!se._f&&!on(Y)?$e($,Y,L):ie($,Y,L),ny($,l)&&f.state.next({...r}),f.values.next({name:$,values:{...s}}),!a.mount&&t()},ee=async $=>{const F=$.target;let L=F.name,se=!0;const Z=oe(i,L),Y=()=>F.type?Lf(Z._f):o1($);if(Z){let ge,He;const it=Y(),_n=$.type===Ic.BLUR||$.type===Ic.FOCUS_OUT,Oo=!iI(Z._f)&&!n.resolver&&!oe(r.errors,L)&&!Z._f.deps||oI(_n,oe(r.touchedFields,L),r.isSubmitted,g,m),Mr=ny(L,l,_n);et(s,L,it),_n?(Z._f.onBlur&&Z._f.onBlur($),u&&u(0)):Z._f.onChange&&Z._f.onChange($);const Ki=M(L,it,_n,!1),Mo=!Bn(Ki)||Mr;if(!_n&&f.values.next({name:L,type:$.type,values:{...s}}),Oo)return d.isValid&&p(),Mo&&f.state.next({name:L,...Mr?{}:Ki});if(!_n&&Mr&&f.state.next({...r}),w(!0),n.resolver){const{errors:Io}=await W([L]),Yi=ly(r.errors,i,L),To=ly(Io,i,Yi.name||L);ge=To.error,L=To.name,He=Bn(Io)}else ge=(await ay(Z,s,C,n.shouldUseNativeValidation))[L],se=Number.isNaN(it)||it===oe(s,L,it),se&&(ge?He=!1:d.isValid&&(He=await ae(i,!0)));se&&(Z._f.deps&&ce(Z._f.deps),j(L,He,ge,Ki))}},ce=async($,F={})=>{let L,se;const Z=Uu($);if(w(!0),n.resolver){const Y=await K(Pt($)?$:Z);L=Bn(Y),se=$?!Z.some(ge=>oe(Y,ge)):L}else $?(se=(await Promise.all(Z.map(async Y=>{const ge=oe(i,Y);return await ae(ge&&ge._f?{[Y]:ge}:ge)}))).every(Boolean),!(!se&&!r.isValid)&&p()):se=L=await ae(i);return f.state.next({...!Er($)||d.isValid&&L!==r.isValid?{}:{name:$},...n.resolver||!$?{isValid:L}:{},errors:r.errors,isValidating:!1}),F.shouldFocus&&!se&&yp(i,Y=>Y&&oe(r.errors,Y),$?Z:l.mount),se},Ee=$=>{const F={...o,...a.mount?s:{}};return Pt($)?F:Er($)?oe(F,$):$.map(L=>oe(F,L))},Ne=($,F)=>({invalid:!!oe((F||r).errors,$),isDirty:!!oe((F||r).dirtyFields,$),isTouched:!!oe((F||r).touchedFields,$),error:oe((F||r).errors,$)}),De=$=>{$&&Uu($).forEach(F=>qt(r.errors,F)),f.state.next({errors:$?r.errors:{}})},je=($,F,L)=>{const se=(oe(i,$,{_f:{}})._f||{}).ref;et(r.errors,$,{...F,ref:se}),f.state.next({name:$,errors:r.errors,isValid:!1}),L&&L.shouldFocus&&se&&se.focus&&se.focus()},ct=($,F)=>bi($)?f.values.subscribe({next:L=>$(Q(void 0,F),L)}):Q($,F,!0),Ye=($,F={})=>{for(const L of $?Uu($):l.mount)l.mount.delete(L),l.array.delete(L),F.keepValue||(qt(i,L),qt(s,L)),!F.keepError&&qt(r.errors,L),!F.keepDirty&&qt(r.dirtyFields,L),!F.keepTouched&&qt(r.touchedFields,L),!n.shouldUnregister&&!F.keepDefaultValue&&qt(o,L);f.values.next({values:{...s}}),f.state.next({...r,...F.keepDirty?{isDirty:X()}:{}}),!F.keepIsValid&&p()},de=({disabled:$,name:F,field:L,fields:se})=>{if(_i($)){const Z=$?void 0:oe(s,F,Lf(L?L._f:oe(se,F)._f));et(s,F,Z),M(F,Z,!1,!1,!0)}},Ce=($,F={})=>{let L=oe(i,$);const se=_i(F.disabled);return et(i,$,{...L||{},_f:{...L&&L._f?L._f:{ref:{name:$}},name:$,mount:!0,...F}}),l.mount.add($),L?de({field:L,disabled:F.disabled,name:$}):I($,!0,F.value),{...se?{disabled:F.disabled}:{},...n.progressive?{required:!!F.required,min:ya(F.min),max:ya(F.max),minLength:ya(F.minLength),maxLength:ya(F.maxLength),pattern:ya(F.pattern)}:{},name:$,onChange:ee,onBlur:ee,ref:Z=>{if(Z){Ce($,F),L=oe(i,$);const Y=Pt(Z.value)&&Z.querySelectorAll&&Z.querySelectorAll("input,select,textarea")[0]||Z,ge=nI(Y),He=L._f.refs||[];if(ge?He.find(it=>it===Y):Y===L._f.ref)return;et(i,$,{_f:{...L._f,...ge?{refs:[...He.filter(Ff),Y,...Array.isArray(oe(o,$))?[{}]:[]],ref:{type:Y.type,name:$}}:{ref:Y}}}),I($,!1,void 0,Y)}else L=oe(i,$,{}),L._f&&(L._f.mount=!1),(n.shouldUnregister||F.shouldUnregister)&&!(s1(l.array,$)&&a.action)&&l.unMount.add($)}}},ve=()=>n.shouldFocusError&&yp(i,$=>$&&oe(r.errors,$),l.mount),Me=($,F)=>async L=>{L&&(L.preventDefault&&L.preventDefault(),L.persist&&L.persist());let se=or(s);if(f.state.next({isSubmitting:!0}),n.resolver){const{errors:Z,values:Y}=await W();r.errors=Z,se=Y}else await ae(i);qt(r.errors,"root"),Bn(r.errors)?(f.state.next({errors:{}}),await $(se,L)):(F&&await F({...r.errors},L),ve(),setTimeout(ve)),f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Bn(r.errors),submitCount:r.submitCount+1,errors:r.errors})},Le=($,F={})=>{oe(i,$)&&(Pt(F.defaultValue)?B($,oe(o,$)):(B($,F.defaultValue),et(o,$,F.defaultValue)),F.keepTouched||qt(r.touchedFields,$),F.keepDirty||(qt(r.dirtyFields,$),r.isDirty=F.defaultValue?X($,oe(o,$)):X()),F.keepError||(qt(r.errors,$),d.isValid&&p()),f.state.next({...r}))},Ue=($,F={})=>{const L=$?or($):o,se=or(L),Z=$&&!Bn($)?se:o;if(F.keepDefaultValues||(o=L),!F.keepValues){if(F.keepDirtyValues||h)for(const Y of l.mount)oe(r.dirtyFields,Y)?et(Z,Y,oe(s,Y)):B(Y,oe(Z,Y));else{if(mg&&Pt($))for(const Y of l.mount){const ge=oe(i,Y);if(ge&&ge._f){const He=Array.isArray(ge._f.refs)?ge._f.refs[0]:ge._f.ref;if(Tc(He)){const it=He.closest("form");if(it){it.reset();break}}}}i={}}s=e.shouldUnregister?F.keepDefaultValues?or(o):{}:or(Z),f.array.next({values:{...Z}}),f.values.next({values:{...Z}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&t(),a.mount=!d.isValid||!!F.keepIsValid,a.watch=!!e.shouldUnregister,f.state.next({submitCount:F.keepSubmitCount?r.submitCount:0,isDirty:F.keepDirty?r.isDirty:!!(F.keepDefaultValues&&!ao($,o)),isSubmitted:F.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:F.keepDirtyValues?r.dirtyFields:F.keepDefaultValues&&$?Df(o,$):{},touchedFields:F.keepTouched?r.touchedFields:{},errors:F.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},ft=($,F)=>Ue(bi($)?$(s):$,F);return{control:{register:Ce,unregister:Ye,getFieldState:Ne,handleSubmit:Me,setError:je,_executeSchema:W,_getWatch:Q,_getDirty:X,_updateValid:p,_removeUnmounted:V,_updateFieldArray:_,_updateDisabledField:de,_getFieldArray:we,_reset:Ue,_resetDefaultValues:()=>bi(n.defaultValues)&&n.defaultValues().then($=>{ft($,n.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:$=>{r={...r,...$}},_subjects:f,_proxyFormState:d,get _fields(){return i},get _formValues(){return s},get _state(){return a},set _state($){a=$},get _defaultValues(){return o},get _names(){return l},set _names($){l=$},get _formState(){return r},set _formState($){r=$},get _options(){return n},set _options($){n={...n,...$}}},trigger:ce,register:Ce,handleSubmit:Me,watch:ct,setValue:B,getValues:Ee,reset:ft,resetField:Le,clearErrors:De,unregister:Ye,setError:je,setFocus:($,F={})=>{const L=oe(i,$),se=L&&L._f;if(se){const Z=se.refs?se.refs[0]:se.ref;Z.focus&&(Z.focus(),F.shouldSelect&&Z.select())}},getFieldState:Ne}}function uI(e={}){const t=pe.useRef(),n=pe.useRef(),[r,i]=pe.useState({isDirty:!1,isValidating:!1,isLoading:bi(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:bi(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...lI(e,()=>i(s=>({...s}))),formState:r});const o=t.current.control;return o._options=e,gg({subject:o._subjects.state,next:s=>{u1(s,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),pe.useEffect(()=>{e.values&&!ao(e.values,n.current)?(o._reset(e.values,o._options.resetOptions),n.current=e.values):o._resetDefaultValues()},[e.values,o]),pe.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=l1(r,o),t.current}var uy=function(e,t,n){if(e&&"reportValidity"in e){var r=oe(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},x1=function(e,t){var n=function(i){var o=t.fields[i];o&&o.ref&&"reportValidity"in o.ref?uy(o.ref,i,e):o.refs&&o.refs.forEach(function(s){return uy(s,i,e)})};for(var r in t.fields)n(r)},cI=function(e,t){t.shouldUseNativeValidation&&x1(e,t);var n={};for(var r in e){var i=oe(t.fields,r),o=Object.assign(e[r]||{},{ref:i&&i.ref});if(fI(t.names||Object.keys(e),r)){var s=Object.assign({},dI(oe(n,r)));et(s,"root",o),et(n,r,s)}else et(n,r,o)}return n},dI=function(e){return Array.isArray(e)?e.filter(Boolean):[]},fI=function(e,t){return e.some(function(n){return n.startsWith(t+".")})},hI=function(e,t){for(var n={};e.length;){var r=e[0],i=r.code,o=r.message,s=r.path.join(".");if(!n[s])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[s]={message:a.message,type:a.code}}else n[s]={message:o,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(c){return c.errors.forEach(function(d){return e.push(d)})}),t){var l=n[s].types,u=l&&l[r.code];n[s]=h1(s,t,n,i,u?[].concat(u,r.message):r.message)}e.shift()}return n},pI=function(e,t,n){return n===void 0&&(n={}),function(r,i,o){try{return Promise.resolve(function(s,a){try{var l=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(u){return o.shouldUseNativeValidation&&x1({},o),{errors:{},values:n.raw?r:u}})}catch(u){return a(u)}return l&&l.then?l.then(void 0,a):l}(0,function(s){if(function(a){return a.errors!=null}(s))return{values:{},errors:cI(hI(s.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw s}))}catch(s){return Promise.reject(s)}}},Xe;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const o={};for(const s of i)o[s]=s;return o},e.getValidEnumValues=i=>{const o=e.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(const a of o)s[a]=i[a];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(o){return i[o]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},e.find=(i,o)=>{for(const s of i)if(o(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}e.joinValues=r,e.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(Xe||(Xe={}));var cy;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(cy||(cy={}));const ue=Xe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),to=e=>{switch(typeof e){case"undefined":return ue.undefined;case"string":return ue.string;case"number":return isNaN(e)?ue.nan:ue.number;case"boolean":return ue.boolean;case"function":return ue.function;case"bigint":return ue.bigint;case"symbol":return ue.symbol;case"object":return Array.isArray(e)?ue.array:e===null?ue.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ue.promise:typeof Map<"u"&&e instanceof Map?ue.map:typeof Set<"u"&&e instanceof Set?ue.set:typeof Date<"u"&&e instanceof Date?ue.date:ue.object;default:return ue.unknown}},J=Xe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Pr extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(o){return o.message},r={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let a=r,l=0;for(;l<s.path.length;){const u=s.path[l];l===s.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(s))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Xe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Pr.create=e=>new Pr(e);const Dc=(e,t)=>{let n;switch(e.code){case J.invalid_type:e.received===ue.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case J.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Xe.jsonStringifyReplacer)}`;break;case J.unrecognized_keys:n=`Unrecognized key(s) in object: ${Xe.joinValues(e.keys,", ")}`;break;case J.invalid_union:n="Invalid input";break;case J.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Xe.joinValues(e.options)}`;break;case J.invalid_enum_value:n=`Invalid enum value. Expected ${Xe.joinValues(e.options)}, received '${e.received}'`;break;case J.invalid_arguments:n="Invalid function arguments";break;case J.invalid_return_type:n="Invalid function return type";break;case J.invalid_date:n="Invalid date";break;case J.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Xe.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case J.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case J.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case J.custom:n="Invalid input";break;case J.invalid_intersection_types:n="Intersection results could not be merged";break;case J.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case J.not_finite:n="Number must be finite";break;default:n=t.defaultError,Xe.assertNever(e)}return{message:n}};let mI=Dc;function wp(){return mI}const xp=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,o=[...n,...i.path||[]],s={...i,path:o};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(s,{data:t,defaultError:a}).message;return{...i,path:o,message:i.message||a}};function he(e,t){const n=xp({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,wp(),Dc].filter(r=>!!r)});e.common.issues.push(n)}class cn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return Te;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return cn.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return Te;o.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[o.value]=s.value)}return{status:t.value,value:r}}}const Te=Object.freeze({status:"aborted"}),gI=e=>({status:"dirty",value:e}),xn=e=>({status:"valid",value:e}),dy=e=>e.status==="aborted",fy=e=>e.status==="dirty",Lc=e=>e.status==="valid",_p=e=>typeof Promise<"u"&&e instanceof Promise;var be;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(be||(be={}));class Ar{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const hy=(e,t)=>{if(Lc(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Pr(e.common.issues);return this._error=n,this._error}}};function Ie(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(s,a)=>s.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:i}}class Fe{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return to(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:to(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new cn,ctx:{common:t.parent.common,data:t.data,parsedType:to(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(_p(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:to(t)},o=this._parseSync({data:t,path:i.path,parent:i});return hy(i,o)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:to(t)},i=this._parse({data:t,path:r.path,parent:r}),o=await(_p(i)?i:Promise.resolve(i));return hy(r,o)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const s=t(i),a=()=>o.addIssue({code:J.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new ii({schema:this,typeName:Re.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return ji.create(this,this._def)}nullable(){return Fs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return $r.create(this,this._def)}promise(){return wl.create(this,this._def)}or(t){return zc.create([this,t],this._def)}and(t){return Bc.create(this,t,this._def)}transform(t){return new ii({...Ie(this._def),schema:this,typeName:Re.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Kc({...Ie(this._def),innerType:this,defaultValue:n,typeName:Re.ZodDefault})}brand(){return new PI({typeName:Re.ZodBranded,type:this,...Ie(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Pp({...Ie(this._def),innerType:this,catchValue:n,typeName:Re.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Ad.create(this,t)}readonly(){return Ap.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const vI=/^c[^\s-]{8,}$/i,yI=/^[a-z][a-z0-9]*$/,wI=/[0-9A-HJKMNP-TV-Z]{26}/,xI=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_I=/^([A-Z0-9_+-]+\.?)*[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,bI=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,SI=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,CI=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,EI=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):e.precision===0?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function kI(e,t){return!!((t==="v4"||!t)&&SI.test(e)||(t==="v6"||!t)&&CI.test(e))}class Gr extends Fe{constructor(){super(...arguments),this._regex=(t,n,r)=>this.refinement(i=>t.test(i),{validation:n,code:J.invalid_string,...be.errToObj(r)}),this.nonempty=t=>this.min(1,be.errToObj(t)),this.trim=()=>new Gr({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new Gr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new Gr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ue.string){const o=this._getOrReturnCtx(t);return he(o,{code:J.invalid_type,expected:ue.string,received:o.parsedType}),Te}const r=new cn;let i;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(i=this._getOrReturnCtx(t,i),he(i,{code:J.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")t.data.length>o.value&&(i=this._getOrReturnCtx(t,i),he(i,{code:J.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const s=t.data.length>o.value,a=t.data.length<o.value;(s||a)&&(i=this._getOrReturnCtx(t,i),s?he(i,{code:J.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&he(i,{code:J.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")_I.test(t.data)||(i=this._getOrReturnCtx(t,i),he(i,{validation:"email",code:J.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")bI.test(t.data)||(i=this._getOrReturnCtx(t,i),he(i,{validation:"emoji",code:J.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")xI.test(t.data)||(i=this._getOrReturnCtx(t,i),he(i,{validation:"uuid",code:J.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")vI.test(t.data)||(i=this._getOrReturnCtx(t,i),he(i,{validation:"cuid",code:J.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")yI.test(t.data)||(i=this._getOrReturnCtx(t,i),he(i,{validation:"cuid2",code:J.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")wI.test(t.data)||(i=this._getOrReturnCtx(t,i),he(i,{validation:"ulid",code:J.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),he(i,{validation:"url",code:J.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),he(i,{validation:"regex",code:J.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(t,i),he(i,{code:J.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(i=this._getOrReturnCtx(t,i),he(i,{code:J.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(i=this._getOrReturnCtx(t,i),he(i,{code:J.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?EI(o).test(t.data)||(i=this._getOrReturnCtx(t,i),he(i,{code:J.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="ip"?kI(t.data,o.version)||(i=this._getOrReturnCtx(t,i),he(i,{validation:"ip",code:J.invalid_string,message:o.message}),r.dirty()):Xe.assertNever(o);return{status:r.value,value:t.data}}_addCheck(t){return new Gr({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...be.errToObj(t)})}url(t){return this._addCheck({kind:"url",...be.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...be.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...be.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...be.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...be.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...be.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...be.errToObj(t)})}datetime(t){var n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,...be.errToObj(t==null?void 0:t.message)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...be.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...be.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...be.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...be.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...be.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...be.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...be.errToObj(n)})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Gr.create=e=>{var t;return new Gr({checks:[],typeName:Re.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ie(e)})};function RI(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,o=parseInt(e.toFixed(i).replace(".","")),s=parseInt(t.toFixed(i).replace(".",""));return o%s/Math.pow(10,i)}class Ts extends Fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ue.number){const o=this._getOrReturnCtx(t);return he(o,{code:J.invalid_type,expected:ue.number,received:o.parsedType}),Te}let r;const i=new cn;for(const o of this._def.checks)o.kind==="int"?Xe.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),he(r,{code:J.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),he(r,{code:J.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),he(r,{code:J.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?RI(t.data,o.value)!==0&&(r=this._getOrReturnCtx(t,r),he(r,{code:J.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),he(r,{code:J.not_finite,message:o.message}),i.dirty()):Xe.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,be.toString(n))}gt(t,n){return this.setLimit("min",t,!1,be.toString(n))}lte(t,n){return this.setLimit("max",t,!0,be.toString(n))}lt(t,n){return this.setLimit("max",t,!1,be.toString(n))}setLimit(t,n,r,i){return new Ts({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:be.toString(i)}]})}_addCheck(t){return new Ts({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:be.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:be.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:be.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:be.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:be.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:be.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:be.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:be.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:be.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Xe.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Ts.create=e=>new Ts({checks:[],typeName:Re.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ie(e)});class Ns extends Fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==ue.bigint){const o=this._getOrReturnCtx(t);return he(o,{code:J.invalid_type,expected:ue.bigint,received:o.parsedType}),Te}let r;const i=new cn;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),he(r,{code:J.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),he(r,{code:J.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),he(r,{code:J.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):Xe.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,be.toString(n))}gt(t,n){return this.setLimit("min",t,!1,be.toString(n))}lte(t,n){return this.setLimit("max",t,!0,be.toString(n))}lt(t,n){return this.setLimit("max",t,!1,be.toString(n))}setLimit(t,n,r,i){return new Ns({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:be.toString(i)}]})}_addCheck(t){return new Ns({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:be.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:be.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:be.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:be.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:be.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ns.create=e=>{var t;return new Ns({checks:[],typeName:Re.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ie(e)})};class bp extends Fe{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ue.boolean){const r=this._getOrReturnCtx(t);return he(r,{code:J.invalid_type,expected:ue.boolean,received:r.parsedType}),Te}return xn(t.data)}}bp.create=e=>new bp({typeName:Re.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ie(e)});class yl extends Fe{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ue.date){const o=this._getOrReturnCtx(t);return he(o,{code:J.invalid_type,expected:ue.date,received:o.parsedType}),Te}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return he(o,{code:J.invalid_date}),Te}const r=new cn;let i;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(i=this._getOrReturnCtx(t,i),he(i,{code:J.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(i=this._getOrReturnCtx(t,i),he(i,{code:J.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):Xe.assertNever(o);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new yl({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:be.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:be.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}yl.create=e=>new yl({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Re.ZodDate,...Ie(e)});class Sp extends Fe{_parse(t){if(this._getType(t)!==ue.symbol){const r=this._getOrReturnCtx(t);return he(r,{code:J.invalid_type,expected:ue.symbol,received:r.parsedType}),Te}return xn(t.data)}}Sp.create=e=>new Sp({typeName:Re.ZodSymbol,...Ie(e)});class Uc extends Fe{_parse(t){if(this._getType(t)!==ue.undefined){const r=this._getOrReturnCtx(t);return he(r,{code:J.invalid_type,expected:ue.undefined,received:r.parsedType}),Te}return xn(t.data)}}Uc.create=e=>new Uc({typeName:Re.ZodUndefined,...Ie(e)});class Vc extends Fe{_parse(t){if(this._getType(t)!==ue.null){const r=this._getOrReturnCtx(t);return he(r,{code:J.invalid_type,expected:ue.null,received:r.parsedType}),Te}return xn(t.data)}}Vc.create=e=>new Vc({typeName:Re.ZodNull,...Ie(e)});class Cp extends Fe{constructor(){super(...arguments),this._any=!0}_parse(t){return xn(t.data)}}Cp.create=e=>new Cp({typeName:Re.ZodAny,...Ie(e)});class vs extends Fe{constructor(){super(...arguments),this._unknown=!0}_parse(t){return xn(t.data)}}vs.create=e=>new vs({typeName:Re.ZodUnknown,...Ie(e)});class Ui extends Fe{_parse(t){const n=this._getOrReturnCtx(t);return he(n,{code:J.invalid_type,expected:ue.never,received:n.parsedType}),Te}}Ui.create=e=>new Ui({typeName:Re.ZodNever,...Ie(e)});class Ep extends Fe{_parse(t){if(this._getType(t)!==ue.undefined){const r=this._getOrReturnCtx(t);return he(r,{code:J.invalid_type,expected:ue.void,received:r.parsedType}),Te}return xn(t.data)}}Ep.create=e=>new Ep({typeName:Re.ZodVoid,...Ie(e)});class $r extends Fe{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==ue.array)return he(n,{code:J.invalid_type,expected:ue.array,received:n.parsedType}),Te;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(s||a)&&(he(n,{code:s?J.too_big:J.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(he(n,{code:J.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(he(n,{code:J.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,a)=>i.type._parseAsync(new Ar(n,s,n.path,a)))).then(s=>cn.mergeArray(r,s));const o=[...n.data].map((s,a)=>i.type._parseSync(new Ar(n,s,n.path,a)));return cn.mergeArray(r,o)}get element(){return this._def.type}min(t,n){return new $r({...this._def,minLength:{value:t,message:be.toString(n)}})}max(t,n){return new $r({...this._def,maxLength:{value:t,message:be.toString(n)}})}length(t,n){return new $r({...this._def,exactLength:{value:t,message:be.toString(n)}})}nonempty(t){return this.min(1,t)}}$r.create=(e,t)=>new $r({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Re.ZodArray,...Ie(t)});function Ho(e){if(e instanceof bt){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=ji.create(Ho(r))}return new bt({...e._def,shape:()=>t})}else return e instanceof $r?new $r({...e._def,type:Ho(e.element)}):e instanceof ji?ji.create(Ho(e.unwrap())):e instanceof Fs?Fs.create(Ho(e.unwrap())):e instanceof ri?ri.create(e.items.map(t=>Ho(t))):e}class bt extends Fe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Xe.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==ue.object){const u=this._getOrReturnCtx(t);return he(u,{code:J.invalid_type,expected:ue.object,received:u.parsedType}),Te}const{status:r,ctx:i}=this._processInputParams(t),{shape:o,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ui&&this._def.unknownKeys==="strip"))for(const u in i.data)s.includes(u)||a.push(u);const l=[];for(const u of s){const c=o[u],d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Ar(i,d,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Ui){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of a)l.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(u==="strict")a.length>0&&(he(i,{code:J.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of a){const d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Ar(i,d,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const d=await c.key;u.push({key:d,value:await c.value,alwaysSet:c.alwaysSet})}return u}).then(u=>cn.mergeObjectSync(r,u)):cn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return be.errToObj,new bt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,o,s,a;const l=(s=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,n,r).message)!==null&&s!==void 0?s:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=be.errToObj(t).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new bt({...this._def,unknownKeys:"strip"})}passthrough(){return new bt({...this._def,unknownKeys:"passthrough"})}extend(t){return new bt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new bt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Re.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new bt({...this._def,catchall:t})}pick(t){const n={};return Xe.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new bt({...this._def,shape:()=>n})}omit(t){const n={};return Xe.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new bt({...this._def,shape:()=>n})}deepPartial(){return Ho(this)}partial(t){const n={};return Xe.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}),new bt({...this._def,shape:()=>n})}required(t){const n={};return Xe.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof ji;)o=o._def.innerType;n[r]=o}}),new bt({...this._def,shape:()=>n})}keyof(){return _1(Xe.objectKeys(this.shape))}}bt.create=(e,t)=>new bt({shape:()=>e,unknownKeys:"strip",catchall:Ui.create(),typeName:Re.ZodObject,...Ie(t)});bt.strictCreate=(e,t)=>new bt({shape:()=>e,unknownKeys:"strict",catchall:Ui.create(),typeName:Re.ZodObject,...Ie(t)});bt.lazycreate=(e,t)=>new bt({shape:e,unknownKeys:"strip",catchall:Ui.create(),typeName:Re.ZodObject,...Ie(t)});class zc extends Fe{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const s=o.map(a=>new Pr(a.ctx.common.issues));return he(n,{code:J.invalid_union,unionErrors:s}),Te}if(n.common.async)return Promise.all(r.map(async o=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let o;const s=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},c=l._parseSync({data:n.data,path:n.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!o&&(o={result:c,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(l=>new Pr(l));return he(n,{code:J.invalid_union,unionErrors:a}),Te}}get options(){return this._def.options}}zc.create=(e,t)=>new zc({options:e,typeName:Re.ZodUnion,...Ie(t)});const zu=e=>e instanceof qc?zu(e.schema):e instanceof ii?zu(e.innerType()):e instanceof Wc?[e.value]:e instanceof So?e.options:e instanceof Gc?Object.keys(e.enum):e instanceof Kc?zu(e._def.innerType):e instanceof Uc?[void 0]:e instanceof Vc?[null]:null;class xg extends Fe{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==ue.object)return he(n,{code:J.invalid_type,expected:ue.object,received:n.parsedType}),Te;const r=this.discriminator,i=n.data[r],o=this.optionsMap.get(i);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(he(n,{code:J.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Te)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const i=new Map;for(const o of n){const s=zu(o.shape[t]);if(!s)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of s){if(i.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);i.set(a,o)}}return new xg({typeName:Re.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...Ie(r)})}}function kp(e,t){const n=to(e),r=to(t);if(e===t)return{valid:!0,data:e};if(n===ue.object&&r===ue.object){const i=Xe.objectKeys(t),o=Xe.objectKeys(e).filter(a=>i.indexOf(a)!==-1),s={...e,...t};for(const a of o){const l=kp(e[a],t[a]);if(!l.valid)return{valid:!1};s[a]=l.data}return{valid:!0,data:s}}else if(n===ue.array&&r===ue.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let o=0;o<e.length;o++){const s=e[o],a=t[o],l=kp(s,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===ue.date&&r===ue.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Bc extends Fe{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(o,s)=>{if(dy(o)||dy(s))return Te;const a=kp(o.value,s.value);return a.valid?((fy(o)||fy(s))&&n.dirty(),{status:n.value,value:a.data}):(he(r,{code:J.invalid_intersection_types}),Te)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Bc.create=(e,t,n)=>new Bc({left:e,right:t,typeName:Re.ZodIntersection,...Ie(n)});class ri extends Fe{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==ue.array)return he(r,{code:J.invalid_type,expected:ue.array,received:r.parsedType}),Te;if(r.data.length<this._def.items.length)return he(r,{code:J.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Te;!this._def.rest&&r.data.length>this._def.items.length&&(he(r,{code:J.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((s,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Ar(r,s,r.path,a)):null}).filter(s=>!!s);return r.common.async?Promise.all(o).then(s=>cn.mergeArray(n,s)):cn.mergeArray(n,o)}get items(){return this._def.items}rest(t){return new ri({...this._def,rest:t})}}ri.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ri({items:e,typeName:Re.ZodTuple,rest:null,...Ie(t)})};class Hc extends Fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==ue.object)return he(r,{code:J.invalid_type,expected:ue.object,received:r.parsedType}),Te;const i=[],o=this._def.keyType,s=this._def.valueType;for(const a in r.data)i.push({key:o._parse(new Ar(r,a,r.path,a)),value:s._parse(new Ar(r,r.data[a],r.path,a))});return r.common.async?cn.mergeObjectAsync(n,i):cn.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof Fe?new Hc({keyType:t,valueType:n,typeName:Re.ZodRecord,...Ie(r)}):new Hc({keyType:Gr.create(),valueType:t,typeName:Re.ZodRecord,...Ie(n)})}}class Rp extends Fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==ue.map)return he(r,{code:J.invalid_type,expected:ue.map,received:r.parsedType}),Te;const i=this._def.keyType,o=this._def.valueType,s=[...r.data.entries()].map(([a,l],u)=>({key:i._parse(new Ar(r,a,r.path,[u,"key"])),value:o._parse(new Ar(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of s){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return Te;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of s){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return Te;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}}}}Rp.create=(e,t,n)=>new Rp({valueType:t,keyType:e,typeName:Re.ZodMap,...Ie(n)});class js extends Fe{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==ue.set)return he(r,{code:J.invalid_type,expected:ue.set,received:r.parsedType}),Te;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(he(r,{code:J.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(he(r,{code:J.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function s(l){const u=new Set;for(const c of l){if(c.status==="aborted")return Te;c.status==="dirty"&&n.dirty(),u.add(c.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>o._parse(new Ar(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>s(l)):s(a)}min(t,n){return new js({...this._def,minSize:{value:t,message:be.toString(n)}})}max(t,n){return new js({...this._def,maxSize:{value:t,message:be.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}js.create=(e,t)=>new js({valueType:e,minSize:null,maxSize:null,typeName:Re.ZodSet,...Ie(t)});class za extends Fe{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==ue.function)return he(n,{code:J.invalid_type,expected:ue.function,received:n.parsedType}),Te;function r(a,l){return xp({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,wp(),Dc].filter(u=>!!u),issueData:{code:J.invalid_arguments,argumentsError:l}})}function i(a,l){return xp({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,wp(),Dc].filter(u=>!!u),issueData:{code:J.invalid_return_type,returnTypeError:l}})}const o={errorMap:n.common.contextualErrorMap},s=n.data;if(this._def.returns instanceof wl){const a=this;return xn(async function(...l){const u=new Pr([]),c=await a._def.args.parseAsync(l,o).catch(h=>{throw u.addIssue(r(l,h)),u}),d=await Reflect.apply(s,this,c);return await a._def.returns._def.type.parseAsync(d,o).catch(h=>{throw u.addIssue(i(d,h)),u})})}else{const a=this;return xn(function(...l){const u=a._def.args.safeParse(l,o);if(!u.success)throw new Pr([r(l,u.error)]);const c=Reflect.apply(s,this,u.data),d=a._def.returns.safeParse(c,o);if(!d.success)throw new Pr([i(c,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new za({...this._def,args:ri.create(t).rest(vs.create())})}returns(t){return new za({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new za({args:t||ri.create([]).rest(vs.create()),returns:n||vs.create(),typeName:Re.ZodFunction,...Ie(r)})}}class qc extends Fe{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}qc.create=(e,t)=>new qc({getter:e,typeName:Re.ZodLazy,...Ie(t)});class Wc extends Fe{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return he(n,{received:n.data,code:J.invalid_literal,expected:this._def.value}),Te}return{status:"valid",value:t.data}}get value(){return this._def.value}}Wc.create=(e,t)=>new Wc({value:e,typeName:Re.ZodLiteral,...Ie(t)});function _1(e,t){return new So({values:e,typeName:Re.ZodEnum,...Ie(t)})}class So extends Fe{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return he(n,{expected:Xe.joinValues(r),received:n.parsedType,code:J.invalid_type}),Te}if(this._def.values.indexOf(t.data)===-1){const n=this._getOrReturnCtx(t),r=this._def.values;return he(n,{received:n.data,code:J.invalid_enum_value,options:r}),Te}return xn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t){return So.create(t)}exclude(t){return So.create(this.options.filter(n=>!t.includes(n)))}}So.create=_1;class Gc extends Fe{_parse(t){const n=Xe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==ue.string&&r.parsedType!==ue.number){const i=Xe.objectValues(n);return he(r,{expected:Xe.joinValues(i),received:r.parsedType,code:J.invalid_type}),Te}if(n.indexOf(t.data)===-1){const i=Xe.objectValues(n);return he(r,{received:r.data,code:J.invalid_enum_value,options:i}),Te}return xn(t.data)}get enum(){return this._def.values}}Gc.create=(e,t)=>new Gc({values:e,typeName:Re.ZodNativeEnum,...Ie(t)});class wl extends Fe{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==ue.promise&&n.common.async===!1)return he(n,{code:J.invalid_type,expected:ue.promise,received:n.parsedType}),Te;const r=n.parsedType===ue.promise?n.data:Promise.resolve(n.data);return xn(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}wl.create=(e,t)=>new wl({type:e,typeName:Re.ZodPromise,...Ie(t)});class ii extends Fe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Re.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,o={addIssue:s=>{he(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const s=i.transform(r.data,o);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(s).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:s,path:r.path,parent:r})}if(i.type==="refinement"){const s=a=>{const l=i.refinement(a,o);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Te:(a.status==="dirty"&&n.dirty(),s(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Te:(a.status==="dirty"&&n.dirty(),s(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Lc(s))return s;const a=i.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>Lc(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:n.value,value:a})):s);Xe.assertNever(i)}}ii.create=(e,t,n)=>new ii({schema:e,typeName:Re.ZodEffects,effect:t,...Ie(n)});ii.createWithPreprocess=(e,t,n)=>new ii({schema:t,effect:{type:"preprocess",transform:e},typeName:Re.ZodEffects,...Ie(n)});class ji extends Fe{_parse(t){return this._getType(t)===ue.undefined?xn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ji.create=(e,t)=>new ji({innerType:e,typeName:Re.ZodOptional,...Ie(t)});class Fs extends Fe{_parse(t){return this._getType(t)===ue.null?xn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Fs.create=(e,t)=>new Fs({innerType:e,typeName:Re.ZodNullable,...Ie(t)});class Kc extends Fe{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===ue.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Kc.create=(e,t)=>new Kc({innerType:e,typeName:Re.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ie(t)});class Pp extends Fe{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return _p(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Pr(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Pr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Pp.create=(e,t)=>new Pp({innerType:e,typeName:Re.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ie(t)});class $p extends Fe{_parse(t){if(this._getType(t)!==ue.nan){const r=this._getOrReturnCtx(t);return he(r,{code:J.invalid_type,expected:ue.nan,received:r.parsedType}),Te}return{status:"valid",value:t.data}}}$p.create=e=>new $p({typeName:Re.ZodNaN,...Ie(e)});class PI extends Fe{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Ad extends Fe{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Te:o.status==="dirty"?(n.dirty(),gI(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Te:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new Ad({in:t,out:n,typeName:Re.ZodPipeline})}}class Ap extends Fe{_parse(t){const n=this._def.innerType._parse(t);return Lc(n)&&(n.value=Object.freeze(n.value)),n}}Ap.create=(e,t)=>new Ap({innerType:e,typeName:Re.ZodReadonly,...Ie(t)});bt.lazycreate;var Re;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Re||(Re={}));const $I=Gr.create;Ts.create;$p.create;Ns.create;bp.create;yl.create;Sp.create;Uc.create;Vc.create;Cp.create;vs.create;Ui.create;Ep.create;$r.create;const AI=bt.create;bt.strictCreate;zc.create;xg.create;Bc.create;ri.create;Hc.create;Rp.create;js.create;za.create;qc.create;Wc.create;So.create;Gc.create;wl.create;ii.create;ji.create;Fs.create;ii.createWithPreprocess;Ad.create;const OI=v.forwardRef((e,t)=>v.createElement(_t.label,Pe({},e,{ref:t,onMouseDown:n=>{var r;(r=e.onMouseDown)===null||r===void 0||r.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault()}}))),b1=OI,MI=jl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),_g=v.forwardRef(({className:e,...t},n)=>R.jsx(b1,{ref:n,className:ze(MI(),e),...t}));_g.displayName=b1.displayName;const S1=v.createContext({}),C1=v.createContext({}),Od=()=>{const e=v.useContext(S1),t=v.useContext(C1),{getFieldState:n,formState:r}=$d(),i=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...i}},II=KM,TI=({...e})=>R.jsx(S1.Provider,{value:{name:e.name},children:R.jsx(XM,{...e})}),E1=v.forwardRef(({className:e,...t},n)=>{const r=v.useId();return R.jsx(C1.Provider,{value:{id:r},children:R.jsx("div",{ref:n,className:ze("space-y-2",e),...t})})});E1.displayName="FormItem";const k1=v.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:i}=Od();return R.jsx(_g,{ref:n,className:ze(r&&"text-destructive",e),htmlFor:i,...t})});k1.displayName="FormLabel";const R1=v.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:o}=Od();return R.jsx(ni,{ref:t,id:r,"aria-describedby":n?`${i} ${o}`:`${i}`,"aria-invalid":!!n,...e})});R1.displayName="FormControl";const NI=v.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=Od();return R.jsx("p",{ref:n,id:r,className:ze("text-[0.8rem] text-muted-foreground",e),...t})});NI.displayName="FormDescription";const P1=v.forwardRef(({className:e,children:t,...n},r)=>{const{error:i,formMessageId:o}=Od(),s=i?String(i==null?void 0:i.message):t;return s?R.jsx("p",{ref:r,id:o,className:ze("text-[0.8rem] font-medium text-destructive",e),...n,children:s}):null});P1.displayName="FormMessage";const $1=v.forwardRef(({className:e,type:t,...n},r)=>R.jsx("input",{type:t,className:ze("flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));$1.displayName="Input";function jI(){const e=v.useMemo(()=>vl.getInstance(),[]),t=v.useCallback((n,r)=>{e[n]=r},[e]);return{config:{latticeUrl:e.latticeUrl},setConfig:t}}const FI=AI({latticeUrl:$I().url({message:"Please enter a valid URL"}).refine(e=>vl.getInstance().testConnection(e),{message:"Could not connect to Lattice"})});function DI({onSave:e}){const{config:{latticeUrl:t},setConfig:n}=jI(),r=uI({resolver:pI(FI),defaultValues:{latticeUrl:t}}),i=s=>{e(s),n("latticeUrl",r.getValues("latticeUrl"))};v.useEffect(()=>{r.setValue("latticeUrl",t)},[r,t]);const o=Object.values(r.formState.errors).length>0;return R.jsx(II,{...r,children:R.jsxs("form",{onSubmit:r.handleSubmit(i),children:[R.jsx(TI,{control:r.control,name:"latticeUrl",render:({field:s})=>R.jsxs(E1,{className:"grid w-full max-w-sm items-center gap-1.5",children:[R.jsx(k1,{htmlFor:"latticeUrl",children:"Server URL"}),R.jsx(R1,{children:R.jsx($1,{type:"text",placeholder:"ws://server:port",...s})}),R.jsx(P1,{})]})}),R.jsx("div",{className:"mt-4 flex justify-end",children:R.jsx(Ed,{variant:"default",type:"submit",disabled:o,children:"Update"})})]})})}function LI(e,t=globalThis==null?void 0:globalThis.document){const n=ti(e);v.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const Op="dismissableLayer.update",UI="dismissableLayer.pointerDownOutside",VI="dismissableLayer.focusOutside";let py;const zI=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),A1=v.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...u}=e,c=v.useContext(zI),[d,f]=v.useState(null),h=(n=d==null?void 0:d.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,m]=v.useState({}),g=Lt(t,j=>f(j)),C=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),p=C.indexOf(y),w=d?C.indexOf(d):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,P=w>=p,I=BI(j=>{const W=j.target,K=[...c.branches].some(ae=>ae.contains(W));!P||K||(o==null||o(j),a==null||a(j),j.defaultPrevented||l==null||l())},h),M=HI(j=>{const W=j.target;[...c.branches].some(ae=>ae.contains(W))||(s==null||s(j),a==null||a(j),j.defaultPrevented||l==null||l())},h);return LI(j=>{w===c.layers.size-1&&(i==null||i(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},h),v.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(py=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),my(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=py)}},[d,h,r,c]),v.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),my())},[d,c]),v.useEffect(()=>{const j=()=>m({});return document.addEventListener(Op,j),()=>document.removeEventListener(Op,j)},[]),v.createElement(_t.div,Pe({},u,{ref:g,style:{pointerEvents:_?P?"auto":"none":void 0,...e.style},onFocusCapture:Ot(e.onFocusCapture,M.onFocusCapture),onBlurCapture:Ot(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Ot(e.onPointerDownCapture,I.onPointerDownCapture)}))});function BI(e,t=globalThis==null?void 0:globalThis.document){const n=ti(e),r=v.useRef(!1),i=v.useRef(()=>{});return v.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let c=function(){O1(UI,n,u,{discrete:!0})};var l=c;const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function HI(e,t=globalThis==null?void 0:globalThis.document){const n=ti(e),r=v.useRef(!1);return v.useEffect(()=>{const i=o=>{o.target&&!r.current&&O1(VI,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function my(){const e=new CustomEvent(Op);document.dispatchEvent(e)}function O1(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?lA(i,o):i.dispatchEvent(o)}let Uf=0;function M1(){v.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:gy()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:gy()),Uf++,()=>{Uf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Uf--}},[])}function gy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const Vf="focusScope.autoFocusOnMount",zf="focusScope.autoFocusOnUnmount",vy={bubbles:!1,cancelable:!0},I1=v.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=e,[a,l]=v.useState(null),u=ti(i),c=ti(o),d=v.useRef(null),f=Lt(t,g=>l(g)),h=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let p=function(I){if(h.paused||!a)return;const M=I.target;a.contains(M)?d.current=M:hi(d.current,{select:!0})},w=function(I){if(h.paused||!a)return;const M=I.relatedTarget;M!==null&&(a.contains(M)||hi(d.current,{select:!0}))},_=function(I){if(document.activeElement===document.body)for(const j of I)j.removedNodes.length>0&&hi(a)};var g=p,C=w,y=_;document.addEventListener("focusin",p),document.addEventListener("focusout",w);const P=new MutationObserver(_);return a&&P.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",w),P.disconnect()}}},[r,a,h.paused]),v.useEffect(()=>{if(a){wy.add(h);const g=document.activeElement;if(!a.contains(g)){const y=new CustomEvent(Vf,vy);a.addEventListener(Vf,u),a.dispatchEvent(y),y.defaultPrevented||(qI(ZI(T1(a)),{select:!0}),document.activeElement===g&&hi(a))}return()=>{a.removeEventListener(Vf,u),setTimeout(()=>{const y=new CustomEvent(zf,vy);a.addEventListener(zf,c),a.dispatchEvent(y),y.defaultPrevented||hi(g??document.body,{select:!0}),a.removeEventListener(zf,c),wy.remove(h)},0)}}},[a,u,c,h]);const m=v.useCallback(g=>{if(!n&&!r||h.paused)return;const C=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(C&&y){const p=g.currentTarget,[w,_]=WI(p);w&&_?!g.shiftKey&&y===_?(g.preventDefault(),n&&hi(w,{select:!0})):g.shiftKey&&y===w&&(g.preventDefault(),n&&hi(_,{select:!0})):y===p&&g.preventDefault()}},[n,r,h.paused]);return v.createElement(_t.div,Pe({tabIndex:-1},s,{ref:f,onKeyDown:m}))});function qI(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(hi(r,{select:t}),document.activeElement!==n)return}function WI(e){const t=T1(e),n=yy(t,e),r=yy(t.reverse(),e);return[n,r]}function T1(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function yy(e,t){for(const n of e)if(!GI(n,{upTo:t}))return n}function GI(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function KI(e){return e instanceof HTMLInputElement&&"select"in e}function hi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&KI(e)&&t&&e.select()}}const wy=YI();function YI(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=xy(e,t),e.unshift(t)},remove(t){var n;e=xy(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function xy(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function ZI(e){return e.filter(t=>t.tagName!=="A")}const JI=["top","right","bottom","left"],Vi=Math.min,En=Math.max,Yc=Math.round,vu=Math.floor,zi=e=>({x:e,y:e}),XI={left:"right",right:"left",bottom:"top",top:"bottom"},QI={start:"end",end:"start"};function Mp(e,t,n){return En(e,Vi(t,n))}function oi(e,t){return typeof e=="function"?e(t):e}function si(e){return e.split("-")[0]}function Gs(e){return e.split("-")[1]}function bg(e){return e==="x"?"y":"x"}function Sg(e){return e==="y"?"height":"width"}function Ks(e){return["top","bottom"].includes(si(e))?"y":"x"}function Cg(e){return bg(Ks(e))}function eT(e,t,n){n===void 0&&(n=!1);const r=Gs(e),i=Cg(e),o=Sg(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=Zc(s)),[s,Zc(s)]}function tT(e){const t=Zc(e);return[Ip(e),t,Ip(t)]}function Ip(e){return e.replace(/start|end/g,t=>QI[t])}function nT(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function rT(e,t,n,r){const i=Gs(e);let o=nT(si(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(Ip)))),o}function Zc(e){return e.replace(/left|right|bottom|top/g,t=>XI[t])}function iT(e){return{top:0,right:0,bottom:0,left:0,...e}}function N1(e){return typeof e!="number"?iT(e):{top:e,right:e,bottom:e,left:e}}function Jc(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function _y(e,t,n){let{reference:r,floating:i}=e;const o=Ks(t),s=Cg(t),a=Sg(s),l=si(t),u=o==="y",c=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(Gs(t)){case"start":h[s]-=f*(n&&u?-1:1);break;case"end":h[s]+=f*(n&&u?-1:1);break}return h}const oT=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=_y(u,r,l),f=r,h={},m=0;for(let g=0;g<a.length;g++){const{name:C,fn:y}=a[g],{x:p,y:w,data:_,reset:P}=await y({x:c,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:u,platform:s,elements:{reference:e,floating:t}});if(c=p??c,d=w??d,h={...h,[C]:{...h[C],..._}},P&&m<=50){m++,typeof P=="object"&&(P.placement&&(f=P.placement),P.rects&&(u=P.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):P.rects),{x:c,y:d}=_y(u,f,l)),g=-1;continue}}return{x:c,y:d,placement:f,strategy:i,middlewareData:h}};async function xl(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=oi(t,e),m=N1(h),C=a[f?d==="floating"?"reference":"floating":d],y=Jc(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(C)))==null||n?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),p=d==="floating"?{...s.floating,x:r,y:i}:s.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),_=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},P=Jc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:p,offsetParent:w,strategy:l}):p);return{top:(y.top-P.top+m.top)/_.y,bottom:(P.bottom-y.bottom+m.bottom)/_.y,left:(y.left-P.left+m.left)/_.x,right:(P.right-y.right+m.right)/_.x}}const by=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a}=t,{element:l,padding:u=0}=oi(e,t)||{};if(l==null)return{};const c=N1(u),d={x:n,y:r},f=Cg(i),h=Sg(f),m=await s.getDimensions(l),g=f==="y",C=g?"top":"left",y=g?"bottom":"right",p=g?"clientHeight":"clientWidth",w=o.reference[h]+o.reference[f]-d[f]-o.floating[h],_=d[f]-o.reference[f],P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l));let I=P?P[p]:0;(!I||!await(s.isElement==null?void 0:s.isElement(P)))&&(I=a.floating[p]||o.floating[h]);const M=w/2-_/2,j=I/2-m[h]/2-1,W=Vi(c[C],j),K=Vi(c[y],j),ae=W,V=I-m[h]-K,X=I/2-m[h]/2+M,Q=Mp(ae,X,V),ie=Gs(i)!=null&&X!=Q&&o.reference[h]/2-(X<ae?W:K)-m[h]/2<0?X<ae?ae-X:V-X:0;return{[f]:d[f]-ie,data:{[f]:Q,centerOffset:X-Q+ie}}}}),sT=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:i,rects:o,initialPlacement:s,platform:a,elements:l}=t,{mainAxis:u=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...g}=oi(e,t),C=si(r),y=si(s)===s,p=await(a.isRTL==null?void 0:a.isRTL(l.floating)),w=d||(y||!m?[Zc(s)]:tT(s));!d&&h!=="none"&&w.push(...rT(s,m,h,p));const _=[s,...w],P=await xl(t,g),I=[];let M=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&I.push(P[C]),c){const ae=eT(r,o,p);I.push(P[ae[0]],P[ae[1]])}if(M=[...M,{placement:r,overflows:I}],!I.every(ae=>ae<=0)){var j,W;const ae=(((j=i.flip)==null?void 0:j.index)||0)+1,V=_[ae];if(V)return{data:{index:ae,overflows:M},reset:{placement:V}};let X=(W=M.filter(Q=>Q.overflows[0]<=0).sort((Q,we)=>Q.overflows[1]-we.overflows[1])[0])==null?void 0:W.placement;if(!X)switch(f){case"bestFit":{var K;const Q=(K=M.map(we=>[we.placement,we.overflows.filter(ie=>ie>0).reduce((ie,$e)=>ie+$e,0)]).sort((we,ie)=>we[1]-ie[1])[0])==null?void 0:K[0];Q&&(X=Q);break}case"initialPlacement":X=s;break}if(r!==X)return{reset:{placement:X}}}return{}}}};function Sy(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Cy(e){return JI.some(t=>e[t]>=0)}const aT=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=oi(e,t);switch(r){case"referenceHidden":{const o=await xl(t,{...i,elementContext:"reference"}),s=Sy(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Cy(s)}}}case"escaped":{const o=await xl(t,{...i,altBoundary:!0}),s=Sy(o,n.floating);return{data:{escapedOffsets:s,escaped:Cy(s)}}}default:return{}}}}};async function lT(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=si(n),a=Gs(n),l=Ks(n)==="y",u=["left","top"].includes(s)?-1:1,c=o&&l?-1:1,d=oi(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof m=="number"&&(h=a==="end"?m*-1:m),l?{x:h*c,y:f*u}:{x:f*u,y:h*c}}const uT=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,i=await lT(t,e);return{x:n+i.x,y:r+i.y,data:i}}}},cT=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:C=>{let{x:y,y:p}=C;return{x:y,y:p}}},...l}=oi(e,t),u={x:n,y:r},c=await xl(t,l),d=Ks(si(i)),f=bg(d);let h=u[f],m=u[d];if(o){const C=f==="y"?"top":"left",y=f==="y"?"bottom":"right",p=h+c[C],w=h-c[y];h=Mp(p,h,w)}if(s){const C=d==="y"?"top":"left",y=d==="y"?"bottom":"right",p=m+c[C],w=m-c[y];m=Mp(p,m,w)}const g=a.fn({...t,[f]:h,[d]:m});return{...g,data:{x:g.x-n,y:g.y-r}}}}},dT=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=oi(e,t),c={x:n,y:r},d=Ks(i),f=bg(d);let h=c[f],m=c[d];const g=oi(a,t),C=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const w=f==="y"?"height":"width",_=o.reference[f]-o.floating[w]+C.mainAxis,P=o.reference[f]+o.reference[w]-C.mainAxis;h<_?h=_:h>P&&(h=P)}if(u){var y,p;const w=f==="y"?"width":"height",_=["top","left"].includes(si(i)),P=o.reference[d]-o.floating[w]+(_&&((y=s.offset)==null?void 0:y[d])||0)+(_?0:C.crossAxis),I=o.reference[d]+o.reference[w]+(_?0:((p=s.offset)==null?void 0:p[d])||0)-(_?C.crossAxis:0);m<P?m=P:m>I&&(m=I)}return{[f]:h,[d]:m}}}},fT=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:o}=t,{apply:s=()=>{},...a}=oi(e,t),l=await xl(t,a),u=si(n),c=Gs(n),d=Ks(n)==="y",{width:f,height:h}=r.floating;let m,g;u==="top"||u==="bottom"?(m=u,g=c===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(g=u,m=c==="end"?"top":"bottom");const C=h-l[m],y=f-l[g],p=!t.middlewareData.shift;let w=C,_=y;if(d){const I=f-l.left-l.right;_=c||p?Vi(y,I):I}else{const I=h-l.top-l.bottom;w=c||p?Vi(C,I):I}if(p&&!c){const I=En(l.left,0),M=En(l.right,0),j=En(l.top,0),W=En(l.bottom,0);d?_=f-2*(I!==0||M!==0?I+M:En(l.left,l.right)):w=h-2*(j!==0||W!==0?j+W:En(l.top,l.bottom))}await s({...t,availableWidth:_,availableHeight:w});const P=await i.getDimensions(o.floating);return f!==P.width||h!==P.height?{reset:{rects:!0}}:{}}}};function Bi(e){return j1(e)?(e.nodeName||"").toLowerCase():"#document"}function An(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ci(e){var t;return(t=(j1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function j1(e){return e instanceof Node||e instanceof An(e).Node}function ai(e){return e instanceof Element||e instanceof An(e).Element}function Or(e){return e instanceof HTMLElement||e instanceof An(e).HTMLElement}function Ey(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof An(e).ShadowRoot}function Vl(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Qn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function hT(e){return["table","td","th"].includes(Bi(e))}function Eg(e){const t=kg(),n=Qn(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function pT(e){let t=Ds(e);for(;Or(t)&&!Md(t);){if(Eg(t))return t;t=Ds(t)}return null}function kg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Md(e){return["html","body","#document"].includes(Bi(e))}function Qn(e){return An(e).getComputedStyle(e)}function Id(e){return ai(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Ds(e){if(Bi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ey(e)&&e.host||ci(e);return Ey(t)?t.host:t}function F1(e){const t=Ds(e);return Md(t)?e.ownerDocument?e.ownerDocument.body:e.body:Or(t)&&Vl(t)?t:F1(t)}function Xc(e,t){var n;t===void 0&&(t=[]);const r=F1(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=An(r);return i?t.concat(o,o.visualViewport||[],Vl(r)?r:[]):t.concat(r,Xc(r))}function D1(e){const t=Qn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Or(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=Yc(n)!==o||Yc(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function Rg(e){return ai(e)?e:e.contextElement}function ys(e){const t=Rg(e);if(!Or(t))return zi(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=D1(t);let s=(o?Yc(n.width):n.width)/r,a=(o?Yc(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const mT=zi(0);function L1(e){const t=An(e);return!kg()||!t.visualViewport?mT:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function gT(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==An(e)?!1:t}function Co(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=Rg(e);let s=zi(1);t&&(r?ai(r)&&(s=ys(r)):s=ys(e));const a=gT(o,n,r)?L1(o):zi(0);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,c=i.width/s.x,d=i.height/s.y;if(o){const f=An(o),h=r&&ai(r)?An(r):r;let m=f.frameElement;for(;m&&r&&h!==f;){const g=ys(m),C=m.getBoundingClientRect(),y=Qn(m),p=C.left+(m.clientLeft+parseFloat(y.paddingLeft))*g.x,w=C.top+(m.clientTop+parseFloat(y.paddingTop))*g.y;l*=g.x,u*=g.y,c*=g.x,d*=g.y,l+=p,u+=w,m=An(m).frameElement}}return Jc({width:c,height:d,x:l,y:u})}function vT(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=Or(n),o=ci(n);if(n===o)return t;let s={scrollLeft:0,scrollTop:0},a=zi(1);const l=zi(0);if((i||!i&&r!=="fixed")&&((Bi(n)!=="body"||Vl(o))&&(s=Id(n)),Or(n))){const u=Co(n);a=ys(n),l.x=u.x+n.clientLeft,l.y=u.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-s.scrollLeft*a.x+l.x,y:t.y*a.y-s.scrollTop*a.y+l.y}}function yT(e){return Array.from(e.getClientRects())}function U1(e){return Co(ci(e)).left+Id(e).scrollLeft}function wT(e){const t=ci(e),n=Id(e),r=e.ownerDocument.body,i=En(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=En(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+U1(e);const a=-n.scrollTop;return Qn(r).direction==="rtl"&&(s+=En(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function xT(e,t){const n=An(e),r=ci(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const u=kg();(!u||u&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function _T(e,t){const n=Co(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Or(e)?ys(e):zi(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:s,height:a,x:l,y:u}}function ky(e,t,n){let r;if(t==="viewport")r=xT(e,n);else if(t==="document")r=wT(ci(e));else if(ai(t))r=_T(t,n);else{const i=L1(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return Jc(r)}function V1(e,t){const n=Ds(e);return n===t||!ai(n)||Md(n)?!1:Qn(n).position==="fixed"||V1(n,t)}function bT(e,t){const n=t.get(e);if(n)return n;let r=Xc(e).filter(a=>ai(a)&&Bi(a)!=="body"),i=null;const o=Qn(e).position==="fixed";let s=o?Ds(e):e;for(;ai(s)&&!Md(s);){const a=Qn(s),l=Eg(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Vl(s)&&!l&&V1(e,s))?r=r.filter(c=>c!==s):i=a,s=Ds(s)}return t.set(e,r),r}function ST(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?bT(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((u,c)=>{const d=ky(t,c,i);return u.top=En(d.top,u.top),u.right=Vi(d.right,u.right),u.bottom=Vi(d.bottom,u.bottom),u.left=En(d.left,u.left),u},ky(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function CT(e){return D1(e)}function ET(e,t,n){const r=Or(t),i=ci(t),o=n==="fixed",s=Co(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=zi(0);if(r||!r&&!o)if((Bi(t)!=="body"||Vl(i))&&(a=Id(t)),r){const u=Co(t,!0,o,t);l.x=u.x+t.clientLeft,l.y=u.y+t.clientTop}else i&&(l.x=U1(i));return{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Ry(e,t){return!Or(e)||Qn(e).position==="fixed"?null:t?t(e):e.offsetParent}function z1(e,t){const n=An(e);if(!Or(e))return n;let r=Ry(e,t);for(;r&&hT(r)&&Qn(r).position==="static";)r=Ry(r,t);return r&&(Bi(r)==="html"||Bi(r)==="body"&&Qn(r).position==="static"&&!Eg(r))?n:r||pT(e)||n}const kT=async function(e){let{reference:t,floating:n,strategy:r}=e;const i=this.getOffsetParent||z1,o=this.getDimensions;return{reference:ET(t,await i(n),r),floating:{x:0,y:0,...await o(n)}}};function RT(e){return Qn(e).direction==="rtl"}const PT={convertOffsetParentRelativeRectToViewportRelativeRect:vT,getDocumentElement:ci,getClippingRect:ST,getOffsetParent:z1,getElementRects:kT,getClientRects:yT,getDimensions:CT,getScale:ys,isElement:ai,isRTL:RT};function $T(e,t){let n=null,r;const i=ci(e);function o(){clearTimeout(r),n&&n.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:u,top:c,width:d,height:f}=e.getBoundingClientRect();if(a||t(),!d||!f)return;const h=vu(c),m=vu(i.clientWidth-(u+d)),g=vu(i.clientHeight-(c+f)),C=vu(u),p={rootMargin:-h+"px "+-m+"px "+-g+"px "+-C+"px",threshold:En(0,Vi(1,l))||1};let w=!0;function _(P){const I=P[0].intersectionRatio;if(I!==l){if(!w)return s();I?s(!1,I):r=setTimeout(()=>{s(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(_,{...p,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,p)}n.observe(e)}return s(!0),o}function AT(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Rg(e),c=i||o?[...u?Xc(u):[],...Xc(t)]:[];c.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const d=u&&a?$T(u,n):null;let f=-1,h=null;s&&(h=new ResizeObserver(y=>{let[p]=y;p&&p.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{h&&h.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let m,g=l?Co(e):null;l&&C();function C(){const y=Co(e);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&n(),g=y,m=requestAnimationFrame(C)}return n(),()=>{c.forEach(y=>{i&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),d&&d(),h&&h.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const OT=(e,t,n)=>{const r=new Map,i={platform:PT,...n},o={...i.platform,_c:r};return oT(e,t,{...i,platform:o})},MT=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?by({element:r.current,padding:i}).fn(n):{}:r?by({element:r,padding:i}).fn(n):{}}}};var Bu=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Qc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Qc(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!Qc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function B1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Py(e,t){const n=B1(e);return Math.round(t*n)/n}function $y(e){const t=v.useRef(e);return Bu(()=>{t.current=e}),t}function IT(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[c,d]=v.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=v.useState(r);Qc(f,r)||h(r);const[m,g]=v.useState(null),[C,y]=v.useState(null),p=v.useCallback(ie=>{ie!=I.current&&(I.current=ie,g(ie))},[g]),w=v.useCallback(ie=>{ie!==M.current&&(M.current=ie,y(ie))},[y]),_=o||m,P=s||C,I=v.useRef(null),M=v.useRef(null),j=v.useRef(c),W=$y(l),K=$y(i),ae=v.useCallback(()=>{if(!I.current||!M.current)return;const ie={placement:t,strategy:n,middleware:f};K.current&&(ie.platform=K.current),OT(I.current,M.current,ie).then($e=>{const B={...$e,isPositioned:!0};V.current&&!Qc(j.current,B)&&(j.current=B,Ro.flushSync(()=>{d(B)}))})},[f,t,n,K]);Bu(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,d(ie=>({...ie,isPositioned:!1})))},[u]);const V=v.useRef(!1);Bu(()=>(V.current=!0,()=>{V.current=!1}),[]),Bu(()=>{if(_&&(I.current=_),P&&(M.current=P),_&&P){if(W.current)return W.current(_,P,ae);ae()}},[_,P,ae,W]);const X=v.useMemo(()=>({reference:I,floating:M,setReference:p,setFloating:w}),[p,w]),Q=v.useMemo(()=>({reference:_,floating:P}),[_,P]),we=v.useMemo(()=>{const ie={position:n,left:0,top:0};if(!Q.floating)return ie;const $e=Py(Q.floating,c.x),B=Py(Q.floating,c.y);return a?{...ie,transform:"translate("+$e+"px, "+B+"px)",...B1(Q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$e,top:B}},[n,a,Q.floating,c.x,c.y]);return v.useMemo(()=>({...c,update:ae,refs:X,elements:Q,floatingStyles:we}),[c,ae,X,Q,we])}function TT(e){const[t,n]=v.useState(void 0);return Xn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,u=Array.isArray(l)?l[0]:l;s=u.inlineSize,a=u.blockSize}else s=e.offsetWidth,a=e.offsetHeight;n({width:s,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const H1="Popper",[q1,Td]=Ws(H1),[NT,W1]=q1(H1),jT=e=>{const{__scopePopper:t,children:n}=e,[r,i]=v.useState(null);return v.createElement(NT,{scope:t,anchor:r,onAnchorChange:i},n)},FT="PopperAnchor",DT=v.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=W1(FT,n),s=v.useRef(null),a=Lt(t,s);return v.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:v.createElement(_t.div,Pe({},i,{ref:a}))}),G1="PopperContent",[LT,H3]=q1(G1),UT=v.forwardRef((e,t)=>{var n,r,i,o,s,a,l,u;const{__scopePopper:c,side:d="bottom",sideOffset:f=0,align:h="center",alignOffset:m=0,arrowPadding:g=0,avoidCollisions:C=!0,collisionBoundary:y=[],collisionPadding:p=0,sticky:w="partial",hideWhenDetached:_=!1,updatePositionStrategy:P="optimized",onPlaced:I,...M}=e,j=W1(G1,c),[W,K]=v.useState(null),ae=Lt(t,Nt=>K(Nt)),[V,X]=v.useState(null),Q=TT(V),we=(n=Q==null?void 0:Q.width)!==null&&n!==void 0?n:0,ie=(r=Q==null?void 0:Q.height)!==null&&r!==void 0?r:0,$e=d+(h!=="center"?"-"+h:""),B=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},ee=Array.isArray(y)?y:[y],ce=ee.length>0,Ee={padding:B,boundary:ee.filter(VT),altBoundary:ce},{refs:Ne,floatingStyles:De,placement:je,isPositioned:ct,middlewareData:Ye}=IT({strategy:"fixed",placement:$e,whileElementsMounted:(...Nt)=>AT(...Nt,{animationFrame:P==="always"}),elements:{reference:j.anchor},middleware:[uT({mainAxis:f+ie,alignmentAxis:m}),C&&cT({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?dT():void 0,...Ee}),C&&sT({...Ee}),fT({...Ee,apply:({elements:Nt,rects:tn,availableWidth:$,availableHeight:F})=>{const{width:L,height:se}=tn.reference,Z=Nt.floating.style;Z.setProperty("--radix-popper-available-width",`${$}px`),Z.setProperty("--radix-popper-available-height",`${F}px`),Z.setProperty("--radix-popper-anchor-width",`${L}px`),Z.setProperty("--radix-popper-anchor-height",`${se}px`)}}),V&&MT({element:V,padding:g}),zT({arrowWidth:we,arrowHeight:ie}),_&&aT({strategy:"referenceHidden",...Ee})]}),[de,Ce]=K1(je),ve=ti(I);Xn(()=>{ct&&(ve==null||ve())},[ct,ve]);const Me=(i=Ye.arrow)===null||i===void 0?void 0:i.x,Le=(o=Ye.arrow)===null||o===void 0?void 0:o.y,Ue=((s=Ye.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[ft,Et]=v.useState();return Xn(()=>{W&&Et(window.getComputedStyle(W).zIndex)},[W]),v.createElement("div",{ref:Ne.setFloating,"data-radix-popper-content-wrapper":"",style:{...De,transform:ct?De.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ft,"--radix-popper-transform-origin":[(a=Ye.transformOrigin)===null||a===void 0?void 0:a.x,(l=Ye.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:e.dir},v.createElement(LT,{scope:c,placedSide:de,onArrowChange:X,arrowX:Me,arrowY:Le,shouldHideArrow:Ue},v.createElement(_t.div,Pe({"data-side":de,"data-align":Ce},M,{ref:ae,style:{...M.style,animation:ct?void 0:"none",opacity:(u=Ye.hide)!==null&&u!==void 0&&u.referenceHidden?0:void 0}}))))});function VT(e){return e!==null}const zT=e=>({name:"transformOrigin",options:e,fn(t){var n,r,i,o,s;const{placement:a,rects:l,middlewareData:u}=t,d=((n=u.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,f=d?0:e.arrowWidth,h=d?0:e.arrowHeight,[m,g]=K1(a),C={start:"0%",center:"50%",end:"100%"}[g],y=((r=(i=u.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+f/2,p=((o=(s=u.arrow)===null||s===void 0?void 0:s.y)!==null&&o!==void 0?o:0)+h/2;let w="",_="";return m==="bottom"?(w=d?C:`${y}px`,_=`${-h}px`):m==="top"?(w=d?C:`${y}px`,_=`${l.floating.height+h}px`):m==="right"?(w=`${-h}px`,_=d?C:`${p}px`):m==="left"&&(w=`${l.floating.width+h}px`,_=d?C:`${p}px`),{data:{x:w,y:_}}}});function K1(e){const[t,n="center"]=e.split("-");return[t,n]}const Y1=jT,Z1=DT,J1=UT,X1=v.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=e;return r?sk.createPortal(v.createElement(_t.div,Pe({},i,{ref:t})),r):null});var BT=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Uo=new WeakMap,yu=new WeakMap,wu={},Bf=0,Q1=function(e){return e&&(e.host||Q1(e.parentNode))},HT=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Q1(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},qT=function(e,t,n,r){var i=HT(t,Array.isArray(e)?e:[e]);wu[n]||(wu[n]=new WeakMap);var o=wu[n],s=[],a=new Set,l=new Set(i),u=function(d){!d||a.has(d)||(a.add(d),u(d.parentNode))};i.forEach(u);var c=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))c(f);else{var h=f.getAttribute(r),m=h!==null&&h!=="false",g=(Uo.get(f)||0)+1,C=(o.get(f)||0)+1;Uo.set(f,g),o.set(f,C),s.push(f),g===1&&m&&yu.set(f,!0),C===1&&f.setAttribute(n,"true"),m||f.setAttribute(r,"true")}})};return c(t),a.clear(),Bf++,function(){s.forEach(function(d){var f=Uo.get(d)-1,h=o.get(d)-1;Uo.set(d,f),o.set(d,h),f||(yu.has(d)||d.removeAttribute(r),yu.delete(d)),h||d.removeAttribute(n)}),Bf--,Bf||(Uo=new WeakMap,Uo=new WeakMap,yu=new WeakMap,wu={})}},eS=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=t||BT(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),qT(r,i,n,"aria-hidden")):function(){return null}},Hu="right-scroll-bar-position",qu="width-before-scroll-bar",WT="with-scroll-bars-hidden",GT="--removed-body-scroll-bar-size";function KT(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function YT(e,t){var n=v.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}function ZT(e,t){return YT(t||null,function(n){return e.forEach(function(r){return KT(r,n)})})}function JT(e){return e}function XT(e,t){t===void 0&&(t=JT);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var c=s;s=[],c.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(c){s.push(c),u()},filter:function(c){return s=s.filter(c),n}}}};return i}function QT(e){e===void 0&&(e={});var t=XT(null);return t.options=Sr({async:!0,ssr:!1},e),t}var tS=function(e){var t=e.sideCar,n=eb(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Sr({},n))};tS.isSideCarExport=!0;function eN(e,t){return e.useMedium(t),tS}var nS=QT(),Hf=function(){},Nd=v.forwardRef(function(e,t){var n=v.useRef(null),r=v.useState({onScrollCapture:Hf,onWheelCapture:Hf,onTouchMoveCapture:Hf}),i=r[0],o=r[1],s=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,d=e.shards,f=e.sideCar,h=e.noIsolation,m=e.inert,g=e.allowPinchZoom,C=e.as,y=C===void 0?"div":C,p=eb(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=f,_=ZT([n,t]),P=Sr(Sr({},p),i);return v.createElement(v.Fragment,null,c&&v.createElement(w,{sideCar:nS,removeScrollBar:u,shards:d,noIsolation:h,inert:m,setCallbacks:o,allowPinchZoom:!!g,lockRef:n}),s?v.cloneElement(v.Children.only(a),Sr(Sr({},P),{ref:_})):v.createElement(y,Sr({},P,{className:l,ref:_}),a))});Nd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nd.classNames={fullWidth:qu,zeroRight:Hu};var Ay,tN=function(){if(Ay)return Ay;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function nN(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=tN();return t&&e.setAttribute("nonce",t),e}function rN(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function iN(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var oN=function(){var e=0,t=null;return{add:function(n){e==0&&(t=nN())&&(rN(t,n),iN(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},sN=function(){var e=oN();return function(t,n){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},rS=function(){var e=sN(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},aN={left:0,top:0,right:0,gap:0},qf=function(e){return parseInt(e||"",10)||0},lN=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[qf(n),qf(r),qf(i)]},uN=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return aN;var t=lN(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},cN=rS(),dN=function(e,t,n,r){var i=e.left,o=e.top,s=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(WT,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hu,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(qu,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Hu," .").concat(Hu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(qu," .").concat(qu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(GT,": ").concat(a,`px;
  }
`)},fN=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r,o=v.useMemo(function(){return uN(i)},[i]);return v.createElement(cN,{styles:dN(o,!t,i,n?"":"!important")})},Tp=!1;if(typeof window<"u")try{var xu=Object.defineProperty({},"passive",{get:function(){return Tp=!0,!0}});window.addEventListener("test",xu,xu),window.removeEventListener("test",xu,xu)}catch{Tp=!1}var Vo=Tp?{passive:!1}:!1,hN=function(e){return e.tagName==="TEXTAREA"},iS=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!hN(e)&&n[t]==="visible")},pN=function(e){return iS(e,"overflowY")},mN=function(e){return iS(e,"overflowX")},Oy=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=oS(e,n);if(r){var i=sS(e,n),o=i[1],s=i[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},gN=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},vN=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},oS=function(e,t){return e==="v"?pN(t):mN(t)},sS=function(e,t){return e==="v"?gN(t):vN(t)},yN=function(e,t){return e==="h"&&t==="rtl"?-1:1},wN=function(e,t,n,r,i){var o=yN(e,window.getComputedStyle(t).direction),s=o*r,a=n.target,l=t.contains(a),u=!1,c=s>0,d=0,f=0;do{var h=sS(e,a),m=h[0],g=h[1],C=h[2],y=g-C-o*m;(m||y)&&oS(e,a)&&(d+=y,f+=m),a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(c&&(i&&d===0||!i&&s>d)||!c&&(i&&f===0||!i&&-s>f))&&(u=!0),u},_u=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},My=function(e){return[e.deltaX,e.deltaY]},Iy=function(e){return e&&"current"in e?e.current:e},xN=function(e,t){return e[0]===t[0]&&e[1]===t[1]},_N=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},bN=0,zo=[];function SN(e){var t=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),i=v.useState(bN++)[0],o=v.useState(function(){return rS()})[0],s=v.useRef(e);v.useEffect(function(){s.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=ml([e.lockRef.current],(e.shards||[]).map(Iy),!0).filter(Boolean);return g.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=v.useCallback(function(g,C){if("touches"in g&&g.touches.length===2)return!s.current.allowPinchZoom;var y=_u(g),p=n.current,w="deltaX"in g?g.deltaX:p[0]-y[0],_="deltaY"in g?g.deltaY:p[1]-y[1],P,I=g.target,M=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in g&&M==="h"&&I.type==="range")return!1;var j=Oy(M,I);if(!j)return!0;if(j?P=M:(P=M==="v"?"h":"v",j=Oy(M,I)),!j)return!1;if(!r.current&&"changedTouches"in g&&(w||_)&&(r.current=P),!P)return!0;var W=r.current||P;return wN(W,C,g,W==="h"?w:_,!0)},[]),l=v.useCallback(function(g){var C=g;if(!(!zo.length||zo[zo.length-1]!==o)){var y="deltaY"in C?My(C):_u(C),p=t.current.filter(function(P){return P.name===C.type&&P.target===C.target&&xN(P.delta,y)})[0];if(p&&p.should){C.cancelable&&C.preventDefault();return}if(!p){var w=(s.current.shards||[]).map(Iy).filter(Boolean).filter(function(P){return P.contains(C.target)}),_=w.length>0?a(C,w[0]):!s.current.noIsolation;_&&C.cancelable&&C.preventDefault()}}},[]),u=v.useCallback(function(g,C,y,p){var w={name:g,delta:C,target:y,should:p};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),c=v.useCallback(function(g){n.current=_u(g),r.current=void 0},[]),d=v.useCallback(function(g){u(g.type,My(g),g.target,a(g,e.lockRef.current))},[]),f=v.useCallback(function(g){u(g.type,_u(g),g.target,a(g,e.lockRef.current))},[]);v.useEffect(function(){return zo.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Vo),document.addEventListener("touchmove",l,Vo),document.addEventListener("touchstart",c,Vo),function(){zo=zo.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,Vo),document.removeEventListener("touchmove",l,Vo),document.removeEventListener("touchstart",c,Vo)}},[]);var h=e.removeScrollBar,m=e.inert;return v.createElement(v.Fragment,null,m?v.createElement(o,{styles:_N(i)}):null,h?v.createElement(fN,{gapMode:"margin"}):null)}const CN=eN(nS,SN);var aS=v.forwardRef(function(e,t){return v.createElement(Nd,Sr({},e,{ref:t,sideCar:CN}))});aS.classNames=Nd.classNames;const lS=aS,uS="Popover",[cS,q3]=Ws(uS,[Td]),Pg=Td(),[EN,Ys]=cS(uS),kN=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!1}=e,a=Pg(t),l=v.useRef(null),[u,c]=v.useState(!1),[d=!1,f]=Is({prop:r,defaultProp:i,onChange:o});return v.createElement(Y1,a,v.createElement(EN,{scope:t,contentId:Nl(),triggerRef:l,open:d,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(h=>!h),[f]),hasCustomAnchor:u,onCustomAnchorAdd:v.useCallback(()=>c(!0),[]),onCustomAnchorRemove:v.useCallback(()=>c(!1),[]),modal:s},n))},RN="PopoverTrigger",PN=v.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Ys(RN,n),o=Pg(n),s=Lt(t,i.triggerRef),a=v.createElement(_t.button,Pe({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":hS(i.open)},r,{ref:s,onClick:Ot(e.onClick,i.onOpenToggle)}));return i.hasCustomAnchor?a:v.createElement(Z1,Pe({asChild:!0},o),a)}),dS="PopoverPortal",[$N,AN]=cS(dS,{forceMount:void 0}),ON=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,o=Ys(dS,t);return v.createElement($N,{scope:t,forceMount:n},v.createElement(Cd,{present:n||o.open},v.createElement(X1,{asChild:!0,container:i},r)))},_l="PopoverContent",MN=v.forwardRef((e,t)=>{const n=AN(_l,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,o=Ys(_l,e.__scopePopover);return v.createElement(Cd,{present:r||o.open},o.modal?v.createElement(IN,Pe({},i,{ref:t})):v.createElement(TN,Pe({},i,{ref:t})))}),IN=v.forwardRef((e,t)=>{const n=Ys(_l,e.__scopePopover),r=v.useRef(null),i=Lt(t,r),o=v.useRef(!1);return v.useEffect(()=>{const s=r.current;if(s)return eS(s)},[]),v.createElement(lS,{as:ni,allowPinchZoom:!0},v.createElement(fS,Pe({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ot(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),o.current||(a=n.triggerRef.current)===null||a===void 0||a.focus()}),onPointerDownOutside:Ot(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,u=a.button===2||l;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ot(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})))}),TN=v.forwardRef((e,t)=>{const n=Ys(_l,e.__scopePopover),r=v.useRef(!1),i=v.useRef(!1);return v.createElement(fS,Pe({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s;if((s=e.onCloseAutoFocus)===null||s===void 0||s.call(e,o),!o.defaultPrevented){var a;r.current||(a=n.triggerRef.current)===null||a===void 0||a.focus(),o.preventDefault()}r.current=!1,i.current=!1},onInteractOutside:o=>{var s,a;(s=e.onInteractOutside)===null||s===void 0||s.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;((a=n.triggerRef.current)===null||a===void 0?void 0:a.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),fS=v.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:c,...d}=e,f=Ys(_l,n),h=Pg(n);return M1(),v.createElement(I1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o},v.createElement(A1,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:c,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1)},v.createElement(J1,Pe({"data-state":hS(f.open),role:"dialog",id:f.contentId},h,d,{ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function hS(e){return e?"open":"closed"}const NN=kN,jN=PN,FN=ON,pS=MN,DN=NN,LN=jN,mS=v.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>R.jsx(FN,{children:R.jsx(pS,{ref:i,align:t,sideOffset:n,className:ze("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));mS.displayName=pS.displayName;function Ty(e,[t,n]){return Math.min(n,Math.max(t,e))}function UN(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const VN=v.forwardRef((e,t)=>v.createElement(_t.span,Pe({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),zN=[" ","Enter","ArrowUp","ArrowDown"],BN=[" ","Enter"],jd="Select",[Fd,$g,HN]=qb(jd),[Zs,W3]=Ws(jd,[HN,Td]),Ag=Td(),[qN,Ao]=Zs(jd),[WN,GN]=Zs(jd),KN=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:l,dir:u,name:c,autoComplete:d,disabled:f,required:h}=e,m=Ag(t),[g,C]=v.useState(null),[y,p]=v.useState(null),[w,_]=v.useState(!1),P=Wb(u),[I=!1,M]=Is({prop:r,defaultProp:i,onChange:o}),[j,W]=Is({prop:s,defaultProp:a,onChange:l}),K=v.useRef(null),ae=g?!!g.closest("form"):!0,[V,X]=v.useState(new Set),Q=Array.from(V).map(we=>we.props.value).join(";");return v.createElement(Y1,m,v.createElement(qN,{required:h,scope:t,trigger:g,onTriggerChange:C,valueNode:y,onValueNodeChange:p,valueNodeHasChildren:w,onValueNodeHasChildrenChange:_,contentId:Nl(),value:j,onValueChange:W,open:I,onOpenChange:M,dir:P,triggerPointerDownPosRef:K,disabled:f},v.createElement(Fd.Provider,{scope:t},v.createElement(WN,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(we=>{X(ie=>new Set(ie).add(we))},[]),onNativeOptionRemove:v.useCallback(we=>{X(ie=>{const $e=new Set(ie);return $e.delete(we),$e})},[])},n)),ae?v.createElement(wS,{key:Q,"aria-hidden":!0,required:h,tabIndex:-1,name:c,autoComplete:d,value:j,onChange:we=>W(we.target.value),disabled:f},j===void 0?v.createElement("option",{value:""}):null,Array.from(V)):null))},YN="SelectTrigger",ZN=v.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,o=Ag(n),s=Ao(YN,n),a=s.disabled||r,l=Lt(t,s.onTriggerChange),u=$g(n),[c,d,f]=xS(m=>{const g=u().filter(p=>!p.disabled),C=g.find(p=>p.value===s.value),y=_S(g,m,C);y!==void 0&&s.onValueChange(y.value)}),h=()=>{a||(s.onOpenChange(!0),f())};return v.createElement(Z1,Pe({asChild:!0},o),v.createElement(_t.button,Pe({type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":yS(s.value)?"":void 0},i,{ref:l,onClick:Ot(i.onClick,m=>{m.currentTarget.focus()}),onPointerDown:Ot(i.onPointerDown,m=>{const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&(h(),s.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)},m.preventDefault())}),onKeyDown:Ot(i.onKeyDown,m=>{const g=c.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&d(m.key),!(g&&m.key===" ")&&zN.includes(m.key)&&(h(),m.preventDefault())})})))}),JN="SelectValue",XN=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=e,l=Ao(JN,n),{onValueNodeHasChildrenChange:u}=l,c=o!==void 0,d=Lt(t,l.onValueNodeChange);return Xn(()=>{u(c)},[u,c]),v.createElement(_t.span,Pe({},a,{ref:d,style:{pointerEvents:"none"}}),yS(l.value)?v.createElement(v.Fragment,null,s):o)}),QN=v.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return v.createElement(_t.span,Pe({"aria-hidden":!0},i,{ref:t}),r||"")}),e3=e=>v.createElement(X1,Pe({asChild:!0},e)),Ls="SelectContent",t3=v.forwardRef((e,t)=>{const n=Ao(Ls,e.__scopeSelect),[r,i]=v.useState();if(Xn(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Ro.createPortal(v.createElement(gS,{scope:e.__scopeSelect},v.createElement(Fd.Slot,{scope:e.__scopeSelect},v.createElement("div",null,e.children))),o):null}return v.createElement(n3,Pe({},e,{ref:t}))}),Ur=10,[gS,Dd]=Zs(Ls),n3=v.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:l,align:u,alignOffset:c,arrowPadding:d,collisionBoundary:f,collisionPadding:h,sticky:m,hideWhenDetached:g,avoidCollisions:C,...y}=e,p=Ao(Ls,n),[w,_]=v.useState(null),[P,I]=v.useState(null),M=Lt(t,de=>_(de)),[j,W]=v.useState(null),[K,ae]=v.useState(null),V=$g(n),[X,Q]=v.useState(!1),we=v.useRef(!1);v.useEffect(()=>{if(w)return eS(w)},[w]),M1();const ie=v.useCallback(de=>{const[Ce,...ve]=V().map(Ue=>Ue.ref.current),[Me]=ve.slice(-1),Le=document.activeElement;for(const Ue of de)if(Ue===Le||(Ue==null||Ue.scrollIntoView({block:"nearest"}),Ue===Ce&&P&&(P.scrollTop=0),Ue===Me&&P&&(P.scrollTop=P.scrollHeight),Ue==null||Ue.focus(),document.activeElement!==Le))return},[V,P]),$e=v.useCallback(()=>ie([j,w]),[ie,j,w]);v.useEffect(()=>{X&&$e()},[X,$e]);const{onOpenChange:B,triggerPointerDownPosRef:ee}=p;v.useEffect(()=>{if(w){let de={x:0,y:0};const Ce=Me=>{var Le,Ue,ft,Et;de={x:Math.abs(Math.round(Me.pageX)-((Le=(Ue=ee.current)===null||Ue===void 0?void 0:Ue.x)!==null&&Le!==void 0?Le:0)),y:Math.abs(Math.round(Me.pageY)-((ft=(Et=ee.current)===null||Et===void 0?void 0:Et.y)!==null&&ft!==void 0?ft:0))}},ve=Me=>{de.x<=10&&de.y<=10?Me.preventDefault():w.contains(Me.target)||B(!1),document.removeEventListener("pointermove",Ce),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",Ce),document.addEventListener("pointerup",ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ce),document.removeEventListener("pointerup",ve,{capture:!0})}}},[w,B,ee]),v.useEffect(()=>{const de=()=>B(!1);return window.addEventListener("blur",de),window.addEventListener("resize",de),()=>{window.removeEventListener("blur",de),window.removeEventListener("resize",de)}},[B]);const[ce,Ee]=xS(de=>{const Ce=V().filter(Le=>!Le.disabled),ve=Ce.find(Le=>Le.ref.current===document.activeElement),Me=_S(Ce,de,ve);Me&&setTimeout(()=>Me.ref.current.focus())}),Ne=v.useCallback((de,Ce,ve)=>{const Me=!we.current&&!ve;(p.value!==void 0&&p.value===Ce||Me)&&(W(de),Me&&(we.current=!0))},[p.value]),De=v.useCallback(()=>w==null?void 0:w.focus(),[w]),je=v.useCallback((de,Ce,ve)=>{const Me=!we.current&&!ve;(p.value!==void 0&&p.value===Ce||Me)&&ae(de)},[p.value]),ct=r==="popper"?Ny:r3,Ye=ct===Ny?{side:a,sideOffset:l,align:u,alignOffset:c,arrowPadding:d,collisionBoundary:f,collisionPadding:h,sticky:m,hideWhenDetached:g,avoidCollisions:C}:{};return v.createElement(gS,{scope:n,content:w,viewport:P,onViewportChange:I,itemRefCallback:Ne,selectedItem:j,onItemLeave:De,itemTextRefCallback:je,focusSelectedItem:$e,selectedItemText:K,position:r,isPositioned:X,searchRef:ce},v.createElement(lS,{as:ni,allowPinchZoom:!0},v.createElement(I1,{asChild:!0,trapped:p.open,onMountAutoFocus:de=>{de.preventDefault()},onUnmountAutoFocus:Ot(i,de=>{var Ce;(Ce=p.trigger)===null||Ce===void 0||Ce.focus({preventScroll:!0}),de.preventDefault()})},v.createElement(A1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:de=>de.preventDefault(),onDismiss:()=>p.onOpenChange(!1)},v.createElement(ct,Pe({role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:de=>de.preventDefault()},y,Ye,{onPlaced:()=>Q(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Ot(y.onKeyDown,de=>{const Ce=de.ctrlKey||de.altKey||de.metaKey;if(de.key==="Tab"&&de.preventDefault(),!Ce&&de.key.length===1&&Ee(de.key),["ArrowUp","ArrowDown","Home","End"].includes(de.key)){let Me=V().filter(Le=>!Le.disabled).map(Le=>Le.ref.current);if(["ArrowUp","End"].includes(de.key)&&(Me=Me.slice().reverse()),["ArrowUp","ArrowDown"].includes(de.key)){const Le=de.target,Ue=Me.indexOf(Le);Me=Me.slice(Ue+1)}setTimeout(()=>ie(Me)),de.preventDefault()}})}))))))}),r3=v.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,o=Ao(Ls,n),s=Dd(Ls,n),[a,l]=v.useState(null),[u,c]=v.useState(null),d=Lt(t,M=>c(M)),f=$g(n),h=v.useRef(!1),m=v.useRef(!0),{viewport:g,selectedItem:C,selectedItemText:y,focusSelectedItem:p}=s,w=v.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&g&&C&&y){const M=o.trigger.getBoundingClientRect(),j=u.getBoundingClientRect(),W=o.valueNode.getBoundingClientRect(),K=y.getBoundingClientRect();if(o.dir!=="rtl"){const Le=K.left-j.left,Ue=W.left-Le,ft=M.left-Ue,Et=M.width+ft,Nt=Math.max(Et,j.width),tn=window.innerWidth-Ur,$=Ty(Ue,[Ur,tn-Nt]);a.style.minWidth=Et+"px",a.style.left=$+"px"}else{const Le=j.right-K.right,Ue=window.innerWidth-W.right-Le,ft=window.innerWidth-M.right-Ue,Et=M.width+ft,Nt=Math.max(Et,j.width),tn=window.innerWidth-Ur,$=Ty(Ue,[Ur,tn-Nt]);a.style.minWidth=Et+"px",a.style.right=$+"px"}const ae=f(),V=window.innerHeight-Ur*2,X=g.scrollHeight,Q=window.getComputedStyle(u),we=parseInt(Q.borderTopWidth,10),ie=parseInt(Q.paddingTop,10),$e=parseInt(Q.borderBottomWidth,10),B=parseInt(Q.paddingBottom,10),ee=we+ie+X+B+$e,ce=Math.min(C.offsetHeight*5,ee),Ee=window.getComputedStyle(g),Ne=parseInt(Ee.paddingTop,10),De=parseInt(Ee.paddingBottom,10),je=M.top+M.height/2-Ur,ct=V-je,Ye=C.offsetHeight/2,de=C.offsetTop+Ye,Ce=we+ie+de,ve=ee-Ce;if(Ce<=je){const Le=C===ae[ae.length-1].ref.current;a.style.bottom="0px";const Ue=u.clientHeight-g.offsetTop-g.offsetHeight,ft=Math.max(ct,Ye+(Le?De:0)+Ue+$e),Et=Ce+ft;a.style.height=Et+"px"}else{const Le=C===ae[0].ref.current;a.style.top="0px";const ft=Math.max(je,we+g.offsetTop+(Le?Ne:0)+Ye)+ve;a.style.height=ft+"px",g.scrollTop=Ce-je+g.offsetTop}a.style.margin=`${Ur}px 0`,a.style.minHeight=ce+"px",a.style.maxHeight=V+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[f,o.trigger,o.valueNode,a,u,g,C,y,o.dir,r]);Xn(()=>w(),[w]);const[_,P]=v.useState();Xn(()=>{u&&P(window.getComputedStyle(u).zIndex)},[u]);const I=v.useCallback(M=>{M&&m.current===!0&&(w(),p==null||p(),m.current=!1)},[w,p]);return v.createElement(i3,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:h,onScrollButtonChange:I},v.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_}},v.createElement(_t.div,Pe({},i,{ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),Ny=v.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Ur,...o}=e,s=Ag(n);return v.createElement(J1,Pe({},s,o,{ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[i3,o3]=Zs(Ls,{}),jy="SelectViewport",s3=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Dd(jy,n),o=o3(jy,n),s=Lt(t,i.onViewportChange),a=v.useRef(0);return v.createElement(v.Fragment,null,v.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),v.createElement(Fd.Slot,{scope:n},v.createElement(_t.div,Pe({"data-radix-select-viewport":"",role:"presentation"},r,{ref:s,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:Ot(r.onScroll,l=>{const u=l.currentTarget,{contentWrapper:c,shouldExpandOnScrollRef:d}=o;if(d!=null&&d.current&&c){const f=Math.abs(a.current-u.scrollTop);if(f>0){const h=window.innerHeight-Ur*2,m=parseFloat(c.style.minHeight),g=parseFloat(c.style.height),C=Math.max(m,g);if(C<h){const y=C+f,p=Math.min(h,y),w=y-p;c.style.height=p+"px",c.style.bottom==="0px"&&(u.scrollTop=w>0?w:0,c.style.justifyContent="flex-end")}}}a.current=u.scrollTop})}))))}),a3="SelectGroup",[G3,l3]=Zs(a3),u3="SelectLabel",c3=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=l3(u3,n);return v.createElement(_t.div,Pe({id:i.id},r,{ref:t}))}),Np="SelectItem",[d3,vS]=Zs(Np),f3=v.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=e,a=Ao(Np,n),l=Dd(Np,n),u=a.value===r,[c,d]=v.useState(o??""),[f,h]=v.useState(!1),m=Lt(t,y=>{var p;return(p=l.itemRefCallback)===null||p===void 0?void 0:p.call(l,y,r,i)}),g=Nl(),C=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return v.createElement(d3,{scope:n,value:r,disabled:i,textId:g,isSelected:u,onItemTextChange:v.useCallback(y=>{d(p=>{var w;return p||((w=y==null?void 0:y.textContent)!==null&&w!==void 0?w:"").trim()})},[])},v.createElement(Fd.ItemSlot,{scope:n,value:r,disabled:i,textValue:c},v.createElement(_t.div,Pe({role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},s,{ref:m,onFocus:Ot(s.onFocus,()=>h(!0)),onBlur:Ot(s.onBlur,()=>h(!1)),onPointerUp:Ot(s.onPointerUp,C),onPointerMove:Ot(s.onPointerMove,y=>{if(i){var p;(p=l.onItemLeave)===null||p===void 0||p.call(l)}else y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ot(s.onPointerLeave,y=>{if(y.currentTarget===document.activeElement){var p;(p=l.onItemLeave)===null||p===void 0||p.call(l)}}),onKeyDown:Ot(s.onKeyDown,y=>{var p;((p=l.searchRef)===null||p===void 0?void 0:p.current)!==""&&y.key===" "||(BN.includes(y.key)&&C(),y.key===" "&&y.preventDefault())})}))))}),bu="SelectItemText",h3=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...o}=e,s=Ao(bu,n),a=Dd(bu,n),l=vS(bu,n),u=GN(bu,n),[c,d]=v.useState(null),f=Lt(t,y=>d(y),l.onItemTextChange,y=>{var p;return(p=a.itemTextRefCallback)===null||p===void 0?void 0:p.call(a,y,l.value,l.disabled)}),h=c==null?void 0:c.textContent,m=v.useMemo(()=>v.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},h),[l.disabled,l.value,h]),{onNativeOptionAdd:g,onNativeOptionRemove:C}=u;return Xn(()=>(g(m),()=>C(m)),[g,C,m]),v.createElement(v.Fragment,null,v.createElement(_t.span,Pe({id:l.textId},o,{ref:f})),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Ro.createPortal(o.children,s.valueNode):null)}),p3="SelectItemIndicator",m3=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return vS(p3,n).isSelected?v.createElement(_t.span,Pe({"aria-hidden":!0},r,{ref:t})):null}),g3=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return v.createElement(_t.div,Pe({"aria-hidden":!0},r,{ref:t}))});function yS(e){return e===""||e===void 0}const wS=v.forwardRef((e,t)=>{const{value:n,...r}=e,i=v.useRef(null),o=Lt(t,i),s=UN(n);return v.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,c=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&c){const d=new Event("change",{bubbles:!0});c.call(a,n),a.dispatchEvent(d)}},[s,n]),v.createElement(VN,{asChild:!0},v.createElement("select",Pe({},r,{ref:o,defaultValue:n})))});wS.displayName="BubbleSelect";function xS(e){const t=ti(e),n=v.useRef(""),r=v.useRef(0),i=v.useCallback(s=>{const a=n.current+s;t(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),o=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function _S(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let s=v3(e,Math.max(o,0));i.length===1&&(s=s.filter(u=>u!==n));const l=s.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function v3(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const y3=KN,bS=ZN,w3=XN,x3=QN,_3=e3,SS=t3,b3=s3,CS=c3,ES=f3,S3=h3,C3=m3,kS=g3,E3=y3,k3=w3,RS=v.forwardRef(({className:e,children:t,...n},r)=>R.jsxs(bS,{ref:r,className:ze("flex h-9 w-full items-center justify-between rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:[t,R.jsx(x3,{asChild:!0,children:R.jsx(RM,{className:"h-4 w-4 opacity-50"})})]}));RS.displayName=bS.displayName;const PS=v.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>R.jsx(_3,{children:R.jsx(SS,{ref:i,className:ze("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:R.jsx(b3,{className:ze("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})}));PS.displayName=SS.displayName;const R3=v.forwardRef(({className:e,...t},n)=>R.jsx(CS,{ref:n,className:ze("px-2 py-1.5 text-sm font-semibold",e),...t}));R3.displayName=CS.displayName;const Wu=v.forwardRef(({className:e,children:t,...n},r)=>R.jsxs(ES,{ref:r,className:ze("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[R.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:R.jsx(C3,{children:R.jsx($M,{className:"h-4 w-4"})})}),R.jsx(S3,{children:t})]}));Wu.displayName=ES.displayName;const P3=v.forwardRef(({className:e,...t},n)=>R.jsx(kS,{ref:n,className:ze("-mx-1 my-1 h-px bg-muted",e),...t}));P3.displayName=kS.displayName;globalThis&&globalThis.__awaiter;function $3(e){const t=v.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return $S(()=>{t.current=e},[e]),v.useCallback((...n)=>t.current(...n),[t])}function Fy(e,t,n,r){const i=v.useRef(t);$S(()=>{i.current=t},[t]),v.useEffect(()=>{var o;const s=(o=n==null?void 0:n.current)!==null&&o!==void 0?o:window;if(!(s&&s.addEventListener))return;const a=l=>i.current(l);return s.addEventListener(e,a,r),()=>{s.removeEventListener(e,a,r)}},[e,n,r])}globalThis&&globalThis.__awaiter;const $S=typeof window<"u"?v.useLayoutEffect:v.useEffect;function A3(e,t){const n=v.useCallback(()=>{if(typeof window>"u")return t;try{const a=window.localStorage.getItem(e);return a?O3(a):t}catch(a){return console.warn(`Error reading localStorage key ${e}:`,a),t}},[t,e]),[r,i]=v.useState(n),o=$3(a=>{typeof window>"u"&&console.warn(`Tried setting localStorage key ${e} even though environment is not a client`);try{const l=a instanceof Function?a(r):a;window.localStorage.setItem(e,JSON.stringify(l)),i(l),window.dispatchEvent(new Event("local-storage"))}catch(l){console.warn(`Error setting localStorage key ${e}:`,l)}});v.useEffect(()=>{i(n())},[]);const s=v.useCallback(a=>{a!=null&&a.key&&a.key!==e||i(n())},[e,n]);return Fy("storage",s),Fy("local-storage",s),[r,o]}function O3(e){try{return e==="undefined"?void 0:JSON.parse(e??"")}catch{console.log("parsing error on",{value:e});return}}const AS=v.createContext({darkMode:"system",setDarkMode:()=>null});function M3({children:e}){const[t,n]=A3("theme","system");return v.useEffect(()=>{t==="dark"||t==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]),R.jsx(AS.Provider,{value:{darkMode:t,setDarkMode:n},children:e})}function I3(){return v.useContext(AS)}const OS=v.forwardRef((e,t)=>{const{darkMode:n,setDarkMode:r}=I3();return R.jsxs(E3,{onValueChange:r,value:n,children:[R.jsx(RS,{ref:t,className:"w-full",...e,children:R.jsx(k3,{placeholder:"Select a fruit"})}),R.jsxs(PS,{children:[R.jsx(Wu,{value:"dark",children:"Dark"}),R.jsx(Wu,{value:"light",children:"Light"}),R.jsx(Wu,{value:"system",children:"Follow System"})]})]})});OS.displayName="DarkModeToggle";function T3(){const[e,t]=v.useState(!1);return R.jsxs(DN,{open:e,onOpenChange:t,children:[R.jsx(LN,{asChild:!0,onClick:()=>t(!e),children:R.jsxs(Ed,{variant:"ghost",size:"icon",className:"h-6 w-6 p-0.5",children:[R.jsx(ER,{className:"h-full w-full"}),R.jsx("div",{className:"sr-only",children:"Settings"})]})}),R.jsxs(mS,{side:"bottom",align:"end",children:[R.jsxs(N3,{children:[R.jsx(Dy,{children:"Display"}),R.jsxs("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[R.jsx(_g,{htmlFor:"dark-mode",children:"Dark Mode"}),R.jsx(OS,{id:"dark-mode"})]})]}),R.jsx(Dy,{children:"Lattice Configuration"}),R.jsx(DI,{onSave:()=>t(!1)})]})]})}function N3({children:e}){return R.jsx("div",{className:"mb-6",children:e})}function Dy({children:e}){return R.jsx("div",{className:"mb-3 font-semibold",children:e})}function j3(){return R.jsx("div",{className:"rounded-xl bg-brand p-2 text-brand-foreground md:p-4",children:R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsx("div",{className:"",children:R.jsx(qM,{})}),R.jsx(T3,{})]})})}function F3(){return R.jsxs("div",{className:"mx-auto flex w-full max-w-7xl flex-col gap-2 p-2 md:gap-4 md:p-6",children:[R.jsx(j3,{}),R.jsx("div",{className:"flex flex-col",children:R.jsx(hR,{})})]})}const D3=[{element:R.jsx(F3,{}),children:[{index:!0,path:"/",element:R.jsx(HM,{}),handle:{breadcrumbTitle:"Washboard",title:"Washboard",icon:R.jsx(CR,{})}}]}];function L3(){return R.jsx(wR,{components:[M3],children:R.jsx(dR,{router:gR(D3)})})}e_(document.querySelector("#root")).render(R.jsx(v.StrictMode,{children:R.jsx(L3,{})}))});export default U3();
